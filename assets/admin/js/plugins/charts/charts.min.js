document.createElement("canvas").getContext||!function(){function t(){return this.context_||(this.context_=new b(this))}function e(t,e,i){var a=O.call(arguments,2);return function(){return t.apply(e,a.concat(O.call(arguments)))}}function i(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function a(t,e,i){t.namespaces[e]||t.namespaces.add(e,i,"#default#VML")}function n(t){if(a(t,"g_vml_","urn:schemas-microsoft-com:vml"),a(t,"g_o_","urn:schemas-microsoft-com:office:office"),!t.styleSheets.ex_canvas_){var e=t.createStyleSheet();e.owningElement.id="ex_canvas_",e.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"}}function r(t){var e=t.srcElement;switch(t.propertyName){case"width":e.getContext().clearRect(),e.style.width=e.attributes.width.nodeValue+"px",e.firstChild.style.width=e.clientWidth+"px";break;case"height":e.getContext().clearRect(),e.style.height=e.attributes.height.nodeValue+"px",e.firstChild.style.height=e.clientHeight+"px"}}function s(t){var e=t.srcElement;e.firstChild&&(e.firstChild.style.width=e.clientWidth+"px",e.firstChild.style.height=e.clientHeight+"px")}function o(){return[[1,0,0],[0,1,0],[0,0,1]]}function l(t,e){for(var i=o(),a=0;3>a;a++)for(var n=0;3>n;n++){for(var r=0,s=0;3>s;s++)r+=t[a][s]*e[s][n];i[a][n]=r}return i}function h(t,e){e.fillStyle=t.fillStyle,e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.shadowBlur=t.shadowBlur,e.shadowColor=t.shadowColor,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY,e.strokeStyle=t.strokeStyle,e.globalAlpha=t.globalAlpha,e.font=t.font,e.textAlign=t.textAlign,e.textBaseline=t.textBaseline,e.arcScaleX_=t.arcScaleX_,e.arcScaleY_=t.arcScaleY_,e.lineScale_=t.lineScale_}function c(t){var e=t.indexOf("(",3),i=t.indexOf(")",e+1),a=t.substring(e+1,i).split(",");return(4!=a.length||"a"!=t.charAt(3))&&(a[3]=1),a}function u(t){return parseFloat(t)/100}function p(t,e,i){return Math.min(i,Math.max(e,t))}function d(t){var e,i,a,n,r,s;if(n=parseFloat(t[0])/360%360,0>n&&n++,r=p(u(t[1]),0,1),s=p(u(t[2]),0,1),0==r)e=i=a=s;else{var o=.5>s?s*(1+r):s+r-s*r,l=2*s-o;e=g(l,o,n+1/3),i=g(l,o,n),a=g(l,o,n-1/3)}return"#"+j[Math.floor(255*e)]+j[Math.floor(255*i)]+j[Math.floor(255*a)]}function g(t,e,i){return 0>i&&i++,i>1&&i--,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+(e-t)*(2/3-i)*6:t}function f(t){if(t in V)return V[t];var e,i=1;if(t=String(t),"#"==t.charAt(0))e=t;else if(/^rgb/.test(t)){for(var a,n=c(t),e="#",r=0;3>r;r++)a=-1!=n[r].indexOf("%")?Math.floor(255*u(n[r])):+n[r],e+=j[p(a,0,255)];i=+n[3]}else if(/^hsl/.test(t)){var n=c(t);e=d(n),i=n[3]}else e=Y[t]||t;return V[t]={color:e,alpha:i}}function m(t){if(G[t])return G[t];var e=document.createElement("div"),i=e.style;try{i.font=t}catch(a){}return G[t]={style:i.fontStyle||U.style,variant:i.fontVariant||U.variant,weight:i.fontWeight||U.weight,size:i.fontSize||U.size,family:i.fontFamily||U.family}}function v(t,e){var i={};for(var a in t)i[a]=t[a];var n=parseFloat(e.currentStyle.fontSize),r=parseFloat(t.size);return"number"==typeof t.size?i.size=t.size:-1!=t.size.indexOf("px")?i.size=r:-1!=t.size.indexOf("em")?i.size=n*r:-1!=t.size.indexOf("%")?i.size=n/100*r:-1!=t.size.indexOf("pt")?i.size=r/.75:i.size=n,i.size*=.981,i}function x(t){return t.style+" "+t.variant+" "+t.weight+" "+t.size+"px "+t.family}function y(t){return $[t]||"square"}function b(t){this.m_=o(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*L,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=t;var e="width:"+t.clientWidth+"px;height:"+t.clientHeight+"px;overflow:hidden;position:absolute",i=t.ownerDocument.createElement("div");i.style.cssText=e,t.appendChild(i);var a=i.cloneNode(!1);a.style.backgroundColor="red",a.style.filter="alpha(opacity=0)",t.appendChild(a),this.element_=i,this.arcScaleX_=1,this.arcScaleY_=1,this.lineScale_=1}function w(t,e,i,a){t.currentPath_.push({type:"bezierCurveTo",cp1x:e.x,cp1y:e.y,cp2x:i.x,cp2y:i.y,x:a.x,y:a.y}),t.currentX_=a.x,t.currentY_=a.y}function M(t,e){var i=f(t.strokeStyle),a=i.color,n=i.alpha*t.globalAlpha,r=t.lineScale_*t.lineWidth;1>r&&(n*=r),e.push("<g_vml_:stroke",' opacity="',n,'"',' joinstyle="',t.lineJoin,'"',' miterlimit="',t.miterLimit,'"',' endcap="',y(t.lineCap),'"',' weight="',r,'px"',' color="',a,'" />')}function k(t,e,i,a){var n=t.fillStyle,r=t.arcScaleX_,s=t.arcScaleY_,o=a.x-i.x,l=a.y-i.y;if(n instanceof F){var h=0,c={x:0,y:0},u=0,p=1;if("gradient"==n.type_){var d=n.x0_/r,g=n.y0_/s,m=n.x1_/r,v=n.y1_/s,x=C(t,d,g),y=C(t,m,v),b=y.x-x.x,w=y.y-x.y;h=180*Math.atan2(b,w)/Math.PI,0>h&&(h+=360),1e-6>h&&(h=0)}else{var x=C(t,n.x0_,n.y0_);c={x:(x.x-i.x)/o,y:(x.y-i.y)/l},o/=r*L,l/=s*L;var M=I.max(o,l);u=2*n.r0_/M,p=2*n.r1_/M-u}var k=n.colors_;k.sort(function(t,e){return t.offset-e.offset});for(var _=k.length,S=k[0].color,R=k[_-1].color,A=k[0].alpha*t.globalAlpha,E=k[_-1].alpha*t.globalAlpha,P=[],W=0;_>W;W++){var D=k[W];P.push(D.offset*p+u+" "+D.color)}e.push('<g_vml_:fill type="',n.type_,'"',' method="none" focus="100%"',' color="',S,'"',' color2="',R,'"',' colors="',P.join(","),'"',' opacity="',E,'"',' g_o_:opacity2="',A,'"',' angle="',h,'"',' focusposition="',c.x,",",c.y,'" />')}else if(n instanceof T){if(o&&l){var z=-i.x,H=-i.y;e.push("<g_vml_:fill",' position="',z/o*r*r,",",H/l*s*s,'"',' type="tile"',' src="',n.src_,'" />')}}else{var B=f(t.fillStyle),O=B.color,N=B.alpha*t.globalAlpha;e.push('<g_vml_:fill color="',O,'" opacity="',N,'" />')}}function C(t,e,i){var a=t.m_;return{x:L*(e*a[0][0]+i*a[1][0]+a[2][0])-B,y:L*(e*a[0][1]+i*a[1][1]+a[2][1])-B}}function _(t){return isFinite(t[0][0])&&isFinite(t[0][1])&&isFinite(t[1][0])&&isFinite(t[1][1])&&isFinite(t[2][0])&&isFinite(t[2][1])}function S(t,e,i){if(_(e)&&(t.m_=e,i)){var a=e[0][0]*e[1][1]-e[0][1]*e[1][0];t.lineScale_=H(z(a))}}function F(t){this.type_=t,this.x0_=0,this.y0_=0,this.r0_=0,this.x1_=0,this.y1_=0,this.r1_=0,this.colors_=[]}function T(t,e){switch(A(t),e){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=e;break;default:R("SYNTAX_ERR")}this.src_=t.src,this.width_=t.width,this.height_=t.height}function R(t){throw new E(t)}function A(t){t&&1==t.nodeType&&"IMG"==t.tagName||R("TYPE_MISMATCH_ERR"),"complete"!=t.readyState&&R("INVALID_STATE_ERR")}function E(t){this.code=this[t],this.message=t+": DOM Exception "+this.code}var I=Math,P=I.round,W=I.sin,D=I.cos,z=I.abs,H=I.sqrt,L=10,B=L/2,O=(+navigator.userAgent.match(/MSIE ([\d.]+)?/)[1],Array.prototype.slice);n(document);var N={init:function(t){var i=t||document;i.createElement("canvas"),i.attachEvent("onreadystatechange",e(this.init_,this,i))},init_:function(t){for(var e=t.getElementsByTagName("canvas"),i=0;i<e.length;i++)this.initElement(e[i])},initElement:function(e){if(!e.getContext){e.getContext=t,n(e.ownerDocument),e.innerHTML="",e.attachEvent("onpropertychange",r),e.attachEvent("onresize",s);var i=e.attributes;i.width&&i.width.specified?e.style.width=i.width.nodeValue+"px":e.width=e.clientWidth,i.height&&i.height.specified?e.style.height=i.height.nodeValue+"px":e.height=e.clientHeight}return e}};N.init();for(var j=[],q=0;16>q;q++)for(var X=0;16>X;X++)j[16*q+X]=q.toString(16)+X.toString(16);var Y={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},V={},U={style:"normal",variant:"normal",weight:"normal",size:10,family:"sans-serif"},G={},$={butt:"flat",round:"round"},Q=b.prototype;Q.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},Q.beginPath=function(){this.currentPath_=[]},Q.moveTo=function(t,e){var i=C(this,t,e);this.currentPath_.push({type:"moveTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},Q.lineTo=function(t,e){var i=C(this,t,e);this.currentPath_.push({type:"lineTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},Q.bezierCurveTo=function(t,e,i,a,n,r){var s=C(this,n,r),o=C(this,t,e),l=C(this,i,a);w(this,o,l,s)},Q.quadraticCurveTo=function(t,e,i,a){var n=C(this,t,e),r=C(this,i,a),s={x:this.currentX_+2/3*(n.x-this.currentX_),y:this.currentY_+2/3*(n.y-this.currentY_)},o={x:s.x+(r.x-this.currentX_)/3,y:s.y+(r.y-this.currentY_)/3};w(this,s,o,r)},Q.arc=function(t,e,i,a,n,r){i*=L;var s=r?"at":"wa",o=t+D(a)*i-B,l=e+W(a)*i-B,h=t+D(n)*i-B,c=e+W(n)*i-B;o!=h||r||(o+=.125);var u=C(this,t,e),p=C(this,o,l),d=C(this,h,c);this.currentPath_.push({type:s,x:u.x,y:u.y,radius:i,xStart:p.x,yStart:p.y,xEnd:d.x,yEnd:d.y})},Q.rect=function(t,e,i,a){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+a),this.lineTo(t,e+a),this.closePath()},Q.strokeRect=function(t,e,i,a){var n=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+a),this.lineTo(t,e+a),this.closePath(),this.stroke(),this.currentPath_=n},Q.fillRect=function(t,e,i,a){var n=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+a),this.lineTo(t,e+a),this.closePath(),this.fill(),this.currentPath_=n},Q.createLinearGradient=function(t,e,i,a){var n=new F("gradient");return n.x0_=t,n.y0_=e,n.x1_=i,n.y1_=a,n},Q.createRadialGradient=function(t,e,i,a,n,r){var s=new F("gradientradial");return s.x0_=t,s.y0_=e,s.r0_=i,s.x1_=a,s.y1_=n,s.r1_=r,s},Q.drawImage=function(t,e){var i,a,n,r,s,o,l,h,c=t.runtimeStyle.width,u=t.runtimeStyle.height;t.runtimeStyle.width="auto",t.runtimeStyle.height="auto";var p=t.width,d=t.height;if(t.runtimeStyle.width=c,t.runtimeStyle.height=u,3==arguments.length)i=arguments[1],a=arguments[2],s=o=0,l=n=p,h=r=d;else if(5==arguments.length)i=arguments[1],a=arguments[2],n=arguments[3],r=arguments[4],s=o=0,l=p,h=d;else{if(9!=arguments.length)throw Error("Invalid number of arguments");s=arguments[1],o=arguments[2],l=arguments[3],h=arguments[4],i=arguments[5],a=arguments[6],n=arguments[7],r=arguments[8]}var g=C(this,i,a),f=[],m=10,v=10;if(f.push(" <g_vml_:group",' coordsize="',L*m,",",L*v,'"',' coordorigin="0,0"',' style="width:',m,"px;height:",v,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var x=[];x.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",P(g.x/L),",","Dy=",P(g.y/L),"");var y=g,b=C(this,i+n,a),w=C(this,i,a+r),M=C(this,i+n,a+r);y.x=I.max(y.x,b.x,w.x,M.x),y.y=I.max(y.y,b.y,w.y,M.y),f.push("padding:0 ",P(y.x/L),"px ",P(y.y/L),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",x.join(""),", sizingmethod='clip');")}else f.push("top:",P(g.y/L),"px;left:",P(g.x/L),"px;");f.push(' ">','<g_vml_:image src="',t.src,'"',' style="width:',L*n,"px;"," height:",L*r,'px"',' cropleft="',s/p,'"',' croptop="',o/d,'"',' cropright="',(p-s-l)/p,'"',' cropbottom="',(d-o-h)/d,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",f.join(""))},Q.stroke=function(t){for(var e=10,i=10,a=5e3,n={x:null,y:null},r={x:null,y:null},s=0;s<this.currentPath_.length;s+=a){var o=[];o.push("<g_vml_:shape",' filled="',!!t,'"',' style="position:absolute;width:',e,"px;height:",i,'px;"',' coordorigin="0,0"',' coordsize="',L*e,",",L*i,'"',' stroked="',!t,'"',' path="');for(var l=s;l<Math.min(s+a,this.currentPath_.length);l++){l%a==0&&l>0&&o.push(" m ",P(this.currentPath_[l-1].x),",",P(this.currentPath_[l-1].y));var h,c=this.currentPath_[l];switch(c.type){case"moveTo":h=c,o.push(" m ",P(c.x),",",P(c.y));break;case"lineTo":o.push(" l ",P(c.x),",",P(c.y));break;case"close":o.push(" x "),c=null;break;case"bezierCurveTo":o.push(" c ",P(c.cp1x),",",P(c.cp1y),",",P(c.cp2x),",",P(c.cp2y),",",P(c.x),",",P(c.y));break;case"at":case"wa":o.push(" ",c.type," ",P(c.x-this.arcScaleX_*c.radius),",",P(c.y-this.arcScaleY_*c.radius)," ",P(c.x+this.arcScaleX_*c.radius),",",P(c.y+this.arcScaleY_*c.radius)," ",P(c.xStart),",",P(c.yStart)," ",P(c.xEnd),",",P(c.yEnd))}c&&((null==n.x||c.x<n.x)&&(n.x=c.x),(null==r.x||c.x>r.x)&&(r.x=c.x),(null==n.y||c.y<n.y)&&(n.y=c.y),(null==r.y||c.y>r.y)&&(r.y=c.y))}o.push(' ">'),t?k(this,o,n,r):M(this,o),o.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",o.join(""))}},Q.fill=function(){this.stroke(!0)},Q.closePath=function(){this.currentPath_.push({type:"close"})},Q.save=function(){var t={};h(this,t),this.aStack_.push(t),this.mStack_.push(this.m_),this.m_=l(o(),this.m_)},Q.restore=function(){this.aStack_.length&&(h(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},Q.translate=function(t,e){var i=[[1,0,0],[0,1,0],[t,e,1]];S(this,l(i,this.m_),!1)},Q.rotate=function(t){var e=D(t),i=W(t),a=[[e,i,0],[-i,e,0],[0,0,1]];S(this,l(a,this.m_),!1)},Q.scale=function(t,e){this.arcScaleX_*=t,this.arcScaleY_*=e;var i=[[t,0,0],[0,e,0],[0,0,1]];S(this,l(i,this.m_),!0)},Q.transform=function(t,e,i,a,n,r){var s=[[t,e,0],[i,a,0],[n,r,1]];S(this,l(s,this.m_),!0)},Q.setTransform=function(t,e,i,a,n,r){var s=[[t,e,0],[i,a,0],[n,r,1]];S(this,s,!0)},Q.drawText_=function(t,e,a,n,r){var s=this.m_,o=1e3,l=0,h=o,c={x:0,y:0},u=[],p=v(m(this.font),this.element_),d=x(p),g=this.element_.currentStyle,f=this.textAlign.toLowerCase();switch(f){case"left":case"center":case"right":break;case"end":f="ltr"==g.direction?"right":"left";break;case"start":f="rtl"==g.direction?"right":"left";break;default:f="left"}switch(this.textBaseline){case"hanging":case"top":c.y=p.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":c.y=-p.size/2.25}switch(f){case"right":l=o,h=.05;break;case"center":l=h=o/2}var y=C(this,e+c.x,a+c.y);u.push('<g_vml_:line from="',-l,' 0" to="',h,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!r,'" stroked="',!!r,'" style="position:absolute;width:1px;height:1px;">'),r?M(this,u):k(this,u,{x:-l,y:0},{x:h,y:p.size});var b=s[0][0].toFixed(3)+","+s[1][0].toFixed(3)+","+s[0][1].toFixed(3)+","+s[1][1].toFixed(3)+",0,0",w=P(y.x/L)+","+P(y.y/L);u.push('<g_vml_:skew on="t" matrix="',b,'" ',' offset="',w,'" origin="',l,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',i(t),'" style="v-text-align:',f,";font:",i(d),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",u.join(""))},Q.fillText=function(t,e,i,a){this.drawText_(t,e,i,a,!1)},Q.strokeText=function(t,e,i,a){this.drawText_(t,e,i,a,!0)},Q.measureText=function(t){if(!this.textMeasureEl_){var e='<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>';this.element_.insertAdjacentHTML("beforeEnd",e),this.textMeasureEl_=this.element_.lastChild}var i=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(i.createTextNode(t)),{width:this.textMeasureEl_.offsetWidth}},Q.clip=function(){},Q.arcTo=function(){},Q.createPattern=function(t,e){return new T(t,e)},F.prototype.addColorStop=function(t,e){e=f(e),this.colors_.push({offset:t,color:e.color,alpha:e.alpha})};var J=E.prototype=new Error;J.INDEX_SIZE_ERR=1,J.DOMSTRING_SIZE_ERR=2,J.HIERARCHY_REQUEST_ERR=3,J.WRONG_DOCUMENT_ERR=4,J.INVALID_CHARACTER_ERR=5,J.NO_DATA_ALLOWED_ERR=6,J.NO_MODIFICATION_ALLOWED_ERR=7,J.NOT_FOUND_ERR=8,J.NOT_SUPPORTED_ERR=9,J.INUSE_ATTRIBUTE_ERR=10,J.INVALID_STATE_ERR=11,J.SYNTAX_ERR=12,J.INVALID_MODIFICATION_ERR=13,J.NAMESPACE_ERR=14,J.INVALID_ACCESS_ERR=15,J.VALIDATION_ERR=16,J.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=N,CanvasRenderingContext2D=b,CanvasGradient=F,CanvasPattern=T,DOMException=E}(),!function(t){t.color={},t.color.make=function(e,i,a,n){var r={};return r.r=e||0,r.g=i||0,r.b=a||0,r.a=null!=n?n:1,r.add=function(t,e){for(var i=0;i<t.length;++i)r[t.charAt(i)]+=e;return r.normalize()},r.scale=function(t,e){for(var i=0;i<t.length;++i)r[t.charAt(i)]*=e;return r.normalize()},r.toString=function(){return r.a>=1?"rgb("+[r.r,r.g,r.b].join(",")+")":"rgba("+[r.r,r.g,r.b,r.a].join(",")+")"},r.normalize=function(){function t(t,e,i){return t>e?t:e>i?i:e}return r.r=t(0,parseInt(r.r),255),r.g=t(0,parseInt(r.g),255),r.b=t(0,parseInt(r.b),255),r.a=t(0,r.a,1),r},r.clone=function(){return t.color.make(r.r,r.b,r.g,r.a)},r.normalize()},t.color.extract=function(e,i){var a;do{if(a=e.css(i).toLowerCase(),""!=a&&"transparent"!=a)break;e=e.parent()}while(!t.nodeName(e.get(0),"body"));return"rgba(0, 0, 0, 0)"==a&&(a="transparent"),t.color.parse(a)},t.color.parse=function(i){var a,n=t.color.make;if(a=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(i))return n(parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10));if(a=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return n(parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10),parseFloat(a[4]));if(a=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(i))return n(2.55*parseFloat(a[1]),2.55*parseFloat(a[2]),2.55*parseFloat(a[3]));if(a=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return n(2.55*parseFloat(a[1]),2.55*parseFloat(a[2]),2.55*parseFloat(a[3]),parseFloat(a[4]));if(a=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(i))return n(parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16));if(a=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(i))return n(parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16));var r=t.trim(i).toLowerCase();return"transparent"==r?n(255,255,255,0):(a=e[r]||[0,0,0],n(a[0],a[1],a[2]))};var e={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(t){function e(e,n,r,s){function o(t,e){e=[bt].concat(e);for(var i=0;i<t.length;++i)t[i].apply(this,e)}function l(){for(var e=0;e<s.length;++e){var i=s[e];i.init(bt),i.options&&t.extend(!0,st,i.options)}}function h(e){var i;for(t.extend(!0,st,e),null==st.xaxis.color&&(st.xaxis.color=st.grid.color),null==st.yaxis.color&&(st.yaxis.color=st.grid.color),null==st.xaxis.tickColor&&(st.xaxis.tickColor=st.grid.tickColor),null==st.yaxis.tickColor&&(st.yaxis.tickColor=st.grid.tickColor),null==st.grid.borderColor&&(st.grid.borderColor=st.grid.color),null==st.grid.tickColor&&(st.grid.tickColor=t.color.parse(st.grid.color).scale("a",.22).toString()),i=0;i<Math.max(1,st.xaxes.length);++i)st.xaxes[i]=t.extend(!0,{},st.xaxis,st.xaxes[i]);for(i=0;i<Math.max(1,st.yaxes.length);++i)st.yaxes[i]=t.extend(!0,{},st.yaxis,st.yaxes[i]);for(st.xaxis.noTicks&&null==st.xaxis.ticks&&(st.xaxis.ticks=st.xaxis.noTicks),st.yaxis.noTicks&&null==st.yaxis.ticks&&(st.yaxis.ticks=st.yaxis.noTicks),st.x2axis&&(st.xaxes[1]=t.extend(!0,{},st.xaxis,st.x2axis),st.xaxes[1].position="top"),st.y2axis&&(st.yaxes[1]=t.extend(!0,{},st.yaxis,st.y2axis),st.yaxes[1].position="right"),st.grid.coloredAreas&&(st.grid.markings=st.grid.coloredAreas),st.grid.coloredAreasColor&&(st.grid.markingsColor=st.grid.coloredAreasColor),st.lines&&t.extend(!0,st.series.lines,st.lines),st.points&&t.extend(!0,st.series.points,st.points),st.bars&&t.extend(!0,st.series.bars,st.bars),null!=st.shadowSize&&(st.series.shadowSize=st.shadowSize),i=0;i<st.xaxes.length;++i)m(pt,i+1).options=st.xaxes[i];for(i=0;i<st.yaxes.length;++i)m(dt,i+1).options=st.yaxes[i];for(var a in yt)st.hooks[a]&&st.hooks[a].length&&(yt[a]=yt[a].concat(st.hooks[a]));o(yt.processOptions,[st])}function c(t){rt=u(t),v(),x()}function u(e){for(var i=[],a=0;a<e.length;++a){var n=t.extend(!0,{},st.series);null!=e[a].data?(n.data=e[a].data,delete e[a].data,t.extend(!0,n,e[a]),e[a].data=n.data):n.data=e[a],i.push(n)}return i}function p(t,e){var i=t[e+"axis"];return"object"==typeof i&&(i=i.n),"number"!=typeof i&&(i=1),i}function d(){return t.grep(pt.concat(dt),function(t){return t})}function g(t){var e,i,a={};for(e=0;e<pt.length;++e)i=pt[e],i&&i.used&&(a["x"+i.n]=i.c2p(t.left));for(e=0;e<dt.length;++e)i=dt[e],i&&i.used&&(a["y"+i.n]=i.c2p(t.top));return void 0!==a.x1&&(a.x=a.x1),void 0!==a.y1&&(a.y=a.y1),a}function f(t){var e,i,a,n={};for(e=0;e<pt.length;++e)if(i=pt[e],i&&i.used&&(a="x"+i.n,null==t[a]&&1==i.n&&(a="x"),null!=t[a])){n.left=i.p2c(t[a]);break}for(e=0;e<dt.length;++e)if(i=dt[e],i&&i.used&&(a="y"+i.n,null==t[a]&&1==i.n&&(a="y"),null!=t[a])){n.top=i.p2c(t[a]);break}return n}function m(e,i){return e[i-1]||(e[i-1]={n:i,direction:e==pt?"x":"y",options:t.extend(!0,{},e==pt?st.xaxis:st.yaxis)}),e[i-1]}function v(){var e,i=rt.length,a=[],n=[];for(e=0;e<rt.length;++e){var r=rt[e].color;null!=r&&(--i,"number"==typeof r?n.push(r):a.push(t.color.parse(rt[e].color)))}for(e=0;e<n.length;++e)i=Math.max(i,n[e]+1);var s=[],o=0;for(e=0;s.length<i;){var l;l=st.colors.length==e?t.color.make(100,100,100):t.color.parse(st.colors[e]);var h=o%2==1?-1:1;l.scale("rgb",1+h*Math.ceil(o/2)*.2),s.push(l),++e,e>=st.colors.length&&(e=0,++o)}var c,u=0;for(e=0;e<rt.length;++e){if(c=rt[e],null==c.color?(c.color=s[u].toString(),++u):"number"==typeof c.color&&(c.color=s[c.color].toString()),null==c.lines.show){var d,g=!0;for(d in c)if(c[d]&&c[d].show){g=!1;break}g&&(c.lines.show=!0)}c.xaxis=m(pt,p(c,"x")),c.yaxis=m(dt,p(c,"y"))}}function x(){function e(t,e,i){e<t.datamin&&e!=-m&&(t.datamin=e),i>t.datamax&&i!=m&&(t.datamax=i)}var i,a,n,r,s,l,h,c,u,p,g=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,m=Number.MAX_VALUE;for(t.each(d(),function(t,e){e.datamin=g,e.datamax=f,e.used=!1}),i=0;i<rt.length;++i)s=rt[i],s.datapoints={points:[]},o(yt.processRawData,[s,s.data,s.datapoints]);for(i=0;i<rt.length;++i){s=rt[i];var v=s.data,x=s.datapoints.format;if(x||(x=[],x.push({x:!0,number:!0,required:!0}),x.push({y:!0,number:!0,required:!0}),(s.bars.show||s.lines.show&&s.lines.fill)&&(x.push({y:!0,number:!0,required:!1,defaultValue:0}),s.bars.horizontal&&(delete x[x.length-1].y,x[x.length-1].x=!0)),s.datapoints.format=x),null==s.datapoints.pointsize)for(s.datapoints.pointsize=x.length,h=s.datapoints.pointsize,l=s.datapoints.points,insertSteps=s.lines.show&&s.lines.steps,s.xaxis.used=s.yaxis.used=!0,a=n=0;a<v.length;++a,n+=h){p=v[a];var y=null==p;if(!y)for(r=0;h>r;++r)c=p[r],u=x[r],u&&(u.number&&null!=c&&(c=+c,isNaN(c)?c=null:c==1/0?c=m:c==-(1/0)&&(c=-m)),null==c&&(u.required&&(y=!0),null!=u.defaultValue&&(c=u.defaultValue))),l[n+r]=c;if(y)for(r=0;h>r;++r)c=l[n+r],null!=c&&(u=x[r],u.x&&e(s.xaxis,c,c),u.y&&e(s.yaxis,c,c)),l[n+r]=null;else if(insertSteps&&n>0&&null!=l[n-h]&&l[n-h]!=l[n]&&l[n-h+1]!=l[n+1]){for(r=0;h>r;++r)l[n+h+r]=l[n+r];l[n+1]=l[n-h+1],n+=h}}}for(i=0;i<rt.length;++i)s=rt[i],o(yt.processDatapoints,[s,s.datapoints]);for(i=0;i<rt.length;++i){s=rt[i],l=s.datapoints.points,h=s.datapoints.pointsize;var b=g,w=g,M=f,k=f;for(a=0;a<l.length;a+=h)if(null!=l[a])for(r=0;h>r;++r)c=l[a+r],u=x[r],u&&c!=m&&c!=-m&&(u.x&&(b>c&&(b=c),c>M&&(M=c)),u.y&&(w>c&&(w=c),c>k&&(k=c)));if(s.bars.show){var C="left"==s.bars.align?0:-s.bars.barWidth/2;s.bars.horizontal?(w+=C,k+=C+s.bars.barWidth):(b+=C,M+=C+s.bars.barWidth)}e(s.xaxis,b,M),e(s.yaxis,w,k)}t.each(d(),function(t,e){e.datamin==g&&(e.datamin=null),e.datamax==f&&(e.datamax=null)})}function y(i,a){var n=document.createElement("canvas");return n.className=a,n.width=ft,n.height=mt,i||t(n).css({position:"absolute",left:0,top:0}),t(n).appendTo(e),n.getContext||(n=window.G_vmlCanvasManager.initElement(n)),n.getContext("2d").save(),n}function b(){if(ft=e.width(),mt=e.height(),0>=ft||0>=mt)throw"Invalid dimensions for plot, width = "+ft+", height = "+mt}function w(t){t.width!=ft&&(t.width=ft),t.height!=mt&&(t.height=mt);var e=t.getContext("2d");e.restore(),e.save()}function M(){var i,a=e.children("canvas.base"),n=e.children("canvas.overlay");0==a.length||0==n?(e.html(""),e.css({padding:0}),"static"==e.css("position")&&e.css("position","relative"),b(),ot=y(!0,"base"),lt=y(!1,"overlay"),i=!1):(ot=a.get(0),lt=n.get(0),i=!0),ct=ot.getContext("2d"),ut=lt.getContext("2d"),ht=t([lt,ot]),i&&(e.data("plot").shutdown(),bt.resize(),ut.clearRect(0,0,ft,mt),ht.unbind(),e.children().not([ot,lt]).remove()),e.data("plot",bt)}function k(){st.grid.hoverable&&(ht.mousemove(U),ht.mouseleave(G)),st.grid.clickable&&ht.click($),o(yt.bindEvents,[ht])}function C(){Mt&&clearTimeout(Mt),ht.unbind("mousemove",U),ht.unbind("mouseleave",G),ht.unbind("click",$),o(yt.shutdown,[ht])}function _(t){function e(t){return t}var i,a,n=t.options.transform||e,r=t.options.inverseTransform;"x"==t.direction?(i=t.scale=vt/Math.abs(n(t.max)-n(t.min)),a=Math.min(n(t.max),n(t.min))):(i=t.scale=xt/Math.abs(n(t.max)-n(t.min)),i=-i,a=Math.max(n(t.max),n(t.min))),n==e?t.p2c=function(t){return(t-a)*i}:t.p2c=function(t){return(n(t)-a)*i},r?t.c2p=function(t){return r(a+t/i)}:t.c2p=function(t){return a+t/i}}function S(i){function a(a,n){return t('<div style="position:absolute;top:-10000px;'+n+'font-size:smaller"><div class="'+i.direction+"Axis "+i.direction+i.n+'Axis">'+a.join("")+"</div></div>").appendTo(e)}var n,r,s,o=i.options,l=i.ticks||[],h=[],c=o.labelWidth,u=o.labelHeight;if("x"==i.direction){if(null==c&&(c=Math.floor(ft/(l.length>0?l.length:1))),null==u){for(h=[],n=0;n<l.length;++n)r=l[n].label,r&&h.push('<div class="tickLabel" style="float:left;width:'+c+'px">'+r+"</div>");h.length>0&&(h.push('<div style="clear:left"></div>'),s=a(h,"width:10000px;"),u=s.height(),s.remove())}}else if(null==c||null==u){for(n=0;n<l.length;++n)r=l[n].label,r&&h.push('<div class="tickLabel">'+r+"</div>");h.length>0&&(s=a(h,""),null==c&&(c=s.children().width()),null==u&&(u=s.find("div.tickLabel").height()),s.remove())}null==c&&(c=0),null==u&&(u=0),i.labelWidth=c,i.labelHeight=u}function F(e){var i=e.labelWidth,a=e.labelHeight,n=e.options.position,r=e.options.tickLength,s=st.grid.axisMargin,o=st.grid.labelMargin,l="x"==e.direction?pt:dt,h=t.grep(l,function(t){return t&&t.options.position==n&&t.reserveSpace});t.inArray(e,h)==h.length-1&&(s=0),null==r&&(r="full");var c=t.grep(l,function(t){return t&&t.reserveSpace}),u=0==t.inArray(e,c);u||"full"!=r||(r=5),isNaN(+r)||(o+=+r),"x"==e.direction?(a+=o,"bottom"==n?(gt.bottom+=a+s,e.box={top:mt-gt.bottom,height:a}):(e.box={top:gt.top+s,height:a},gt.top+=a+s)):(i+=o,"left"==n?(e.box={left:gt.left+s,width:i},gt.left+=i+s):(gt.right+=i+s,e.box={left:ft-gt.right,width:i})),e.position=n,e.tickLength=r,e.box.padding=o,e.innermost=u}function T(t){"x"==t.direction?(t.box.left=gt.left,t.box.width=vt):(t.box.top=gt.top,t.box.height=xt)}function R(){var e,i=d();if(t.each(i,function(t,e){e.show=e.options.show,null==e.show&&(e.show=e.used),e.reserveSpace=e.show||e.options.reserveSpace,A(e)}),allocatedAxes=t.grep(i,function(t){return t.reserveSpace}),gt.left=gt.right=gt.top=gt.bottom=0,st.grid.show){for(t.each(allocatedAxes,function(t,e){E(e),I(e),P(e,e.ticks),S(e)}),e=allocatedAxes.length-1;e>=0;--e)F(allocatedAxes[e]);var a=st.grid.minBorderMargin;if(null==a)for(a=0,e=0;e<rt.length;++e)a=Math.max(a,rt[e].points.radius+rt[e].points.lineWidth/2);for(var n in gt)gt[n]+=st.grid.borderWidth,gt[n]=Math.max(a,gt[n])}vt=ft-gt.left-gt.right,xt=mt-gt.bottom-gt.top,t.each(i,function(t,e){_(e)}),st.grid.show&&(t.each(allocatedAxes,function(t,e){T(e)}),L()),Y()}function A(t){var e=t.options,i=+(null!=e.min?e.min:t.datamin),a=+(null!=e.max?e.max:t.datamax),n=a-i;if(0==n){var r=0==a?1:.01;null==e.min&&(i-=r),(null==e.max||null!=e.min)&&(a+=r)}else{var s=e.autoscaleMargin;null!=s&&(null==e.min&&(i-=n*s,0>i&&null!=t.datamin&&t.datamin>=0&&(i=0)),null==e.max&&(a+=n*s,a>0&&null!=t.datamax&&t.datamax<=0&&(a=0)))}t.min=i,t.max=a}function E(e){var i,n=e.options;i="number"==typeof n.ticks&&n.ticks>0?n.ticks:.3*Math.sqrt("x"==e.direction?ft:mt);var r,s,o,l,h,c,u,p=(e.max-e.min)/i;if("time"==n.mode){var d={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,year:525949.2*60*1e3},g=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]],f=0;null!=n.minTickSize&&(f="number"==typeof n.tickSize?n.tickSize:n.minTickSize[0]*d[n.minTickSize[1]]);for(var h=0;h<g.length-1&&!(p<(g[h][0]*d[g[h][1]]+g[h+1][0]*d[g[h+1][1]])/2&&g[h][0]*d[g[h][1]]>=f);++h);r=g[h][0],o=g[h][1],"year"==o&&(c=Math.pow(10,Math.floor(Math.log(p/d.year)/Math.LN10)),u=p/d.year/c,r=1.5>u?1:3>u?2:7.5>u?5:10,r*=c),e.tickSize=n.tickSize||[r,o],s=function(t){var e=[],i=t.tickSize[0],n=t.tickSize[1],r=new Date(t.min),s=i*d[n];"second"==n&&r.setUTCSeconds(a(r.getUTCSeconds(),i)),"minute"==n&&r.setUTCMinutes(a(r.getUTCMinutes(),i)),"hour"==n&&r.setUTCHours(a(r.getUTCHours(),i)),"month"==n&&r.setUTCMonth(a(r.getUTCMonth(),i)),
"year"==n&&r.setUTCFullYear(a(r.getUTCFullYear(),i)),r.setUTCMilliseconds(0),s>=d.minute&&r.setUTCSeconds(0),s>=d.hour&&r.setUTCMinutes(0),s>=d.day&&r.setUTCHours(0),s>=4*d.day&&r.setUTCDate(1),s>=d.year&&r.setUTCMonth(0);var o,l=0,h=Number.NaN;do if(o=h,h=r.getTime(),e.push(h),"month"==n)if(1>i){r.setUTCDate(1);var c=r.getTime();r.setUTCMonth(r.getUTCMonth()+1);var u=r.getTime();r.setTime(h+l*d.hour+(u-c)*i),l=r.getUTCHours(),r.setUTCHours(0)}else r.setUTCMonth(r.getUTCMonth()+i);else"year"==n?r.setUTCFullYear(r.getUTCFullYear()+i):r.setTime(h+s);while(h<t.max&&h!=o);return e},l=function(e,i){var a=new Date(e);if(null!=n.timeformat)return t.plot.formatDate(a,n.timeformat,n.monthNames);var r=i.tickSize[0]*d[i.tickSize[1]],s=i.max-i.min,o=n.twelveHourClock?" %p":"";return r<d.minute?fmt="%h:%M:%S"+o:r<d.day?s<2*d.day?fmt="%h:%M"+o:fmt="%b %d %h:%M"+o:r<d.month?fmt="%b %d":r<d.year?s<d.year?fmt="%b":fmt="%b %y":fmt="%y",t.plot.formatDate(a,fmt,n.monthNames)}}else{var m=n.tickDecimals,v=-Math.floor(Math.log(p)/Math.LN10);null!=m&&v>m&&(v=m),c=Math.pow(10,-v),u=p/c,1.5>u?r=1:3>u?(r=2,u>2.25&&(null==m||m>=v+1)&&(r=2.5,++v)):r=7.5>u?5:10,r*=c,null!=n.minTickSize&&r<n.minTickSize&&(r=n.minTickSize),e.tickDecimals=Math.max(0,null!=m?m:v),e.tickSize=n.tickSize||r,s=function(t){var e,i=[],n=a(t.min,t.tickSize),r=0,s=Number.NaN;do e=s,s=n+r*t.tickSize,i.push(s),++r;while(s<t.max&&s!=e);return i},l=function(t,e){return t.toFixed(e.tickDecimals)}}if(null!=n.alignTicksWithAxis){var x=("x"==e.direction?pt:dt)[n.alignTicksWithAxis-1];if(x&&x.used&&x!=e){var y=s(e);if(y.length>0&&(null==n.min&&(e.min=Math.min(e.min,y[0])),null==n.max&&y.length>1&&(e.max=Math.max(e.max,y[y.length-1]))),s=function(t){var e,i,a=[];for(i=0;i<x.ticks.length;++i)e=(x.ticks[i].v-x.min)/(x.max-x.min),e=t.min+e*(t.max-t.min),a.push(e);return a},"time"!=e.mode&&null==n.tickDecimals){var b=Math.max(0,-Math.floor(Math.log(p)/Math.LN10)+1),w=s(e);w.length>1&&/\..*0$/.test((w[1]-w[0]).toFixed(b))||(e.tickDecimals=b)}}}e.tickGenerator=s,t.isFunction(n.tickFormatter)?e.tickFormatter=function(t,e){return""+n.tickFormatter(t,e)}:e.tickFormatter=l}function I(e){var i=e.options.ticks,a=[];null==i||"number"==typeof i&&i>0?a=e.tickGenerator(e):i&&(a=t.isFunction(i)?i({min:e.min,max:e.max}):i);var n,r;for(e.ticks=[],n=0;n<a.length;++n){var s=null,o=a[n];"object"==typeof o?(r=+o[0],o.length>1&&(s=o[1])):r=+o,null==s&&(s=e.tickFormatter(r,e)),isNaN(r)||e.ticks.push({v:r,label:s})}}function P(t,e){t.options.autoscaleMargin&&e.length>0&&(null==t.options.min&&(t.min=Math.min(t.min,e[0].v)),null==t.options.max&&e.length>1&&(t.max=Math.max(t.max,e[e.length-1].v)))}function W(){ct.clearRect(0,0,ft,mt);var t=st.grid;t.show&&t.backgroundColor&&z(),t.show&&!t.aboveData&&H();for(var e=0;e<rt.length;++e)o(yt.drawSeries,[ct,rt[e]]),B(rt[e]);o(yt.draw,[ct]),t.show&&t.aboveData&&H()}function D(t,e){var a,n,r,s,o=d();for(i=0;i<o.length;++i)if(a=o[i],a.direction==e&&(s=e+a.n+"axis",t[s]||1!=a.n||(s=e+"axis"),t[s])){n=t[s].from,r=t[s].to;break}if(t[s]||(a="x"==e?pt[0]:dt[0],n=t[e+"1"],r=t[e+"2"]),null!=n&&null!=r&&n>r){var l=n;n=r,r=l}return{from:n,to:r,axis:a}}function z(){ct.save(),ct.translate(gt.left,gt.top),ct.fillStyle=nt(st.grid.backgroundColor,xt,0,"rgba(255, 255, 255, 0)"),ct.fillRect(0,0,vt,xt),ct.restore()}function H(){var e;ct.save(),ct.translate(gt.left,gt.top);var i=st.grid.markings;if(i){if(t.isFunction(i)){var a=bt.getAxes();a.xmin=a.xaxis.min,a.xmax=a.xaxis.max,a.ymin=a.yaxis.min,a.ymax=a.yaxis.max,i=i(a)}for(e=0;e<i.length;++e){var n=i[e],r=D(n,"x"),s=D(n,"y");null==r.from&&(r.from=r.axis.min),null==r.to&&(r.to=r.axis.max),null==s.from&&(s.from=s.axis.min),null==s.to&&(s.to=s.axis.max),r.to<r.axis.min||r.from>r.axis.max||s.to<s.axis.min||s.from>s.axis.max||(r.from=Math.max(r.from,r.axis.min),r.to=Math.min(r.to,r.axis.max),s.from=Math.max(s.from,s.axis.min),s.to=Math.min(s.to,s.axis.max),(r.from!=r.to||s.from!=s.to)&&(r.from=r.axis.p2c(r.from),r.to=r.axis.p2c(r.to),s.from=s.axis.p2c(s.from),s.to=s.axis.p2c(s.to),r.from==r.to||s.from==s.to?(ct.beginPath(),ct.strokeStyle=n.color||st.grid.markingsColor,ct.lineWidth=n.lineWidth||st.grid.markingsLineWidth,ct.moveTo(r.from,s.from),ct.lineTo(r.to,s.to),ct.stroke()):(ct.fillStyle=n.color||st.grid.markingsColor,ct.fillRect(r.from,s.to,r.to-r.from,s.from-s.to))))}}for(var a=d(),o=st.grid.borderWidth,l=0;l<a.length;++l){var h,c,u,p,g=a[l],f=g.box,m=g.tickLength;if(g.show&&0!=g.ticks.length){for(ct.strokeStyle=g.options.tickColor||t.color.parse(g.options.color).scale("a",.22).toString(),ct.lineWidth=1,"x"==g.direction?(h=0,c="full"==m?"top"==g.position?0:xt:f.top-gt.top+("top"==g.position?f.height:0)):(c=0,h="full"==m?"left"==g.position?0:vt:f.left-gt.left+("left"==g.position?f.width:0)),g.innermost||(ct.beginPath(),u=p=0,"x"==g.direction?u=vt:p=xt,1==ct.lineWidth&&(h=Math.floor(h)+.5,c=Math.floor(c)+.5),ct.moveTo(h,c),ct.lineTo(h+u,c+p),ct.stroke()),ct.beginPath(),e=0;e<g.ticks.length;++e){var v=g.ticks[e].v;u=p=0,v<g.min||v>g.max||"full"==m&&o>0&&(v==g.min||v==g.max)||("x"==g.direction?(h=g.p2c(v),p="full"==m?-xt:m,"top"==g.position&&(p=-p)):(c=g.p2c(v),u="full"==m?-vt:m,"left"==g.position&&(u=-u)),1==ct.lineWidth&&("x"==g.direction?h=Math.floor(h)+.5:c=Math.floor(c)+.5),ct.moveTo(h,c),ct.lineTo(h+u,c+p))}ct.stroke()}}o&&(ct.lineWidth=o,ct.strokeStyle=st.grid.borderColor,ct.strokeRect(-o/2,-o/2,vt+o,xt+o)),ct.restore()}function L(){e.find(".tickLabels").remove();for(var t=['<div class="tickLabels" style="font-size:smaller">'],i=d(),a=0;a<i.length;++a){var n=i[a],r=n.box;if(n.show){t.push('<div class="'+n.direction+"Axis "+n.direction+n.n+'Axis" style="color:'+n.options.color+'">');for(var s=0;s<n.ticks.length;++s){var o=n.ticks[s];if(!(!o.label||o.v<n.min||o.v>n.max)){var l,h={};"x"==n.direction?(l="center",h.left=Math.round(gt.left+n.p2c(o.v)-n.labelWidth/2),"bottom"==n.position?h.top=r.top+r.padding:h.bottom=mt-(r.top+r.height-r.padding)):(h.top=Math.round(gt.top+n.p2c(o.v)-n.labelHeight/2),"left"==n.position?(h.right=ft-(r.left+r.width-r.padding),l="right"):(h.left=r.left+r.padding,l="left")),h.width=n.labelWidth;var c=["position:absolute","text-align:"+l];for(var u in h)c.push(u+":"+h[u]+"px");t.push('<div class="tickLabel" style="'+c.join(";")+'">'+o.label+"</div>")}}t.push("</div>")}}t.push("</div>"),e.append(t.join(""))}function B(t){t.lines.show&&O(t),t.bars.show&&q(t),t.points.show&&N(t)}function O(t){function e(t,e,i,a,n){var r=t.points,s=t.pointsize,o=null,l=null;ct.beginPath();for(var h=s;h<r.length;h+=s){var c=r[h-s],u=r[h-s+1],p=r[h],d=r[h+1];if(null!=c&&null!=p){if(d>=u&&u<n.min){if(d<n.min)continue;c=(n.min-u)/(d-u)*(p-c)+c,u=n.min}else if(u>=d&&d<n.min){if(u<n.min)continue;p=(n.min-u)/(d-u)*(p-c)+c,d=n.min}if(u>=d&&u>n.max){if(d>n.max)continue;c=(n.max-u)/(d-u)*(p-c)+c,u=n.max}else if(d>=u&&d>n.max){if(u>n.max)continue;p=(n.max-u)/(d-u)*(p-c)+c,d=n.max}if(p>=c&&c<a.min){if(p<a.min)continue;u=(a.min-c)/(p-c)*(d-u)+u,c=a.min}else if(c>=p&&p<a.min){if(c<a.min)continue;d=(a.min-c)/(p-c)*(d-u)+u,p=a.min}if(c>=p&&c>a.max){if(p>a.max)continue;u=(a.max-c)/(p-c)*(d-u)+u,c=a.max}else if(p>=c&&p>a.max){if(c>a.max)continue;d=(a.max-c)/(p-c)*(d-u)+u,p=a.max}(c!=o||u!=l)&&ct.moveTo(a.p2c(c)+e,n.p2c(u)+i),o=p,l=d,ct.lineTo(a.p2c(p)+e,n.p2c(d)+i)}}ct.stroke()}function i(t,e,i){for(var a=t.points,n=t.pointsize,r=Math.min(Math.max(0,i.min),i.max),s=0,o=!1,l=1,h=0,c=0;!(n>0&&s>a.length+n);){s+=n;var u=a[s-n],p=a[s-n+l],d=a[s],g=a[s+l];if(o){if(n>0&&null!=u&&null==d){c=s,n=-n,l=2;continue}if(0>n&&s==h+n){ct.fill(),o=!1,n=-n,l=1,s=h=c+n;continue}}if(null!=u&&null!=d){if(d>=u&&u<e.min){if(d<e.min)continue;p=(e.min-u)/(d-u)*(g-p)+p,u=e.min}else if(u>=d&&d<e.min){if(u<e.min)continue;g=(e.min-u)/(d-u)*(g-p)+p,d=e.min}if(u>=d&&u>e.max){if(d>e.max)continue;p=(e.max-u)/(d-u)*(g-p)+p,u=e.max}else if(d>=u&&d>e.max){if(u>e.max)continue;g=(e.max-u)/(d-u)*(g-p)+p,d=e.max}if(o||(ct.beginPath(),ct.moveTo(e.p2c(u),i.p2c(r)),o=!0),p>=i.max&&g>=i.max)ct.lineTo(e.p2c(u),i.p2c(i.max)),ct.lineTo(e.p2c(d),i.p2c(i.max));else if(p<=i.min&&g<=i.min)ct.lineTo(e.p2c(u),i.p2c(i.min)),ct.lineTo(e.p2c(d),i.p2c(i.min));else{var f=u,m=d;g>=p&&p<i.min&&g>=i.min?(u=(i.min-p)/(g-p)*(d-u)+u,p=i.min):p>=g&&g<i.min&&p>=i.min&&(d=(i.min-p)/(g-p)*(d-u)+u,g=i.min),p>=g&&p>i.max&&g<=i.max?(u=(i.max-p)/(g-p)*(d-u)+u,p=i.max):g>=p&&g>i.max&&p<=i.max&&(d=(i.max-p)/(g-p)*(d-u)+u,g=i.max),u!=f&&ct.lineTo(e.p2c(f),i.p2c(p)),ct.lineTo(e.p2c(u),i.p2c(p)),ct.lineTo(e.p2c(d),i.p2c(g)),d!=m&&(ct.lineTo(e.p2c(d),i.p2c(g)),ct.lineTo(e.p2c(m),i.p2c(g)))}}}}ct.save(),ct.translate(gt.left,gt.top),ct.lineJoin="round";var a=t.lines.lineWidth,n=t.shadowSize;if(a>0&&n>0){ct.lineWidth=n,ct.strokeStyle="rgba(0,0,0,0.1)";var r=Math.PI/18;e(t.datapoints,Math.sin(r)*(a/2+n/2),Math.cos(r)*(a/2+n/2),t.xaxis,t.yaxis),ct.lineWidth=n/2,e(t.datapoints,Math.sin(r)*(a/2+n/4),Math.cos(r)*(a/2+n/4),t.xaxis,t.yaxis)}ct.lineWidth=a,ct.strokeStyle=t.color;var s=X(t.lines,t.color,0,xt);s&&(ct.fillStyle=s,i(t.datapoints,t.xaxis,t.yaxis)),a>0&&e(t.datapoints,0,0,t.xaxis,t.yaxis),ct.restore()}function N(t){function e(t,e,i,a,n,r,s,o){for(var l=t.points,h=t.pointsize,c=0;c<l.length;c+=h){var u=l[c],p=l[c+1];null==u||u<r.min||u>r.max||p<s.min||p>s.max||(ct.beginPath(),u=r.p2c(u),p=s.p2c(p)+a,"circle"==o?ct.arc(u,p,e,0,n?Math.PI:2*Math.PI,!1):o(ct,u,p,e,n),ct.closePath(),i&&(ct.fillStyle=i,ct.fill()),ct.stroke())}}ct.save(),ct.translate(gt.left,gt.top);var i=t.points.lineWidth,a=t.shadowSize,n=t.points.radius,r=t.points.symbol;if(i>0&&a>0){var s=a/2;ct.lineWidth=s,ct.strokeStyle="rgba(0,0,0,0.1)",e(t.datapoints,n,null,s+s/2,!0,t.xaxis,t.yaxis,r),ct.strokeStyle="rgba(0,0,0,0.2)",e(t.datapoints,n,null,s/2,!0,t.xaxis,t.yaxis,r)}ct.lineWidth=i,ct.strokeStyle=t.color,e(t.datapoints,n,X(t.points,t.color),0,!1,t.xaxis,t.yaxis,r),ct.restore()}function j(t,e,i,a,n,r,s,o,l,h,c,u){var p,d,g,f,m,v,x,y,b;c?(y=v=x=!0,m=!1,p=i,d=t,f=e+a,g=e+n,p>d&&(b=d,d=p,p=b,m=!0,v=!1)):(m=v=x=!0,y=!1,p=t+a,d=t+n,g=i,f=e,g>f&&(b=f,f=g,g=b,y=!0,x=!1)),d<o.min||p>o.max||f<l.min||g>l.max||(p<o.min&&(p=o.min,m=!1),d>o.max&&(d=o.max,v=!1),g<l.min&&(g=l.min,y=!1),f>l.max&&(f=l.max,x=!1),p=o.p2c(p),g=l.p2c(g),d=o.p2c(d),f=l.p2c(f),s&&(h.beginPath(),h.moveTo(p,g),h.lineTo(p,f),h.lineTo(d,f),h.lineTo(d,g),h.fillStyle=s(g,f),h.fill()),u>0&&(m||v||x||y)&&(h.beginPath(),h.moveTo(p,g+r),m?h.lineTo(p,f+r):h.moveTo(p,f+r),x?h.lineTo(d,f+r):h.moveTo(d,f+r),v?h.lineTo(d,g+r):h.moveTo(d,g+r),y?h.lineTo(p,g+r):h.moveTo(p,g+r),h.stroke()))}function q(t){function e(e,i,a,n,r,s,o){for(var l=e.points,h=e.pointsize,c=0;c<l.length;c+=h)null!=l[c]&&j(l[c],l[c+1],l[c+2],i,a,n,r,s,o,ct,t.bars.horizontal,t.bars.lineWidth)}ct.save(),ct.translate(gt.left,gt.top),ct.lineWidth=t.bars.lineWidth,ct.strokeStyle=t.color;var i="left"==t.bars.align?0:-t.bars.barWidth/2,a=t.bars.fill?function(e,i){return X(t.bars,t.color,e,i)}:null;e(t.datapoints,i,i+t.bars.barWidth,0,a,t.xaxis,t.yaxis),ct.restore()}function X(e,i,a,n){var r=e.fill;if(!r)return null;if(e.fillColor)return nt(e.fillColor,a,n,i);var s=t.color.parse(i);return s.a="number"==typeof r?r:.4,s.normalize(),s.toString()}function Y(){if(e.find(".legend").remove(),st.legend.show){for(var i,a,n=[],r=!1,s=st.legend.labelFormatter,o=0;o<rt.length;++o)i=rt[o],a=i.label,a&&(o%st.legend.noColumns==0&&(r&&n.push("</tr>"),n.push("<tr>"),r=!0),s&&(a=s(a,i)),n.push('<td class="legendColorBox"><div style="'+st.legend.labelBoxBorderColor+'"><div style="width:15px;height:0;border:3px solid '+i.color+';overflow:hidden"></div></div></td><td class="legendLabel"><span>'+a+"</span></td>"));if(r&&n.push("</tr>"),0!=n.length){var l='<table style="font-size: 11px; color:'+st.grid.color+'">'+n.join("")+"</table>";if(null!=st.legend.container)t(st.legend.container).html(l);else{var h="",c=st.legend.position,u=st.legend.margin;null==u[0]&&(u=[u,u]),"n"==c.charAt(0)?h+="top:"+(u[1]+gt.top)+"px;":"s"==c.charAt(0)&&(h+="bottom:"+(u[1]+gt.bottom)+"px;"),"e"==c.charAt(1)?h+="right:"+(u[0]+gt.right)+"px;":"w"==c.charAt(1)&&(h+="left:"+(u[0]+gt.left)+"px;");var p=t('<div class="legend">'+l.replace('style="','style="position:absolute;'+h+";")+"</div>").appendTo(e);if(0!=st.legend.backgroundOpacity){var d=st.legend.backgroundColor;null==d&&(d=st.grid.backgroundColor,d=d&&"string"==typeof d?t.color.parse(d):t.color.extract(p,"background-color"),d.a=1,d=d.toString());var g=p.children();t('<div style="position:absolute;width:'+g.width()+"px;height:"+g.height()+"px;"+h+"background-color:"+d+';"> </div>').prependTo(p).css("opacity",st.legend.backgroundOpacity)}}}}}function V(t,e,i){var a,n,r=st.grid.mouseActiveRadius,s=r*r+1,o=null;for(a=rt.length-1;a>=0;--a)if(i(rt[a])){var l=rt[a],h=l.xaxis,c=l.yaxis,u=l.datapoints.points,p=l.datapoints.pointsize,d=h.c2p(t),g=c.c2p(e),f=r/h.scale,m=r/c.scale;if(h.options.inverseTransform&&(f=Number.MAX_VALUE),c.options.inverseTransform&&(m=Number.MAX_VALUE),l.lines.show||l.points.show)for(n=0;n<u.length;n+=p){var v=u[n],x=u[n+1];if(null!=v&&!(v-d>f||-f>v-d||x-g>m||-m>x-g)){var y=Math.abs(h.p2c(v)-t),b=Math.abs(c.p2c(x)-e),w=y*y+b*b;s>w&&(s=w,o=[a,n/p])}}if(l.bars.show&&!o){var M="left"==l.bars.align?0:-l.bars.barWidth/2,k=M+l.bars.barWidth;for(n=0;n<u.length;n+=p){var v=u[n],x=u[n+1],C=u[n+2];null!=v&&(rt[a].bars.horizontal?d<=Math.max(C,v)&&d>=Math.min(C,v)&&g>=x+M&&x+k>=g:d>=v+M&&v+k>=d&&g>=Math.min(C,x)&&g<=Math.max(C,x))&&(o=[a,n/p])}}}return o?(a=o[0],n=o[1],p=rt[a].datapoints.pointsize,{datapoint:rt[a].datapoints.points.slice(n*p,(n+1)*p),dataIndex:n,series:rt[a],seriesIndex:a}):null}function U(t){st.grid.hoverable&&Q("plothover",t,function(t){return 0!=t.hoverable})}function G(t){st.grid.hoverable&&Q("plothover",t,function(t){return!1})}function $(t){Q("plotclick",t,function(t){return 0!=t.clickable})}function Q(t,i,a){var n=ht.offset(),r=i.pageX-n.left-gt.left,s=i.pageY-n.top-gt.top,o=g({left:r,top:s});o.pageX=i.pageX,o.pageY=i.pageY;var l=V(r,s,a);if(l&&(l.pageX=parseInt(l.series.xaxis.p2c(l.datapoint[0])+n.left+gt.left),l.pageY=parseInt(l.series.yaxis.p2c(l.datapoint[1])+n.top+gt.top)),st.grid.autoHighlight){for(var h=0;h<wt.length;++h){var c=wt[h];c.auto!=t||l&&c.series==l.series&&c.point[0]==l.datapoint[0]&&c.point[1]==l.datapoint[1]||tt(c.series,c.point)}l&&Z(l.series,l.datapoint,t)}e.trigger(t,[o,l])}function J(){Mt||(Mt=setTimeout(K,30))}function K(){Mt=null,ut.save(),ut.clearRect(0,0,ft,mt),ut.translate(gt.left,gt.top);var t,e;for(t=0;t<wt.length;++t)e=wt[t],e.series.bars.show?at(e.series,e.point):it(e.series,e.point);ut.restore(),o(yt.drawOverlay,[ut])}function Z(t,e,i){if("number"==typeof t&&(t=rt[t]),"number"==typeof e){var a=t.datapoints.pointsize;e=t.datapoints.points.slice(a*e,a*(e+1))}var n=et(t,e);-1==n?(wt.push({series:t,point:e,auto:i}),J()):i||(wt[n].auto=!1)}function tt(t,e){null==t&&null==e&&(wt=[],J()),"number"==typeof t&&(t=rt[t]),"number"==typeof e&&(e=t.data[e]);var i=et(t,e);-1!=i&&(wt.splice(i,1),J())}function et(t,e){for(var i=0;i<wt.length;++i){var a=wt[i];if(a.series==t&&a.point[0]==e[0]&&a.point[1]==e[1])return i}return-1}function it(e,i){var a=i[0],n=i[1],r=e.xaxis,s=e.yaxis;if(!(a<r.min||a>r.max||n<s.min||n>s.max)){var o=e.points.radius+e.points.lineWidth/2;ut.lineWidth=o,ut.strokeStyle=t.color.parse(e.color).scale("a",.5).toString();var l=1.5*o,a=r.p2c(a),n=s.p2c(n);ut.beginPath(),"circle"==e.points.symbol?ut.arc(a,n,l,0,2*Math.PI,!1):e.points.symbol(ut,a,n,l,!1),ut.closePath(),ut.stroke()}}function at(e,i){ut.lineWidth=e.bars.lineWidth,ut.strokeStyle=t.color.parse(e.color).scale("a",.5).toString();var a=t.color.parse(e.color).scale("a",.5).toString(),n="left"==e.bars.align?0:-e.bars.barWidth/2;j(i[0],i[1],i[2]||0,n,n+e.bars.barWidth,0,function(){return a},e.xaxis,e.yaxis,ut,e.bars.horizontal,e.bars.lineWidth)}function nt(e,i,a,n){if("string"==typeof e)return e;for(var r=ct.createLinearGradient(0,a,0,i),s=0,o=e.colors.length;o>s;++s){var l=e.colors[s];if("string"!=typeof l){var h=t.color.parse(n);null!=l.brightness&&(h=h.scale("rgb",l.brightness)),null!=l.opacity&&(h.a*=l.opacity),l=h.toString()}r.addColorStop(s/(o-1),l)}return r}var rt=[],st={colors:["#ee7951","#6db6ee","#cb4b4b","#993eb7","#3ba3aa"],legend:{show:!0,noColumns:0,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:[-5,-26],backgroundColor:"",backgroundOpacity:1},xaxis:{show:null,position:"bottom",mode:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:!1},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:1,barWidth:1,fill:!0,fillColor:{colors:[{opacity:.7},{opacity:1}]},align:"left",horizontal:!1},shadowSize:0},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:"#e3e3e3",tickColor:"#e3e3e3",labelMargin:5,axisMargin:8,borderWidth:0,minBorderMargin:10,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:5},hooks:{}},ot=null,lt=null,ht=null,ct=null,ut=null,pt=[],dt=[],gt={left:0,right:0,top:0,bottom:0},ft=0,mt=0,vt=0,xt=0,yt={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},bt=this;bt.setData=c,bt.setupGrid=R,bt.draw=W,bt.getPlaceholder=function(){return e},bt.getCanvas=function(){return ot},bt.getPlotOffset=function(){return gt},bt.width=function(){return vt},bt.height=function(){return xt},bt.offset=function(){var t=ht.offset();return t.left+=gt.left,t.top+=gt.top,t},bt.getData=function(){return rt},bt.getAxes=function(){var e={};return t.each(pt.concat(dt),function(t,i){i&&(e[i.direction+(1!=i.n?i.n:"")+"axis"]=i)}),e},bt.getXAxes=function(){return pt},bt.getYAxes=function(){return dt},bt.c2p=g,bt.p2c=f,bt.getOptions=function(){return st},bt.highlight=Z,bt.unhighlight=tt,bt.triggerRedrawOverlay=J,bt.pointOffset=function(t){return{left:parseInt(pt[p(t,"x")-1].p2c(+t.x)+gt.left),top:parseInt(dt[p(t,"y")-1].p2c(+t.y)+gt.top)}},bt.shutdown=C,bt.resize=function(){b(),w(ot),w(lt)},bt.hooks=yt,l(bt),h(r),M(),c(n),R(),W(),k();var wt=[],Mt=null}function a(t,e){return e*Math.floor(t/e)}t.plot=function(i,a,n){var r=new e(t(i),a,n,t.plot.plugins);return r},t.plot.version="0.7",t.plot.plugins=[],t.plot.formatDate=function(t,e,i){var a=function(t){return t=""+t,1==t.length?"0"+t:t},n=[],r=!1,s=!1,o=t.getUTCHours(),l=12>o;null==i&&(i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),-1!=e.search(/%p|%P/)&&(o>12?o-=12:0==o&&(o=12));for(var h=0;h<e.length;++h){var c=e.charAt(h);if(r){switch(c){case"h":c=""+o;break;case"H":c=a(o);break;case"M":c=a(t.getUTCMinutes());break;case"S":c=a(t.getUTCSeconds());break;case"d":c=""+t.getUTCDate();break;case"m":c=""+(t.getUTCMonth()+1);break;case"y":c=""+t.getUTCFullYear();break;case"b":c=""+i[t.getUTCMonth()];break;case"p":c=l?"am":"pm";break;case"P":c=l?"AM":"PM";break;case"0":c="",s=!0}c&&s&&(c=a(c),s=!1),n.push(c),s||(r=!1)}else"%"==c?r=!0:n.push(c)}return n.join("")}}(jQuery),!function(t){function e(t){function e(t,e,n){var s=null;if(i(e)&&(h(e),a(t),r(t),l(e),m>=2)){var o=c(e),v=0,y=u();v=p(o)?-1*d(f,o-1,Math.floor(m/2)-1)-y:d(f,Math.ceil(m/2),o-2)+y+2*x,s=g(n,e,v),n.points=s}return s}function i(t){return null!=t.bars&&t.bars.show&&null!=t.bars.order}function a(t){var e=b?t.getPlaceholder().innerHeight():t.getPlaceholder().innerWidth(),i=b?n(t.getData(),1):n(t.getData(),0),a=i[1]-i[0];y=a/e}function n(t,e){for(var i=new Array,a=0;a<t.length;a++)i[0]=t[a].data[0][e],i[1]=t[a].data[t[a].data.length-1][e];return i}function r(t){f=s(t.getData()),m=f.length}function s(t){for(var e=new Array,i=0;i<t.length;i++)null!=t[i].bars.order&&t[i].bars.show&&e.push(t[i]);return e.sort(o)}function o(t,e){var i=t.bars.order,a=e.bars.order;return a>i?-1:i>a?1:0}function l(t){v=t.bars.lineWidth?t.bars.lineWidth:2,x=v*y}function h(t){t.bars.horizontal&&(b=!0)}function c(t){for(var e=0,i=0;i<f.length;++i)if(t==f[i]){e=i;break}return e+1}function u(){var t=0;return m%2!=0&&(t=f[Math.ceil(m/2)].bars.barWidth/2),t}function p(t){return t<=Math.ceil(m/2)}function d(t,e,i){for(var a=0,n=e;i>=n;n++)a+=t[n].bars.barWidth+2*x;return a}function g(t,e,i){for(var a=t.pointsize,n=t.points,r=0,s=b?1:0;s<n.length;s+=a)n[s]+=i,e.data[r][3]=n[s],r++;return n}var f,m,v,x,y=1,b=!1;t.hooks.processDatapoints.push(e)}var i={series:{bars:{order:null}}};t.plot.plugins.push({init:e,options:i,name:"orderBars",version:"0.2"})}(jQuery),!function(t){function e(e){function n(t,e){e.series.pie.show&&(e.grid.show=!1,"auto"==e.series.pie.label.show&&(e.legend.show?e.series.pie.label.show=!1:e.series.pie.label.show=!0),"auto"==e.series.pie.radius&&(e.series.pie.label.show?e.series.pie.radius=.75:e.series.pie.radius=1),e.series.pie.tilt>1&&(e.series.pie.tilt=1),e.series.pie.tilt<0&&(e.series.pie.tilt=0),t.hooks.processDatapoints.push(o),t.hooks.drawOverlay.push(k),t.hooks.draw.push(u))}function r(t,e){var i=t.getOptions();i.series.pie.show&&i.grid.hoverable&&e.unbind("mousemove").mousemove(f),i.series.pie.show&&i.grid.clickable&&e.unbind("click").click(m)}function s(t){for(var e=0;e<t.length;++e){var i=parseFloat(t[e].data[0][1]);i&&(R+=i)}}function o(e,i,n,r){W||(W=!0,C=e.getCanvas(),_=t(C).parent(),a=e.getOptions(),e.setData(c(e.getData())))}function l(){P=_.children().filter(".legend").children().width(),S=Math.min(C.width,C.height/a.series.pie.tilt)/2,T=C.height/2+a.series.pie.offset.top,F=C.width/2,"auto"==a.series.pie.offset.left?a.legend.position.match("w")?F+=P/2:F-=P/2:F+=a.series.pie.offset.left,S>F?F=S:F>C.width-S&&(F=C.width-S)}function h(t){for(var e=0;e<t.length;++e)"number"==typeof t[e].data?t[e].data=[[1,t[e].data]]:("undefined"==typeof t[e].data||"undefined"==typeof t[e].data[0])&&("undefined"!=typeof t[e].data&&"undefined"!=typeof t[e].data.label&&(t[e].label=t[e].data.label),t[e].data=[[1,0]]);return t}function c(t){t=h(t),s(t);for(var e=0,i=0,n=a.series.pie.combine.color,r=[],o=0;o<t.length;++o)t[o].data[0][1]=parseFloat(t[o].data[0][1]),t[o].data[0][1]||(t[o].data[0][1]=0),t[o].data[0][1]/R<=a.series.pie.combine.threshold?(e+=t[o].data[0][1],i++,n||(n=t[o].color)):r.push({data:[[1,t[o].data[0][1]]],color:t[o].color,label:t[o].label,angle:t[o].data[0][1]*(2*Math.PI)/R,percent:t[o].data[0][1]/R*100});return i>0&&r.push({data:[[1,e]],color:n,label:a.series.pie.combine.label,angle:e*(2*Math.PI)/R,percent:e/R*100}),r}function u(e,i){function n(){ctx.clearRect(0,0,C.width,C.height),_.children().filter(".pieLabel, .pieLabelBackground").remove()}function r(){var t=5,e=15,i=10,n=.02;if(a.series.pie.radius>1)var r=a.series.pie.radius;else var r=S*a.series.pie.radius;if(!(r>=C.width/2-t||r*a.series.pie.tilt>=C.height/2-e||i>=r)){ctx.save(),ctx.translate(t,e),ctx.globalAlpha=n,ctx.fillStyle="#000",ctx.translate(F,T),ctx.scale(1,a.series.pie.tilt);for(var s=1;i>=s;s++)ctx.beginPath(),ctx.arc(0,0,r,0,2*Math.PI,!1),ctx.fill(),r-=s;ctx.restore()}}function s(){function e(e,i,a){0>=e||(a?ctx.fillStyle=i:(ctx.strokeStyle=i,ctx.lineJoin="round"),ctx.beginPath(),Math.abs(e-2*Math.PI)>1e-9?ctx.moveTo(0,0):t.browser.msie&&(e-=1e-4),ctx.arc(0,0,n,r,r+e,!1),ctx.closePath(),r+=e,a?ctx.fill():ctx.stroke())}function i(){function e(e,i,r){if(0!=e.data[0][1]){var s,o=a.legend.labelFormatter,l=a.series.pie.label.formatter;s=o?o(e.label,e):e.label,l&&(s=l(s,e));var h=(i+e.angle+i)/2,c=F+Math.round(Math.cos(h)*n),u=T+Math.round(Math.sin(h)*n)*a.series.pie.tilt,p='<span class="pieLabel" id="pieLabel'+r+'" style="position:absolute;top:'+u+"px;left:"+c+'px;">'+s+"</span>";_.append(p);var d=_.children("#pieLabel"+r),g=u-d.height()/2,f=c-d.width()/2;if(d.css("top",g),d.css("left",f),(0-g>0||0-f>0||C.height-(g+d.height())<0||C.width-(f+d.width())<0)&&(A=!0),0!=a.series.pie.label.background.opacity){var m=a.series.pie.label.background.color;null==m&&(m=e.color);var v="top:"+g+"px;left:"+f+"px;";t('<div class="pieLabelBackground" style="position:absolute;width:'+d.width()+"px;height:"+d.height()+"px;"+v+"background-color:"+m+';"> </div>').insertBefore(d).css("opacity",a.series.pie.label.background.opacity)}}}var i=startAngle;if(a.series.pie.label.radius>1)var n=a.series.pie.label.radius;else var n=S*a.series.pie.label.radius;for(var r=0;r<o.length;++r)o[r].percent>=100*a.series.pie.label.threshold&&e(o[r],i,r),i+=o[r].angle}if(startAngle=Math.PI*a.series.pie.startAngle,a.series.pie.radius>1)var n=a.series.pie.radius;else var n=S*a.series.pie.radius;ctx.save(),ctx.translate(F,T),ctx.scale(1,a.series.pie.tilt),ctx.save();for(var r=startAngle,s=0;s<o.length;++s)o[s].startAngle=r,e(o[s].angle,o[s].color,!0);ctx.restore(),ctx.save(),ctx.lineWidth=a.series.pie.stroke.width,r=startAngle;for(var s=0;s<o.length;++s)e(o[s].angle,a.series.pie.stroke.color,!1);ctx.restore(),p(ctx),a.series.pie.label.show&&i(),ctx.restore()}if(_){ctx=i,l();for(var o=e.getData(),h=0;A&&E>h;)A=!1,h>0&&(S*=I),h+=1,n(),a.series.pie.tilt<=.8&&r(),s();h>=E&&(n(),_.prepend('<div class="error">Could not draw pie with labels contained inside canvas</div>')),e.setSeries&&e.insertLegend&&(e.setSeries(o),e.insertLegend())}}function p(t){a.series.pie.innerRadius>0&&(t.save(),innerRadius=a.series.pie.innerRadius>1?a.series.pie.innerRadius:S*a.series.pie.innerRadius,t.globalCompositeOperation="destination-out",t.beginPath(),t.fillStyle=a.series.pie.stroke.color,t.arc(0,0,innerRadius,0,2*Math.PI,!1),t.fill(),t.closePath(),t.restore(),t.save(),t.beginPath(),t.strokeStyle=a.series.pie.stroke.color,t.arc(0,0,innerRadius,0,2*Math.PI,!1),t.stroke(),t.closePath(),t.restore())}function d(t,e){for(var i=!1,a=-1,n=t.length,r=n-1;++a<n;r=a)(t[a][1]<=e[1]&&e[1]<t[r][1]||t[r][1]<=e[1]&&e[1]<t[a][1])&&e[0]<(t[r][0]-t[a][0])*(e[1]-t[a][1])/(t[r][1]-t[a][1])+t[a][0]&&(i=!i);return i}function g(t,i){for(var a=e.getData(),n=e.getOptions(),r=n.series.pie.radius>1?n.series.pie.radius:S*n.series.pie.radius,s=0;s<a.length;++s){var o=a[s];if(o.pie.show){if(ctx.save(),ctx.beginPath(),ctx.moveTo(0,0),ctx.arc(0,0,r,o.startAngle,o.startAngle+o.angle,!1),ctx.closePath(),x=t-F,y=i-T,ctx.isPointInPath){if(ctx.isPointInPath(t-F,i-T))return ctx.restore(),{datapoint:[o.percent,o.data],dataIndex:0,series:o,seriesIndex:s}}else if(p1X=r*Math.cos(o.startAngle),p1Y=r*Math.sin(o.startAngle),p2X=r*Math.cos(o.startAngle+o.angle/4),p2Y=r*Math.sin(o.startAngle+o.angle/4),p3X=r*Math.cos(o.startAngle+o.angle/2),p3Y=r*Math.sin(o.startAngle+o.angle/2),p4X=r*Math.cos(o.startAngle+o.angle/1.5),p4Y=r*Math.sin(o.startAngle+o.angle/1.5),p5X=r*Math.cos(o.startAngle+o.angle),p5Y=r*Math.sin(o.startAngle+o.angle),arrPoly=[[0,0],[p1X,p1Y],[p2X,p2Y],[p3X,p3Y],[p4X,p4Y],[p5X,p5Y]],arrPoint=[x,y],d(arrPoly,arrPoint))return ctx.restore(),{datapoint:[o.percent,o.data],dataIndex:0,series:o,seriesIndex:s};ctx.restore()}}return null}function f(t){v("plothover",t)}function m(t){v("plotclick",t)}function v(t,i){var n=e.offset(),r=parseInt(i.pageX-n.left),s=parseInt(i.pageY-n.top),o=g(r,s);if(a.grid.autoHighlight)for(var l=0;l<D.length;++l){var h=D[l];h.auto!=t||o&&h.series==o.series||w(h.series)}o&&b(o.series,t);var c={pageX:i.pageX,pageY:i.pageY};_.trigger(t,[c,o])}function b(t,i){"number"==typeof t&&(t=series[t]);var a=M(t);-1==a?(D.push({series:t,auto:i}),e.triggerRedrawOverlay()):i||(D[a].auto=!1)}function w(t){null==t&&(D=[],e.triggerRedrawOverlay()),"number"==typeof t&&(t=series[t]);var i=M(t);-1!=i&&(D.splice(i,1),e.triggerRedrawOverlay())}function M(t){for(var e=0;e<D.length;++e){var i=D[e];if(i.series==t)return e}return-1}function k(t,e){function a(t){t.angle<0||(e.fillStyle="rgba(255, 255, 255, "+n.series.pie.highlight.opacity+")",e.beginPath(),Math.abs(t.angle-2*Math.PI)>1e-9&&e.moveTo(0,0),e.arc(0,0,r,t.startAngle,t.startAngle+t.angle,!1),e.closePath(),e.fill())}var n=t.getOptions(),r=n.series.pie.radius>1?n.series.pie.radius:S*n.series.pie.radius;for(e.save(),e.translate(F,T),e.scale(1,n.series.pie.tilt),i=0;i<D.length;++i)a(D[i].series);p(e),e.restore()}var C=null,_=null,S=null,F=null,T=null,R=0,A=!0,E=10,I=.95,P=0,W=!1,D=[];e.hooks.processOptions.push(n),e.hooks.bindEvents.push(r)}var a={series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:1.5,tilt:1,offset:{top:0,left:"auto"},stroke:{color:"#FFF",width:1},label:{show:"auto",formatter:function(t,e){return'<div style="font-size:x-small;text-align:center;padding:2px;color:'+e.color+';">'+t+"<br/>"+Math.round(e.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:.1}}}};t.plot.plugins.push({init:e,options:a,name:"pie",version:"1.0"})}(jQuery),!function(t,e,i){function a(){n=e[o](function(){r.each(function(){var e=t(this),i=e.width(),a=e.height(),n=t.data(this,h);(i!==n.w||a!==n.h)&&e.trigger(l,[n.w=i,n.h=a])}),a()},s[c])}var n,r=t([]),s=t.resize=t.extend(t.resize,{}),o="setTimeout",l="resize",h=l+"-special-event",c="delay",u="throttleWindow";s[c]=250,s[u]=!0,t.event.special[l]={setup:function(){if(!s[u]&&this[o])return!1;var e=t(this);r=r.add(e),t.data(this,h,{w:e.width(),h:e.height()}),1===r.length&&a()},teardown:function(){if(!s[u]&&this[o])return!1;var e=t(this);r=r.not(e),e.removeData(h),r.length||clearTimeout(n)},add:function(e){function a(e,a,r){var s=t(this),o=t.data(this,h);o.w=a!==i?a:s.width(),o.h=r!==i?r:s.height(),n.apply(this,arguments)}if(!s[u]&&this[o])return!1;var n;return t.isFunction(e)?(n=e,a):(n=e.handler,void(e.handler=a))}}}(jQuery,this),function(t){function e(e){function a(e,a){function n(){var a=e.getPlaceholder();0!=a.width()&&0!=a.height()&&(++i,t.plot(a,e.getData(),e.getOptions()),--i)}i||e.getPlaceholder().resize(n)}e.hooks.bindEvents.push(a)}var i=0,a={};t.plot.plugins.push({init:e,options:a,name:"resize",version:"1.0"})}(jQuery),!function(t){"use strict";var e,i,a,n,r,s,o,l,h,c,u,p,d,g,f,m,v,x,y,b,w,M,k,C,_,S,F,T,R,A,E,I,P={},W=0;e=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!0,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:void 0,normalRangeMax:void 0,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:void 0,chartRangeMax:void 0,chartRangeMinX:void 0,chartRangeMaxX:void 0,tooltipFormat:new a('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:void 0,nullColor:void 0,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:void 0,chartRangeMin:void 0,chartRangeClip:!1,colorMap:void 0,tooltipFormat:new a('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new a('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:void 0,thresholdValue:0,chartRangeMax:void 0,chartRangeMin:void 0,chartRangeClip:!1,tooltipFormat:new a("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:void 0,tooltipFormat:new a("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"
}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new a('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:void 0,targetColor:"#4a2",chartRangeMax:void 0,chartRangeMin:void 0,tooltipFormat:new a("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},S='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}',F=function(){p(S)},t(F),i=function(){var e,i;return e=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(e.prototype=t.extend(new arguments[0],arguments[arguments.length-1]),e._super=arguments[0].prototype):e.prototype=arguments[arguments.length-1],arguments.length>2&&(i=Array.prototype.slice.call(arguments,1,-1),i.unshift(e.prototype),t.extend.apply(t,i))):e.prototype=arguments[0],e.prototype.cls=e,e},t.SPFormatClass=a=i({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(t,e){this.format=t,this.fclass=e},render:function(t,e,i){var a,n,r,s,o,l=this,c=t;return this.format.replace(this.fre,function(){var t;return n=arguments[1],r=arguments[3],a=l.precre.exec(n),a?(o=a[2],n=a[1]):o=!1,s=c[n],void 0===s?"":r&&e&&e[r]?(t=e[r],t.get?e[r].get(s)||s:e[r][s]||s):(h(s)&&(s=i.get("numberFormatter")?i.get("numberFormatter")(s):g(s,o,i.get("numberDigitGroupCount"),i.get("numberDigitGroupSep"),i.get("numberDecimalMark"))),s)})}}),t.spformat=function(t,e){return new a(t,e)},n=function(t,e,i){return e>t?e:t>i?i:t},r=function(t,e){var i;return 2===e?(i=Math.floor(t.length/2),t.length%2?t[i]:(t[i]+t[i+1])/2):(i=Math.floor(t.length/4),t.length%2?(t[i*e]+t[i*e+1])/2:t[i*e])},s=function(t){var e;switch(t){case"undefined":t=void 0;break;case"null":t=null;break;case"true":t=!0;break;case"false":t=!1;break;default:e=parseFloat(t),t==e&&(t=e)}return t},o=function(t){var e,i=[];for(e=t.length;e--;)i[e]=s(t[e]);return i},l=function(t,e){var i,a,n=[];for(i=0,a=t.length;a>i;i++)t[i]!==e&&n.push(t[i]);return n},h=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},g=function(e,i,a,n,r){var s,o;for(e=(i===!1?parseFloat(e).toString():e.toFixed(i)).split(""),s=(s=t.inArray(".",e))<0?e.length:s,s<e.length&&(e[s]=r),o=s-a;o>0;o-=a)e.splice(o,0,n);return e.join("")},c=function(t,e,i){var a;for(a=e.length;a--;)if(e[a]!==t||!i&&null===t)return!1;return!0},u=function(t){var e,i=0;for(e=t.length;e--;)i+="number"==typeof t[e]?t[e]:0;return i},d=function(e){return t.isArray(e)?e:[e]},p=function(t){var e;document.createStyleSheet?document.createStyleSheet().cssText=t:(e=document.createElement("style"),e.type="text/css",document.getElementsByTagName("head")[0].appendChild(e),e["string"==typeof document.body.style.WebkitAppearance?"innerText":"innerHTML"]=t)},t.fn.simpledraw=function(e,i,a,n){var r,s;if(a&&(r=this.data("_jqs_vcanvas")))return r;if(void 0===e&&(e=t(this).innerWidth()),void 0===i&&(i=t(this).innerHeight()),t.browser.hasCanvas)r=new A(e,i,this,n);else{if(!t.browser.msie)return!1;r=new E(e,i,this)}return s=t(this).data("_jqs_mhandler"),s&&s.registerCanvas(r),r},t.fn.cleardraw=function(){var t=this.data("_jqs_vcanvas");t&&t.reset()},t.RangeMapClass=f=i({init:function(t){var e,i,a=[];for(e in t)t.hasOwnProperty(e)&&"string"==typeof e&&e.indexOf(":")>-1&&(i=e.split(":"),i[0]=0===i[0].length?-(1/0):parseFloat(i[0]),i[1]=0===i[1].length?1/0:parseFloat(i[1]),i[2]=t[e],a.push(i));this.map=t,this.rangelist=a||!1},get:function(t){var e,i,a,n=this.rangelist;if(void 0!==(a=this.map[t]))return a;if(n)for(e=n.length;e--;)if(i=n[e],i[0]<=t&&i[1]>=t)return i[2]}}),t.range_map=function(t){return new f(t)},m=i({init:function(e,i){var a=t(e);this.$el=a,this.options=i,this.currentPageX=0,this.currentPageY=0,this.el=e,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!i.get("disableTooltips"),this.highlightEnabled=!i.get("disableHighlight")},registerSparkline:function(t){this.splist.push(t),this.over&&this.updateDisplay()},registerCanvas:function(e){var i=t(e.canvas);this.canvas=e,this.$canvas=i,i.mouseenter(t.proxy(this.mouseenter,this)),i.mouseleave(t.proxy(this.mouseleave,this)),i.click(t.proxy(this.mouseclick,this))},reset:function(t){this.splist=[],this.tooltip&&t&&(this.tooltip.remove(),this.tooltip=void 0)},mouseclick:function(e){var i=t.Event("sparklineClick");i.originalEvent=e,i.sparklines=this.splist,this.$el.trigger(i)},mouseenter:function(e){t(document.body).unbind("mousemove.jqs"),t(document.body).bind("mousemove.jqs",t.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=e.pageX,this.currentPageY=e.pageY,this.currentEl=e.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new v(this.options),this.tooltip.updatePosition(e.pageX,e.pageY)),this.updateDisplay()},mouseleave:function(){t(document.body).unbind("mousemove.jqs");var e,i,a=this.splist,n=a.length,r=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),i=0;n>i;i++)e=a[i],e.clearRegionHighlight()&&(r=!0);r&&this.canvas.render()},mousemove:function(t){this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,this.tooltip&&this.tooltip.updatePosition(t.pageX,t.pageY),this.updateDisplay()},updateDisplay:function(){var e,i,a,n,r,s=this.splist,o=s.length,l=!1,h=this.$canvas.offset(),c=this.currentPageX-h.left,u=this.currentPageY-h.top;if(this.over){for(a=0;o>a;a++)i=s[a],n=i.setRegionHighlight(this.currentEl,c,u),n&&(l=!0);if(l){if(r=t.Event("sparklineRegionChange"),r.sparklines=this.splist,this.$el.trigger(r),this.tooltip){for(e="",a=0;o>a;a++)i=s[a],e+=i.getCurrentRegionTooltip();this.tooltip.setContent(e)}this.disableHighlight||this.canvas.render()}null===n&&this.mouseleave()}}}),v=i({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(e){var i,a=e.get("tooltipClassname","jqstooltip"),n=this.sizeStyle;this.container=e.get("tooltipContainer")||document.body,this.tooltipOffsetX=e.get("tooltipOffsetX",10),this.tooltipOffsetY=e.get("tooltipOffsetY",12),t("#jqssizetip").remove(),t("#jqstooltip").remove(),this.sizetip=t("<div/>",{id:"jqssizetip",style:n,"class":a}),this.tooltip=t("<div/>",{id:"jqstooltip","class":a}).appendTo(this.container),i=this.tooltip.offset(),this.offsetLeft=i.left,this.offsetTop=i.top,this.hidden=!0,t(window).unbind("resize.jqs scroll.jqs"),t(window).bind("resize.jqs scroll.jqs",t.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=t(window).scrollTop(),this.scrollLeft=t(window).scrollLeft(),this.scrollRight=this.scrollLeft+t(window).width(),this.updatePosition()},getSize:function(t){this.sizetip.html(t).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(t){return t?(this.getSize(t),this.tooltip.html(t).css({width:this.width,height:this.height,visibility:"visible"}),void(this.hidden&&(this.hidden=!1,this.updatePosition()))):(this.tooltip.css("visibility","hidden"),void(this.hidden=!0))},updatePosition:function(t,e){if(void 0===t){if(void 0===this.mousex)return;t=this.mousex-this.offsetLeft,e=this.mousey-this.offsetTop}else this.mousex=t-=this.offsetLeft,this.mousey=e-=this.offsetTop;this.height&&this.width&&!this.hidden&&(e-=this.height+this.tooltipOffsetY,t+=this.tooltipOffsetX,e<this.scrollTop&&(e=this.scrollTop),t<this.scrollLeft?t=this.scrollLeft:t+this.width>this.scrollRight&&(t=this.scrollRight-this.width),this.tooltip.css({left:t,top:e}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=void 0,t(window).unbind("resize.jqs scroll.jqs")}}),I=[],t.fn.sparkline=function(e,i){return this.each(function(){var a,n,r=new t.fn.sparkline.options(this,i),s=t(this);if(a=function(){var i,a,n,o,l,h,c;return"html"===e||void 0===e?(c=this.getAttribute(r.get("tagValuesAttribute")),(void 0===c||null===c)&&(c=s.html()),i=c.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):i=e,a="auto"===r.get("width")?i.length*r.get("defaultPixelsPerValue"):r.get("width"),"auto"===r.get("height")?r.get("composite")&&t.data(this,"_jqs_vcanvas")||(o=document.createElement("span"),o.innerHTML="a",s.html(o),n=t(o).innerHeight()||t(o).height(),t(o).remove(),o=null):n=r.get("height"),r.get("disableInteraction")?l=!1:(l=t.data(this,"_jqs_mhandler"),l?r.get("composite")||l.reset():(l=new m(this,r),t.data(this,"_jqs_mhandler",l))),r.get("composite")&&!t.data(this,"_jqs_vcanvas")?void(t.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),t.data(this,"_jqs_errnotify",!0))):(h=new(t.fn.sparkline[r.get("type")])(this,i,r,a,n),h.render(),void(l&&l.registerSparkline(h)))},t(this).html()&&!r.get("disableHiddenCheck")&&t(this).is(":hidden")||t.fn.jquery<"1.3.0"&&t(this).parents().is(":hidden")||!t(this).parents("body").length){if(!r.get("composite")&&t.data(this,"_jqs_pending"))for(n=I.length;n;n--)I[n-1][0]==this&&I.splice(n-1,1);I.push([this,a]),t.data(this,"_jqs_pending",!0)}else a.call(this)})},t.fn.sparkline.defaults=e(),t.sparkline_display_visible=function(){var e,i,a,n=[];for(i=0,a=I.length;a>i;i++)e=I[i][0],t(e).is(":visible")&&!t(e).parents().is(":hidden")?(I[i][1].call(e),t.data(I[i][0],"_jqs_pending",!1),n.push(i)):!t(e).closest("html").length&&!t.data(e,"_jqs_pending")&&(t.data(I[i][0],"_jqs_pending",!1),n.push(i));for(i=n.length;i;i--)I.splice(n[i-1],1)},t.fn.sparkline.options=i({init:function(e,i){var a,n,r,s;this.userOptions=i=i||{},this.tag=e,this.tagValCache={},n=t.fn.sparkline.defaults,r=n.common,this.tagOptionsPrefix=i.enableTagOptions&&(i.tagOptionsPrefix||r.tagOptionsPrefix),s=this.getTagSetting("type"),a=s===P?n[i.type||r.type]:n[s],this.mergedOptions=t.extend({},r,a,i)},getTagSetting:function(t){var e,i,a,n,r=this.tagOptionsPrefix;if(r===!1||void 0===r)return P;if(this.tagValCache.hasOwnProperty(t))e=this.tagValCache.key;else{if(e=this.tag.getAttribute(r+t),void 0===e||null===e)e=P;else if("["===e.substr(0,1))for(e=e.substr(1,e.length-2).split(","),i=e.length;i--;)e[i]=s(e[i].replace(/(^\s*)|(\s*$)/g,""));else if("{"===e.substr(0,1))for(a=e.substr(1,e.length-2).split(","),e={},i=a.length;i--;)n=a[i].split(":",2),e[n[0].replace(/(^\s*)|(\s*$)/g,"")]=s(n[1].replace(/(^\s*)|(\s*$)/g,""));else e=s(e);this.tagValCache.key=e}return e},get:function(t,e){var i,a=this.getTagSetting(t);return a!==P?a:void 0===(i=this.mergedOptions[t])?e:i}}),t.fn.sparkline._base=i({disabled:!1,init:function(e,i,a,n,r){this.el=e,this.$el=t(e),this.values=i,this.options=a,this.width=n,this.height=r,this.currentRegion=void 0},initTarget:function(){var t=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),t))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return this.disabled?(this.el.innerHTML="",!1):!0},getRegion:function(t,e){},setRegionHighlight:function(t,e,i){var a,n=this.currentRegion,r=!this.options.get("disableHighlight");return e>this.canvasWidth||i>this.canvasHeight||0>e||0>i?null:(a=this.getRegion(t,e,i),n!==a?(void 0!==n&&r&&this.removeHighlight(),this.currentRegion=a,void 0!==a&&r&&this.renderHighlight(),!0):!1)},clearRegionHighlight:function(){return void 0!==this.currentRegion?(this.removeHighlight(),this.currentRegion=void 0,!0):!1},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(t){},getCurrentRegionTooltip:function(){var e,i,n,r,s,o,l,h,c,u,p,d,g,f,m=this.options,v="",x=[];if(void 0===this.currentRegion)return"";if(e=this.getCurrentRegionFields(),p=m.get("tooltipFormatter"))return p(this,m,e);if(m.get("tooltipChartTitle")&&(v+='<div class="jqs jqstitle">'+m.get("tooltipChartTitle")+"</div>\n"),i=this.options.get("tooltipFormat"),!i)return"";if(t.isArray(i)||(i=[i]),t.isArray(e)||(e=[e]),l=this.options.get("tooltipFormatFieldlist"),h=this.options.get("tooltipFormatFieldlistKey"),l&&h){for(c=[],o=e.length;o--;)u=e[o][h],-1!=(f=t.inArray(u,l))&&(c[f]=e[o]);e=c}for(n=i.length,g=e.length,o=0;n>o;o++)for(d=i[o],"string"==typeof d&&(d=new a(d)),r=d.fclass||"jqsfield",f=0;g>f;f++)e[f].isNull&&m.get("tooltipSkipNull")||(t.extend(e[f],{prefix:m.get("tooltipPrefix"),suffix:m.get("tooltipSuffix")}),s=d.render(e[f],m.get("tooltipValueLookups"),m),x.push('<div class="'+r+'">'+s+"</div>"));return x.length?v+x.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(t,e){var i,a,r,s,o=e.get("highlightColor"),l=e.get("highlightLighten");if(o)return o;if(l&&(i=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(t)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(t))){for(r=[],a=4===t.length?16:1,s=0;3>s;s++)r[s]=n(Math.round(parseInt(i[s+1],16)*a*l),0,255);return"rgb("+r.join(",")+")"}return t}}),x={changeHighlight:function(e){var i,a=this.currentRegion,n=this.target,r=this.regionShapes[a];r&&(i=this.renderRegion(a,e),t.isArray(i)||t.isArray(r)?(n.replaceWithShapes(r,i),this.regionShapes[a]=t.map(i,function(t){return t.id})):(n.replaceWithShape(r,i),this.regionShapes[a]=i.id))},render:function(){var e,i,a,n,r=this.values,s=this.target,o=this.regionShapes;if(this.cls._super.render.call(this)){for(a=r.length;a--;)if(e=this.renderRegion(a))if(t.isArray(e)){for(i=[],n=e.length;n--;)e[n].append(),i.push(e[n].id);o[a]=i}else e.append(),o[a]=e.id;else o[a]=null;s.render()}}},t.fn.sparkline.line=y=i(t.fn.sparkline._base,{type:"line",init:function(t,e,i,a,n){y._super.init.call(this,t,e,i,a,n),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(t,e,i){var a,n=this.regionMap;for(a=n.length;a--;)if(null!==n[a]&&e>=n[a][0]&&e<=n[a][1])return n[a][2]},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:null===this.yvalues[t],x:this.xvalues[t],y:this.yvalues[t],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:t}},renderHighlight:function(){var t,e,i=this.currentRegion,a=this.target,n=this.vertices[i],r=this.options,s=r.get("spotRadius"),o=r.get("highlightSpotColor"),l=r.get("highlightLineColor");n&&(s&&o&&(t=a.drawCircle(n[0],n[1],s,void 0,o),this.highlightSpotId=t.id,a.insertAfterShape(this.lastShapeId,t)),l&&(e=a.drawLine(n[0],this.canvasTop,n[0],this.canvasTop+this.canvasHeight,l),this.highlightLineId=e.id,a.insertAfterShape(this.lastShapeId,e)))},removeHighlight:function(){var t=this.target;this.highlightSpotId&&(t.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(t.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var t,e,i,a,n,r=this.values,s=r.length,o=this.xvalues,l=this.yvalues,h=this.yminmax;for(t=0;s>t;t++)e=r[t],i="string"==typeof r[t],a="object"==typeof r[t]&&r[t]instanceof Array,n=i&&r[t].split(":"),i&&2===n.length?(o.push(Number(n[0])),l.push(Number(n[1])),h.push(Number(n[1]))):a?(o.push(e[0]),l.push(e[1]),h.push(e[1])):(o.push(t),null===r[t]||"null"===r[t]?l.push(null):(l.push(Number(e)),h.push(Number(e))));this.options.get("xvalues")&&(o=this.options.get("xvalues")),this.maxy=this.maxyorg=Math.max.apply(Math,h),this.miny=this.minyorg=Math.min.apply(Math,h),this.maxx=Math.max.apply(Math,o),this.minx=Math.min.apply(Math,o),this.xvalues=o,this.yvalues=l,this.yminmax=h},processRangeOptions:function(){var t=this.options,e=t.get("normalRangeMin"),i=t.get("normalRangeMax");void 0!==e&&(e<this.miny&&(this.miny=e),i>this.maxy&&(this.maxy=i)),void 0!==t.get("chartRangeMin")&&(t.get("chartRangeClip")||t.get("chartRangeMin")<this.miny)&&(this.miny=t.get("chartRangeMin")),void 0!==t.get("chartRangeMax")&&(t.get("chartRangeClip")||t.get("chartRangeMax")>this.maxy)&&(this.maxy=t.get("chartRangeMax")),void 0!==t.get("chartRangeMinX")&&(t.get("chartRangeClipX")||t.get("chartRangeMinX")<this.minx)&&(this.minx=t.get("chartRangeMinX")),void 0!==t.get("chartRangeMaxX")&&(t.get("chartRangeClipX")||t.get("chartRangeMaxX")>this.maxx)&&(this.maxx=t.get("chartRangeMaxX"))},drawNormalRange:function(t,e,i,a,n){var r=this.options.get("normalRangeMin"),s=this.options.get("normalRangeMax"),o=e+Math.round(i-i*((s-this.miny)/n)),l=Math.round(i*(s-r)/n);this.target.drawRect(t,o,a,l,void 0,this.options.get("normalRangeColor")).append()},render:function(){var e,i,a,n,r,s,o,l,h,c,u,p,d,g,m,v,x,b,w,M,k,C,_,S,F=this.options,T=this.target,R=this.canvasWidth,A=this.canvasHeight,E=this.vertices,I=F.get("spotRadius"),P=this.regionMap;if(y._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),C=this.xvalues,_=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(n=r=0,e=this.maxx-this.minx===0?1:this.maxx-this.minx,i=this.maxy-this.miny===0?1:this.maxy-this.miny,a=this.yvalues.length-1,I&&(4*I>R||4*I>A)&&(I=0),I&&((F.get("minSpotColor")||F.get("spotColor")&&_[a]===this.miny)&&(A-=Math.ceil(I)),(F.get("maxSpotColor")||F.get("spotColor")&&_[a]===this.maxy)&&(A-=Math.ceil(I),n+=Math.ceil(I)),(F.get("minSpotColor")||F.get("maxSpotColor"))&&(_[0]===this.miny||_[0]===this.maxy)&&(r+=Math.ceil(I),R-=Math.ceil(I)),(F.get("spotColor")||F.get("minSpotColor")||F.get("maxSpotColor")&&(_[a]===this.miny||_[a]===this.maxy))&&(R-=Math.ceil(I))),A--,F.get("normalRangeMin")&&!F.get("drawNormalOnTop")&&this.drawNormalRange(r,n,A,R,i),o=[],l=[o],g=m=null,v=_.length,S=0;v>S;S++)h=C[S],u=C[S+1],c=_[S],p=r+Math.round((h-this.minx)*(R/e)),d=v-1>S?r+Math.round((u-this.minx)*(R/e)):R,m=p+(d-p)/2,P[S]=[g||0,m,S],g=m,null===c?S&&null!==_[S-1]&&(o=[],l.push(o),E.push(null)):(c<this.miny&&(c=this.miny),c>this.maxy&&(c=this.maxy),o.length||o.push([p,n+A]),s=[p,n+Math.round(A-A*((c-this.miny)/i))],o.push(s),E.push(s));for(x=[],b=[],w=l.length,S=0;w>S;S++)o=l[S],o.length&&(F.get("fillColor")&&(o.push([o[o.length-1][0],n+A]),b.push(o.slice(0)),o.pop()),o.length>2&&(o[0]=[o[0][0],o[1][1]]),x.push(o));for(w=b.length,S=0;w>S;S++)T.drawShape(b[S],F.get("fillColor"),F.get("fillColor")).append();for(F.get("normalRangeMin")&&F.get("drawNormalOnTop")&&this.drawNormalRange(r,n,A,R,i),w=x.length,S=0;w>S;S++)T.drawShape(x[S],F.get("lineColor"),void 0,F.get("lineWidth")).append();if(I&&F.get("valueSpots"))for(M=F.get("valueSpots"),void 0===M.get&&(M=new f(M)),S=0;v>S;S++)k=M.get(_[S]),k&&T.drawCircle(r+Math.round((C[S]-this.minx)*(R/e)),n+Math.round(A-A*((_[S]-this.miny)/i)),I,void 0,k).append();I&&F.get("spotColor")&&T.drawCircle(r+Math.round((C[C.length-1]-this.minx)*(R/e)),n+Math.round(A-A*((_[a]-this.miny)/i)),I,void 0,F.get("spotColor")).append(),this.maxy!==this.minyorg&&(I&&F.get("minSpotColor")&&(h=C[t.inArray(this.minyorg,_)],T.drawCircle(r+Math.round((h-this.minx)*(R/e)),n+Math.round(A-A*((this.minyorg-this.miny)/i)),I,void 0,F.get("minSpotColor")).append()),I&&F.get("maxSpotColor")&&(h=C[t.inArray(this.maxyorg,_)],T.drawCircle(r+Math.round((h-this.minx)*(R/e)),n+Math.round(A-A*((this.maxyorg-this.miny)/i)),I,void 0,F.get("maxSpotColor")).append())),this.lastShapeId=T.getLastShapeId(),this.canvasTop=n,T.render()}}}),t.fn.sparkline.bar=b=i(t.fn.sparkline._base,x,{type:"bar",init:function(e,i,a,r,h){var c,u,p,d,g,m,v,x,y,w,M,k,C,_,S,F,T,R,A,E,I,P,W=parseInt(a.get("barWidth"),10),D=parseInt(a.get("barSpacing"),10),z=a.get("chartRangeMin"),H=a.get("chartRangeMax"),L=a.get("chartRangeClip"),B=1/0,O=-(1/0);for(b._super.init.call(this,e,i,a,r,h),m=0,v=i.length;v>m;m++)E=i[m],c="string"==typeof E&&E.indexOf(":")>-1,(c||t.isArray(E))&&(S=!0,c&&(E=i[m]=o(E.split(":"))),E=l(E,null),u=Math.min.apply(Math,E),p=Math.max.apply(Math,E),B>u&&(B=u),p>O&&(O=p));this.stacked=S,this.regionShapes={},this.barWidth=W,this.barSpacing=D,this.totalBarWidth=W+D,this.width=r=i.length*W+(i.length-1)*D,this.initTarget(),L&&(C=void 0===z?-(1/0):z,_=void 0===H?1/0:H),g=[],d=S?[]:g;var N=[],j=[];for(m=0,v=i.length;v>m;m++)if(S)for(F=i[m],i[m]=A=[],N[m]=0,d[m]=j[m]=0,T=0,R=F.length;R>T;T++)E=A[T]=L?n(F[T],C,_):F[T],null!==E&&(E>0&&(N[m]+=E),0>B&&O>0?0>E?j[m]+=Math.abs(E):d[m]+=E:d[m]+=Math.abs(E-(0>E?O:B)),g.push(E));else E=L?n(i[m],C,_):i[m],E=i[m]=s(E),null!==E&&g.push(E);this.max=k=Math.max.apply(Math,g),this.min=M=Math.min.apply(Math,g),this.stackMax=O=S?Math.max.apply(Math,N):k,this.stackMin=B=S?Math.min.apply(Math,g):M,void 0!==a.get("chartRangeMin")&&(a.get("chartRangeClip")||a.get("chartRangeMin")<M)&&(M=a.get("chartRangeMin")),void 0!==a.get("chartRangeMax")&&(a.get("chartRangeClip")||a.get("chartRangeMax")>k)&&(k=a.get("chartRangeMax")),this.zeroAxis=y=a.get("zeroAxis",!0),w=0>=M&&k>=0&&y?0:0==y?M:M>0?M:k,this.xaxisOffset=w,x=S?Math.max.apply(Math,d)+Math.max.apply(Math,j):k-M,this.canvasHeightEf=y&&0>M?this.canvasHeight-2:this.canvasHeight-1,w>M?(P=S&&k>=0?O:k,I=(P-w)/x*this.canvasHeight,I!==Math.ceil(I)&&(this.canvasHeightEf-=2,I=Math.ceil(I))):I=this.canvasHeight,this.yoffset=I,t.isArray(a.get("colorMap"))?(this.colorMapByIndex=a.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=a.get("colorMap"),this.colorMapByValue&&void 0===this.colorMapByValue.get&&(this.colorMapByValue=new f(this.colorMapByValue))),this.range=x},getRegion:function(t,e,i){var a=Math.floor(e/this.totalBarWidth);return 0>a||a>=this.values.length?void 0:a},getCurrentRegionFields:function(){var t,e,i=this.currentRegion,a=d(this.values[i]),n=[];for(e=a.length;e--;)t=a[e],n.push({isNull:null===t,value:t,color:this.calcColor(e,t,i),offset:i});return n},calcColor:function(e,i,a){var n,r,s=this.colorMapByIndex,o=this.colorMapByValue,l=this.options;return n=this.stacked?l.get("stackedBarColor"):0>i?l.get("negBarColor"):l.get("barColor"),0===i&&void 0!==l.get("zeroColor")&&(n=l.get("zeroColor")),o&&(r=o.get(i))?n=r:s&&s.length>a&&(n=s[a]),t.isArray(n)?n[e%n.length]:n},renderRegion:function(e,i){var a,n,r,s,o,l,h,u,p,d,g=this.values[e],f=this.options,m=this.xaxisOffset,v=[],x=this.range,y=this.stacked,b=this.target,w=e*this.totalBarWidth,M=this.canvasHeightEf,k=this.yoffset;if(g=t.isArray(g)?g:[g],h=g.length,u=g[0],s=c(null,g),d=c(m,g,!0),s)return f.get("nullColor")?(r=i?f.get("nullColor"):this.calcHighlightColor(f.get("nullColor"),f),a=k>0?k-1:k,b.drawRect(w,a,this.barWidth-1,0,r,r)):void 0;for(o=k,l=0;h>l;l++){if(u=g[l],y&&u===m){if(!d||p)continue;p=!0}n=x>0?Math.floor(M*(Math.abs(u-m)/x))+1:1,m>u||u===m&&0===k?(a=o,o+=n):(a=k-n,k-=n),r=this.calcColor(l,u,e),i&&(r=this.calcHighlightColor(r,f)),v.push(b.drawRect(w,a,this.barWidth-1,n-1,r,r))}return 1===v.length?v[0]:v}}),t.fn.sparkline.tristate=w=i(t.fn.sparkline._base,x,{type:"tristate",init:function(e,i,a,n,r){var s=parseInt(a.get("barWidth"),10),o=parseInt(a.get("barSpacing"),10);w._super.init.call(this,e,i,a,n,r),this.regionShapes={},this.barWidth=s,this.barSpacing=o,this.totalBarWidth=s+o,this.values=t.map(i,Number),this.width=n=i.length*s+(i.length-1)*o,t.isArray(a.get("colorMap"))?(this.colorMapByIndex=a.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=a.get("colorMap"),this.colorMapByValue&&void 0===this.colorMapByValue.get&&(this.colorMapByValue=new f(this.colorMapByValue))),this.initTarget()},getRegion:function(t,e,i){return Math.floor(e/this.totalBarWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:void 0===this.values[t],value:this.values[t],color:this.calcColor(this.values[t],t),offset:t}},calcColor:function(t,e){var i,a,n=this.values,r=this.options,s=this.colorMapByIndex,o=this.colorMapByValue;return i=o&&(a=o.get(t))?a:s&&s.length>e?s[e]:n[e]<0?r.get("negBarColor"):n[e]>0?r.get("posBarColor"):r.get("zeroBarColor")},renderRegion:function(t,e){var i,a,n,r,s,o,l=this.values,h=this.options,c=this.target;return i=c.pixelHeight,n=Math.round(i/2),r=t*this.totalBarWidth,l[t]<0?(s=n,a=n-1):l[t]>0?(s=0,a=n-1):(s=n-1,a=2),o=this.calcColor(l[t],t),null!==o?(e&&(o=this.calcHighlightColor(o,h)),c.drawRect(r,s,this.barWidth-1,a-1,o,o)):void 0}}),t.fn.sparkline.discrete=M=i(t.fn.sparkline._base,x,{type:"discrete",init:function(e,i,a,n,r){M._super.init.call(this,e,i,a,n,r),this.regionShapes={},this.values=i=t.map(i,Number),this.min=Math.min.apply(Math,i),this.max=Math.max.apply(Math,i),this.range=this.max-this.min,this.width=n="auto"===a.get("width")?2*i.length:this.width,this.interval=Math.floor(n/i.length),this.itemWidth=n/i.length,void 0!==a.get("chartRangeMin")&&(a.get("chartRangeClip")||a.get("chartRangeMin")<this.min)&&(this.min=a.get("chartRangeMin")),void 0!==a.get("chartRangeMax")&&(a.get("chartRangeClip")||a.get("chartRangeMax")>this.max)&&(this.max=a.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===a.get("lineHeight")?Math.round(.3*this.canvasHeight):a.get("lineHeight"))},getRegion:function(t,e,i){return Math.floor(e/this.itemWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:void 0===this.values[t],value:this.values[t],offset:t}},renderRegion:function(t,e){var i,a,r,s,o=this.values,l=this.options,h=this.min,c=this.max,u=this.range,p=this.interval,d=this.target,g=this.canvasHeight,f=this.lineHeight,m=g-f;return a=n(o[t],h,c),s=t*p,i=Math.round(m-m*((a-h)/u)),r=l.get("thresholdColor")&&a<l.get("thresholdValue")?l.get("thresholdColor"):l.get("lineColor"),e&&(r=this.calcHighlightColor(r,l)),d.drawLine(s,i,s,i+f,r)}}),t.fn.sparkline.bullet=k=i(t.fn.sparkline._base,{type:"bullet",init:function(e,i,a,n,r){var s,o;k._super.init.call(this,e,i,a,n,r),i=t.map(i,Number),s=Math.min.apply(Math,i),o=Math.max.apply(Math,i),s=void 0===a.get("base")?0>s?s:0:a.get("base"),this.min=s,this.max=o,this.range=o-s,this.shapes={},this.valueShapes={},this.regiondata={},this.width=n="auto"===a.get("width")?"4.0em":n,this.target=this.$el.simpledraw(n,r,a.get("composite")),i.length||(this.disabled=!0),this.initTarget()},getRegion:function(t,e,i){var a=this.target.getShapeAt(t,e,i);return void 0!==a&&void 0!==this.shapes[a]?this.shapes[a]:void 0},getCurrentRegionFields:function(){var t=this.currentRegion;return{fieldkey:t.substr(0,1),value:this.values[t.substr(1)],region:t}},changeHighlight:function(t){var e,i=this.currentRegion,a=this.valueShapes[i];switch(delete this.shapes[a],i.substr(0,1)){case"r":e=this.renderRange(i.substr(1),t);break;case"p":e=this.renderPerformance(t);break;case"t":e=this.renderTarget(t)}this.valueShapes[i]=e.id,this.shapes[e.id]=i,this.target.replaceWithShape(a,e)},renderRange:function(t,e){var i=this.values[t],a=Math.round(this.canvasWidth*((i-this.min)/this.range)),n=this.options.get("rangeColors")[t-2];return e&&(n=this.calcHighlightColor(n,this.options)),this.target.drawRect(0,0,a-1,this.canvasHeight-1,n,n)},renderPerformance:function(t){var e=this.values[1],i=Math.round(this.canvasWidth*((e-this.min)/this.range)),a=this.options.get("performanceColor");return t&&(a=this.calcHighlightColor(a,this.options)),this.target.drawRect(0,Math.round(.3*this.canvasHeight),i-1,Math.round(.4*this.canvasHeight)-1,a,a)},renderTarget:function(t){var e=this.values[0],i=Math.round(this.canvasWidth*((e-this.min)/this.range)-this.options.get("targetWidth")/2),a=Math.round(.1*this.canvasHeight),n=this.canvasHeight-2*a,r=this.options.get("targetColor");return t&&(r=this.calcHighlightColor(r,this.options)),this.target.drawRect(i,a,this.options.get("targetWidth")-1,n-1,r,r)},render:function(){var t,e,i=this.values.length,a=this.target;if(k._super.render.call(this)){for(t=2;i>t;t++)e=this.renderRange(t).append(),this.shapes[e.id]="r"+t,this.valueShapes["r"+t]=e.id;e=this.renderPerformance().append(),this.shapes[e.id]="p1",this.valueShapes.p1=e.id,e=this.renderTarget().append(),this.shapes[e.id]="t0",this.valueShapes.t0=e.id,a.render()}}}),t.fn.sparkline.pie=C=i(t.fn.sparkline._base,{type:"pie",init:function(e,i,a,n,r){var s,o=0;if(C._super.init.call(this,e,i,a,n,r),this.shapes={},this.valueShapes={},this.values=i=t.map(i,Number),"auto"===a.get("width")&&(this.width=this.height),i.length>0)for(s=i.length;s--;)o+=i[s];this.total=o,this.initTarget(),this.radius=Math.floor(Math.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(t,e,i){var a=this.target.getShapeAt(t,e,i);return void 0!==a&&void 0!==this.shapes[a]?this.shapes[a]:void 0},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:void 0===this.values[t],value:this.values[t],percent:this.values[t]/this.total*100,color:this.options.get("sliceColors")[t%this.options.get("sliceColors").length],offset:t}},changeHighlight:function(t){var e=this.currentRegion,i=this.renderSlice(e,t),a=this.valueShapes[e];delete this.shapes[a],this.target.replaceWithShape(a,i),this.valueShapes[e]=i.id,this.shapes[i.id]=e},renderSlice:function(t,e){var i,a,n,r,s,o=this.target,l=this.options,h=this.radius,c=l.get("borderWidth"),u=l.get("offset"),p=2*Math.PI,d=this.values,g=this.total,f=u?2*Math.PI*(u/360):0;for(r=d.length,n=0;r>n;n++){if(i=f,a=f,g>0&&(a=f+p*(d[n]/g)),t===n)return s=l.get("sliceColors")[n%l.get("sliceColors").length],e&&(s=this.calcHighlightColor(s,l)),o.drawPieSlice(h,h,h-c,i,a,void 0,s);f=a}},render:function(){var t,e,i=this.target,a=this.values,n=this.options,r=this.radius,s=n.get("borderWidth");if(C._super.render.call(this)){for(s&&i.drawCircle(r,r,Math.floor(r-s/2),n.get("borderColor"),void 0,s).append(),e=a.length;e--;)t=this.renderSlice(e).append(),this.valueShapes[e]=t.id,this.shapes[t.id]=e;i.render()}}}),t.fn.sparkline.box=_=i(t.fn.sparkline._base,{type:"box",init:function(e,i,a,n,r){_._super.init.call(this,e,i,a,n,r),this.values=t.map(i,Number),this.width="auto"===a.get("width")?"4.0em":n,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var t=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]},{field:"lo",value:this.loutlier},{field:"ro",value:this.routlier}];return void 0!==this.lwhisker&&t.push({field:"lw",value:this.lwhisker}),void 0!==this.rwhisker&&t.push({field:"rw",value:this.rwhisker}),t},render:function(){var t,e,i,a,n,s,o,l,h,c,u,p=this.target,d=this.values,g=d.length,f=this.options,m=this.canvasWidth,v=this.canvasHeight,x=void 0===f.get("chartRangeMin")?Math.min.apply(Math,d):f.get("chartRangeMin"),y=void 0===f.get("chartRangeMax")?Math.max.apply(Math,d):f.get("chartRangeMax"),b=0;if(_._super.render.call(this)){if(f.get("raw"))f.get("showOutliers")&&d.length>5?(e=d[0],t=d[1],a=d[2],n=d[3],s=d[4],o=d[5],l=d[6]):(t=d[0],a=d[1],n=d[2],s=d[3],o=d[4]);else if(d.sort(function(t,e){return t-e}),a=r(d,1),n=r(d,2),s=r(d,3),i=s-a,f.get("showOutliers")){for(t=o=void 0,h=0;g>h;h++)void 0===t&&d[h]>a-i*f.get("outlierIQR")&&(t=d[h]),d[h]<s+i*f.get("outlierIQR")&&(o=d[h]);e=d[0],l=d[g-1]}else t=d[0],o=d[g-1];this.quartiles=[a,n,s],this.lwhisker=t,this.rwhisker=o,this.loutlier=e,this.routlier=l,u=m/(y-x+1),f.get("showOutliers")&&(b=Math.ceil(f.get("spotRadius")),m-=2*Math.ceil(f.get("spotRadius")),u=m/(y-x+1),t>e&&p.drawCircle((e-x)*u+b,v/2,f.get("spotRadius"),f.get("outlierLineColor"),f.get("outlierFillColor")).append(),l>o&&p.drawCircle((l-x)*u+b,v/2,f.get("spotRadius"),f.get("outlierLineColor"),f.get("outlierFillColor")).append()),p.drawRect(Math.round((a-x)*u+b),Math.round(.1*v),Math.round((s-a)*u),Math.round(.8*v),f.get("boxLineColor"),f.get("boxFillColor")).append(),
p.drawLine(Math.round((t-x)*u+b),Math.round(v/2),Math.round((a-x)*u+b),Math.round(v/2),f.get("lineColor")).append(),p.drawLine(Math.round((t-x)*u+b),Math.round(v/4),Math.round((t-x)*u+b),Math.round(v-v/4),f.get("whiskerColor")).append(),p.drawLine(Math.round((o-x)*u+b),Math.round(v/2),Math.round((s-x)*u+b),Math.round(v/2),f.get("lineColor")).append(),p.drawLine(Math.round((o-x)*u+b),Math.round(v/4),Math.round((o-x)*u+b),Math.round(v-v/4),f.get("whiskerColor")).append(),p.drawLine(Math.round((n-x)*u+b),Math.round(.1*v),Math.round((n-x)*u+b),Math.round(.9*v),f.get("medianColor")).append(),f.get("target")&&(c=Math.ceil(f.get("spotRadius")),p.drawLine(Math.round((f.get("target")-x)*u+b),Math.round(v/2-c),Math.round((f.get("target")-x)*u+b),Math.round(v/2+c),f.get("targetColor")).append(),p.drawLine(Math.round((f.get("target")-x)*u+b-c),Math.round(v/2),Math.round((f.get("target")-x)*u+b+c),Math.round(v/2),f.get("targetColor")).append()),p.render()}}}),t.browser.msie&&!document.namespaces.v&&document.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),void 0===t.browser.hasCanvas&&(t.browser.hasCanvas=void 0!==document.createElement("canvas").getContext),T=i({init:function(t,e,i,a){this.target=t,this.id=e,this.type=i,this.args=a},append:function(){return this.target.appendShape(this),this}}),R=i({_pxregex:/(\d+)(px)?\s*$/i,init:function(e,i,a){e&&(this.width=e,this.height=i,this.target=a,this.lastShapeId=null,a[0]&&(a=a[0]),t.data(a,"_jqs_vcanvas",this))},drawLine:function(t,e,i,a,n,r){return this.drawShape([[t,e],[i,a]],n,r)},drawShape:function(t,e,i,a){return this._genShape("Shape",[t,e,i,a])},drawCircle:function(t,e,i,a,n,r){return this._genShape("Circle",[t,e,i,a,n,r])},drawPieSlice:function(t,e,i,a,n,r,s){return this._genShape("PieSlice",[t,e,i,a,n,r,s])},drawRect:function(t,e,i,a,n,r){return this._genShape("Rect",[t,e,i,a,n,r])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(e,i){t(i).html(e)},_calculatePixelDims:function(e,i,a){var n;n=this._pxregex.exec(i),n?this.pixelHeight=n[1]:this.pixelHeight=t(a).height(),n=this._pxregex.exec(e),n?this.pixelWidth=n[1]:this.pixelWidth=t(a).width()},_genShape:function(t,e){var i=W++;return e.unshift(i),new T(this,i,t,e)},appendShape:function(t){alert("appendShape not implemented")},replaceWithShape:function(t,e){alert("replaceWithShape not implemented")},insertAfterShape:function(t,e){alert("insertAfterShape not implemented")},removeShapeId:function(t){alert("removeShapeId not implemented")},getShapeAt:function(t,e,i){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),A=i(R,{init:function(e,i,a,n){A._super.init.call(this,e,i,a),this.canvas=document.createElement("canvas"),a[0]&&(a=a[0]),t.data(a,"_jqs_vcanvas",this),t(this.canvas).css({display:"inline-block",width:e,height:i,verticalAlign:"top"}),this._insert(this.canvas,a),this._calculatePixelDims(e,i,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=n,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=void 0,t(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(t,e,i){var a=this.canvas.getContext("2d");return void 0!==t&&(a.strokeStyle=t),a.lineWidth=void 0===i?1:i,void 0!==e&&(a.fillStyle=e),a},reset:function(){var t=this._getContext();t.clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=void 0},_drawShape:function(t,e,i,a,n){var r,s,o=this._getContext(i,a,n);for(o.beginPath(),o.moveTo(e[0][0]+.5,e[0][1]+.5),r=1,s=e.length;s>r;r++)o.lineTo(e[r][0]+.5,e[r][1]+.5);void 0!==i&&o.stroke(),void 0!==a&&o.fill(),void 0!==this.targetX&&void 0!==this.targetY&&o.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawCircle:function(t,e,i,a,n,r,s){var o=this._getContext(n,r,s);o.beginPath(),o.arc(e,i,a,0,2*Math.PI,!1),void 0!==this.targetX&&void 0!==this.targetY&&o.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t),void 0!==n&&o.stroke(),void 0!==r&&o.fill()},_drawPieSlice:function(t,e,i,a,n,r,s,o){var l=this._getContext(s,o);l.beginPath(),l.moveTo(e,i),l.arc(e,i,a,n,r,!1),l.lineTo(e,i),l.closePath(),void 0!==s&&l.stroke(),o&&l.fill(),void 0!==this.targetX&&void 0!==this.targetY&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawRect:function(t,e,i,a,n,r,s){return this._drawShape(t,[[e,i],[e+a,i],[e+a,i+n],[e,i+n],[e,i]],r,s)},appendShape:function(t){return this.shapes[t.id]=t,this.shapeseq.push(t.id),this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var i,a=this.shapeseq;for(this.shapes[e.id]=e,i=a.length;i--;)a[i]==t&&(a[i]=e.id);delete this.shapes[t]},replaceWithShapes:function(t,e){var i,a,n,r=this.shapeseq,s={};for(a=t.length;a--;)s[t[a]]=!0;for(a=r.length;a--;)i=r[a],s[i]&&(r.splice(a,1),delete this.shapes[i],n=a);for(a=e.length;a--;)r.splice(n,0,e[a].id),this.shapes[e[a].id]=e[a]},insertAfterShape:function(t,e){var i,a=this.shapeseq;for(i=a.length;i--;)if(a[i]===t)return a.splice(i+1,0,e.id),void(this.shapes[e.id]=e)},removeShapeId:function(t){var e,i=this.shapeseq;for(e=i.length;e--;)if(i[e]===t){i.splice(e,1);break}delete this.shapes[t]},getShapeAt:function(t,e,i){return this.targetX=e,this.targetY=i,this.render(),this.currentTargetShapeId},render:function(){var t,e,i,a=this.shapeseq,n=this.shapes,r=a.length,s=this._getContext();for(s.clearRect(0,0,this.pixelWidth,this.pixelHeight),i=0;r>i;i++)t=a[i],e=n[t],this["_draw"+e.type].apply(this,e.args);this.interact||(this.shapes={},this.shapeseq=[])}}),E=i(R,{init:function(e,i,a){var n;E._super.init.call(this,e,i,a),a[0]&&(a=a[0]),t.data(a,"_jqs_vcanvas",this),this.canvas=document.createElement("span"),t(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:e,height:i,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,a),this._calculatePixelDims(e,i,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,n='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",n),this.group=t(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(t,e,i,a,n){var r,s,o,l,h,c,u,p=[];for(u=0,c=e.length;c>u;u++)p[u]=""+e[u][0]+","+e[u][1];return r=p.splice(0,1),n=void 0===n?1:n,s=void 0===i?' stroked="false" ':' strokeWeight="'+n+'px" strokeColor="'+i+'" ',o=void 0===a?' filled="false"':' fillColor="'+a+'" filled="true" ',l=p[0]===p[p.length-1]?"x ":"",h='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+s+o+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+r+" l "+p.join(", ")+" "+l+'e"> </v:shape>'},_drawCircle:function(t,e,i,a,n,r,s){var o,l,h;return e-=a,i-=a,o=void 0===n?' stroked="false" ':' strokeWeight="'+s+'px" strokeColor="'+n+'" ',l=void 0===r?' filled="false"':' fillColor="'+r+'" filled="true" ',h='<v:oval  id="jqsshape'+t+'" '+o+l+' style="position:absolute;top:'+i+"px; left:"+e+"px; width:"+2*a+"px; height:"+2*a+'px"></v:oval>'},_drawPieSlice:function(t,e,i,a,n,r,s,o){var l,h,c,u,p,d,g,f;return n===r||(r-n===2*Math.PI&&(n=0,r=2*Math.PI),h=e+Math.round(Math.cos(n)*a),c=i+Math.round(Math.sin(n)*a),u=e+Math.round(Math.cos(r)*a),p=i+Math.round(Math.sin(r)*a),h===u&&c===p&&r-n<Math.PI)?void 0:(l=[e-a,i-a,e+a,i+a,h,c,u,p],d=void 0===s?' stroked="false" ':' strokeWeight="1px" strokeColor="'+s+'" ',g=void 0===o?' filled="false"':' fillColor="'+o+'" filled="true" ',f='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+d+g+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+e+","+i+" wa "+l.join(", ")+' x e"> </v:shape>')},_drawRect:function(t,e,i,a,n,r,s){return this._drawShape(t,[[e,i],[e,i+n],[e+a,i+n],[e+a,i],[e,i]],r,s)},reset:function(){this.group.innerHTML=""},appendShape:function(t){var e=this["_draw"+t.type].apply(this,t.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",e):this.prerender+=e,this.lastShapeId=t.id,t.id},replaceWithShape:function(e,i){var a=t("#jqsshape"+e),n=this["_draw"+i.type].apply(this,i.args);a[0].outerHTML=n},replaceWithShapes:function(e,i){var a,n=t("#jqsshape"+e[0]),r="",s=i.length;for(a=0;s>a;a++)r+=this["_draw"+i[a].type].apply(this,i[a].args);for(n[0].outerHTML=r,a=1;a<e.length;a++)t("#jqsshape"+e[a]).remove()},insertAfterShape:function(e,i){var a=t("#jqsshape"+e),n=this["_draw"+i.type].apply(this,i.args);a[0].insertAdjacentHTML("afterEnd",n)},removeShapeId:function(e){var i=t("#jqsshape"+e);this.group.removeChild(i[0])},getShapeAt:function(t,e,i){var a=t.id.substr(8);return a},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})}(jQuery);
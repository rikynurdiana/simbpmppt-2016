!function(){function e(){this.returnValue=!1}function t(){this.cancelBubble=!0}var n,i,r=0,o=[],a={},s={},l={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"#39"},u=/[<>&\"\']/g,c=window.setTimeout,f={};!function(e){var t,n,i,r=e.split(/,/);for(t=0;t<r.length;t+=2)for(i=r[t+1].split(/ /),n=0;n<i.length;n++)s[i[n]]=r[t]}("application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mpga mpega mp2 mp3,audio/x-wav,wav,audio/mp4,m4a,image/bmp,bmp,image/gif,gif,image/jpeg,jpeg jpg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/vnd.rn-realvideo,rv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe");var p={VERSION:"1.5.4",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,IMAGE_FORMAT_ERROR:-700,IMAGE_MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,mimeTypes:s,ua:function(){var e,t,n,i=navigator,r=i.userAgent,o=i.vendor;return e=/WebKit/.test(r),n=e&&-1!==o.indexOf("Apple"),t=window.opera&&window.opera.buildNumber,{windows:-1!==navigator.platform.indexOf("Win"),ie:!e&&!t&&/MSIE/gi.test(r)&&/Explorer/gi.test(i.appName),webkit:e,gecko:!e&&/Gecko/.test(r),safari:n,opera:!!t}}(),typeOf:function(e){return{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},extend:function(e){return p.each(arguments,function(t,n){n>0&&p.each(t,function(t,n){e[n]=t})}),e},cleanName:function(e){var t,n;for(n=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"],t=0;t<n.length;t+=2)e=e.replace(n[t],n[t+1]);return e=e.replace(/\s+/g,"_"),e=e.replace(/[^a-z0-9_\-\.]+/gi,"")},addRuntime:function(e,t){return t.name=e,o[e]=t,o.push(t),t},guid:function(){var e,t=(new Date).getTime().toString(32);for(e=0;5>e;e++)t+=Math.floor(65535*Math.random()).toString(32);return(p.guidPrefix||"p")+t+(r++).toString(32)},buildUrl:function(e,t){var n="";return p.each(t,function(e,t){n+=(n?"&":"")+encodeURIComponent(t)+"="+encodeURIComponent(e)}),n&&(e+=(e.indexOf("?")>0?"&":"?")+n),e},each:function(e,t){var i,r,o;if(e)if(i=e.length,i===n){for(r in e)if(e.hasOwnProperty(r)&&t(e[r],r)===!1)return}else for(o=0;i>o;o++)if(t(e[o],o)===!1)return},formatSize:function(e){return e===n||/\D/.test(e)?p.translate("N/A"):e>1073741824?Math.round(e/1073741824,1)+" GB":e>1048576?Math.round(e/1048576,1)+" MB":e>1024?Math.round(e/1024,1)+" KB":e+" b"},getPos:function(e,t){function n(e){var t,n,i=0,r=0;return e&&(n=e.getBoundingClientRect(),t="CSS1Compat"===l.compatMode?l.documentElement:l.body,i=n.left+t.scrollLeft,r=n.top+t.scrollTop),{x:i,y:r}}var i,r,o,a=0,s=0,l=document;if(e=e,t=t||l.body,e&&e.getBoundingClientRect&&navigator.userAgent.indexOf("MSIE")>0&&l.documentMode<8)return r=n(e),o=n(t),{x:r.x-o.x,y:r.y-o.y};for(i=e;i&&i!=t&&i.nodeType;)a+=i.offsetLeft||0,s+=i.offsetTop||0,i=i.offsetParent;for(i=e.parentNode;i&&i!=t&&i.nodeType;)a-=i.scrollLeft||0,s-=i.scrollTop||0,i=i.parentNode;return{x:a,y:s}},getSize:function(e){return{w:e.offsetWidth||e.clientWidth,h:e.offsetHeight||e.clientHeight}},parseSize:function(e){var t;return"string"==typeof e&&(e=/^([0-9]+)([mgk]?)$/.exec(e.toLowerCase().replace(/[^0-9mkg]/g,"")),t=e[2],e=+e[1],"g"==t&&(e*=1073741824),"m"==t&&(e*=1048576),"k"==t&&(e*=1024)),e},xmlEncode:function(e){return e?(""+e).replace(u,function(e){return l[e]?"&"+l[e]+";":e}):e},toArray:function(e){var t,n=[];for(t=0;t<e.length;t++)n[t]=e[t];return n},inArray:function(e,t){if(t){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n}return-1},addI18n:function(e){return p.extend(a,e)},translate:function(e){return a[e]||e},isEmptyObj:function(e){if(e===n)return!0;for(var t in e)return!1;return!0},hasClass:function(e,t){var n;return""==e.className?!1:(n=new RegExp("(^|\\s+)"+t+"(\\s+|$)"),n.test(e.className))},addClass:function(e,t){p.hasClass(e,t)||(e.className=""==e.className?t:e.className.replace(/\s+$/,"")+" "+t)},removeClass:function(e,t){var n=new RegExp("(^|\\s+)"+t+"(\\s+|$)");e.className=e.className.replace(n,function(e,t,n){return" "===t&&" "===n?" ":""})},getStyle:function(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null)[t]:void 0},addEvent:function(r,o,a){var s,l,u;u=arguments[3],o=o.toLowerCase(),i===n&&(i="Plupload_"+p.guid()),r.addEventListener?(s=a,r.addEventListener(o,s,!1)):r.attachEvent&&(s=function(){var n=window.event;n.target||(n.target=n.srcElement),n.preventDefault=e,n.stopPropagation=t,a(n)},r.attachEvent("on"+o,s)),r[i]===n&&(r[i]=p.guid()),f.hasOwnProperty(r[i])||(f[r[i]]={}),l=f[r[i]],l.hasOwnProperty(o)||(l[o]=[]),l[o].push({func:s,orig:a,key:u})},removeEvent:function(e,t){var r,o,a;if("function"==typeof arguments[2]?o=arguments[2]:a=arguments[2],t=t.toLowerCase(),e[i]&&f[e[i]]&&f[e[i]][t]){r=f[e[i]][t];for(var s=r.length-1;s>=0&&(r[s].key!==a&&r[s].orig!==o||(e.removeEventListener?e.removeEventListener(t,r[s].func,!1):e.detachEvent&&e.detachEvent("on"+t,r[s].func),r[s].orig=null,r[s].func=null,r.splice(s,1),o===n));s--);if(r.length||delete f[e[i]][t],p.isEmptyObj(f[e[i]])){delete f[e[i]];try{delete e[i]}catch(l){e[i]=n}}}},removeAllEvents:function(e){var t=arguments[1];e[i]!==n&&e[i]&&p.each(f[e[i]],function(n,i){p.removeEvent(e,i,t)})}};p.Uploader=function(e){function t(){var e,t,n=0;if(this.state==p.STARTED){for(t=0;t<l.length;t++)e||l[t].status!=p.QUEUED?n++:(e=l[t],e.status=p.UPLOADING,this.trigger("BeforeUpload",e)&&this.trigger("UploadFile",e));n==l.length&&(this.stop(),this.trigger("UploadComplete",l))}}function i(){var e,t;for(r.reset(),e=0;e<l.length;e++)t=l[e],t.size!==n?(r.size+=t.size,r.loaded+=t.loaded):r.size=n,t.status==p.DONE?r.uploaded++:t.status==p.FAILED?r.failed++:r.queued++;r.size===n?r.percent=l.length>0?Math.ceil(r.uploaded/l.length*100):0:(r.bytesPerSec=Math.ceil(r.loaded/((+new Date-a||1)/1e3)),r.percent=r.size>0?Math.ceil(r.loaded/r.size*100):0)}var r,a,s={},l=[],u=!1;r=new p.QueueProgress,e=p.extend({chunk_size:0,multipart:!0,multi_selection:!0,file_data_name:"file",filters:[]},e),p.extend(this,{state:p.STOPPED,runtime:"",features:{},files:l,settings:e,total:r,id:p.guid(),init:function(){function r(){var e,t,n,i=u[g++];if(i){if(e=i.getFeatures(),t=d.settings.required_features)for(t=t.split(","),n=0;n<t.length;n++)if(!e[t[n]])return void r();i.init(d,function(t){t&&t.success?(d.features=e,d.runtime=i.name,d.trigger("Init",{runtime:i.name}),d.trigger("PostInit"),d.refresh()):r()})}else d.trigger("Error",{code:p.INIT_ERROR,message:p.translate("Init error.")})}var s,u,f,d=this,g=0;if("function"==typeof e.preinit?e.preinit(d):p.each(e.preinit,function(e,t){d.bind(t,e)}),e.page_url=e.page_url||document.location.pathname.replace(/\/[^\/]+$/g,"/"),/^(\w+:\/\/|\/)/.test(e.url)||(e.url=e.page_url+e.url),e.chunk_size=p.parseSize(e.chunk_size),e.max_file_size=p.parseSize(e.max_file_size),d.bind("FilesAdded",function(t,i){var r,o,a,s=0,u=e.filters;for(u&&u.length&&(a=[],p.each(u,function(e){p.each(e.extensions.split(/,/),function(e){/^\s*\*\s*$/.test(e)?a.push("\\.*"):a.push("\\."+e.replace(new RegExp("["+"/^$.*+?|()[]{}\\".replace(/./g,"\\$&")+"]","g"),"\\$&"))})}),a=new RegExp(a.join("|")+"$","i")),r=0;r<i.length;r++)o=i[r],o.loaded=0,o.percent=0,o.status=p.QUEUED,!a||a.test(o.name)?o.size!==n&&o.size>e.max_file_size?t.trigger("Error",{code:p.FILE_SIZE_ERROR,message:p.translate("File size error."),file:o}):(l.push(o),s++):t.trigger("Error",{code:p.FILE_EXTENSION_ERROR,message:p.translate("File extension error."),file:o});return s?void c(function(){d.trigger("QueueChanged"),d.refresh()},1):!1}),e.unique_names&&d.bind("UploadFile",function(e,t){var n=t.name.match(/\.([^.]+)$/),i="tmp";n&&(i=n[1]),t.target_name=t.id+"."+i}),d.bind("UploadProgress",function(e,t){t.percent=t.size>0?Math.ceil(t.loaded/t.size*100):100,i()}),d.bind("StateChanged",function(e){if(e.state==p.STARTED)a=+new Date;else if(e.state==p.STOPPED)for(s=e.files.length-1;s>=0;s--)e.files[s].status==p.UPLOADING&&(e.files[s].status=p.QUEUED,i())}),d.bind("QueueChanged",i),d.bind("Error",function(e,n){n.file&&(n.file.status=p.FAILED,i(),e.state==p.STARTED&&c(function(){t.call(d)},1))}),d.bind("FileUploaded",function(e,n){n.status=p.DONE,n.loaded=n.size,e.trigger("UploadProgress",n),c(function(){t.call(d)},1)}),e.runtimes)for(u=[],f=e.runtimes.split(/\s?,\s?/),s=0;s<f.length;s++)o[f[s]]&&u.push(o[f[s]]);else u=o;r(),"function"==typeof e.init?e.init(d):p.each(e.init,function(e,t){d.bind(t,e)})},refresh:function(){this.trigger("Refresh")},start:function(){l.length&&this.state!=p.STARTED&&(this.state=p.STARTED,this.trigger("StateChanged"),t.call(this))},stop:function(){this.state!=p.STOPPED&&(this.state=p.STOPPED,this.trigger("CancelUpload"),this.trigger("StateChanged"))},disableBrowse:function(){u=arguments[0]!==n?arguments[0]:!0,this.trigger("DisableBrowse",u)},getFile:function(e){var t;for(t=l.length-1;t>=0;t--)if(l[t].id===e)return l[t]},removeFile:function(e){var t;for(t=l.length-1;t>=0;t--)if(l[t].id===e.id)return this.splice(t,1)[0]},splice:function(e,t){var i;return i=l.splice(e===n?0:e,t===n?l.length:t),this.trigger("FilesRemoved",i),this.trigger("QueueChanged"),i},trigger:function(e){var t,n,i=s[e.toLowerCase()];if(i)for(n=Array.prototype.slice.call(arguments),n[0]=this,t=0;t<i.length;t++)if(i[t].func.apply(i[t].scope,n)===!1)return!1;return!0},hasEventListener:function(e){return!!s[e.toLowerCase()]},bind:function(e,t,n){var i;e=e.toLowerCase(),i=s[e]||[],i.push({func:t,scope:n||this}),s[e]=i},unbind:function(e){e=e.toLowerCase();var t,i=s[e],r=arguments[1];if(i){if(r!==n){for(t=i.length-1;t>=0;t--)if(i[t].func===r){i.splice(t,1);break}}else i=[];i.length||delete s[e]}},unbindAll:function(){var e=this;p.each(s,function(t,n){e.unbind(n)})},destroy:function(){this.stop(),this.trigger("Destroy"),this.unbindAll()}})},p.File=function(e,t,n){var i=this;i.id=e,i.name=t,i.size=n,i.loaded=0,i.percent=0,i.status=0},p.Runtime=function(){this.getFeatures=function(){},this.init=function(e,t){}},p.QueueProgress=function(){var e=this;e.size=0,e.loaded=0,e.uploaded=0,e.failed=0,e.queued=0,e.percent=0,e.bytesPerSec=0,e.reset=function(){e.size=e.loaded=e.uploaded=e.failed=e.queued=e.percent=e.bytesPerSec=0}},p.runtimes={},window.plupload=p}();
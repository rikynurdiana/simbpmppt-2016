!function(e){function t(t){function i(e){var t=e.style;return"none"!=t.display&&"hidden"!=t.visibility}var s=i(t);return s&&e.each(e.dir(t,"parentNode"),function(){return s=i(this)}),s}function i(t,i,s,a){function n(s){var a=e[t][i][s]||[];return"string"==typeof a?a.split(/,?\s+/):a}var r=n("getter");return 1==a.length&&"string"==typeof a[0]&&(r=r.concat(n("getterSetter"))),-1!=e.inArray(s,r)}var s=e.fn.remove;e.fn.remove=function(){return e("*",this).add(this).each(function(){e(this).triggerHandler("remove")}),s.apply(this,arguments)},e.extend(e.expr[":"],{data:function(t,i,s){return e.data(t,s[3])},tabbable:function(e,i,s){var a=e.nodeName.toLowerCase();return e.tabIndex>=0&&("a"==a&&e.href||/input|select|textarea|button/.test(a)&&"hidden"!=e.type&&!e.disabled)&&t(e)}}),e.keyCode={BACKSPACE:8,CAPS_LOCK:20,COMMA:188,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38};var a=e.browser.mozilla&&parseFloat(e.browser.version)<1.9;e.fn.extend({ariaRole:function(e){return void 0!==e?this.attr("role",a?"wairole:"+e:e):(this.attr("role")||"").replace(/^wairole:/,"")},ariaState:function(t,i){return void 0!==i?this.each(function(s,n){a?n.setAttributeNS("http://www.w3.org/2005/07/aaa","aaa:"+t,i):e(n).attr("aria-"+t,i)}):this.attr(a?"aaa:"+t:"aria-"+t)}}),e.widget=function(t,s){var a=t.split(".")[0];t=t.split(".")[1],e.fn[t]=function(s){var n="string"==typeof s,r=Array.prototype.slice.call(arguments,1);if(n&&"_"==s.substring(0,1))return this;if(n&&i(a,t,s,r)){var o=e.data(this[0],t);return o?o[s].apply(o,r):void 0}return this.each(function(){var i=e.data(this,t);!i&&!n&&e.data(this,t,new e[a][t](this,s)),i&&n&&e.isFunction(i[s])&&i[s].apply(i,r)})},e[a]=e[a]||{},e[a][t]=function(i,s){var n=this;this.widgetName=t,this.widgetEventPrefix=e[a][t].eventPrefix||t,this.widgetBaseClass=a+"-"+t,this.options=e.extend({},e.widget.defaults,e[a][t].defaults,e.metadata&&e.metadata.get(i)[t],s),this.element=e(i).bind("setData."+t,function(e,t,i){return n._setData(t,i)}).bind("getData."+t,function(e,t){return n._getData(t)}).bind("remove",function(){return n.destroy()}),this._init()},e[a][t].prototype=e.extend({},e.widget.prototype,s),e[a][t].getterSetter="option"},e.widget.prototype={_init:function(){},destroy:function(){this.element.removeData(this.widgetName)},option:function(t,i){var s=t,a=this;if("string"==typeof t){if(void 0===i)return this._getData(t);s={},s[t]=i}e.each(s,function(e,t){a._setData(e,t)})},_getData:function(e){return this.options[e]},_setData:function(e,t){this.options[e]=t,"disabled"==e&&this.element[t?"addClass":"removeClass"](this.widgetBaseClass+"-disabled")},enable:function(){this._setData("disabled",!1)},disable:function(){this._setData("disabled",!0)},_trigger:function(t,i,s){var a=t==this.widgetEventPrefix?t:this.widgetEventPrefix+t;return i=i||e.event.fix({type:a,target:this.element[0]}),this.element.triggerHandler(a,[i,s],this.options[t])}},e.widget.defaults={disabled:!1},e.ui={plugin:{add:function(t,i,s){var a=e.ui[t].prototype;for(var n in s)a.plugins[n]=a.plugins[n]||[],a.plugins[n].push([i,s[n]])},call:function(e,t,i){var s=e.plugins[t];if(s)for(var a=0;a<s.length;a++)e.options[s[a][0]]&&s[a][1].apply(e.element,i)}},cssCache:{},css:function(t){if(e.ui.cssCache[t])return e.ui.cssCache[t];var i=e('<div class="ui-gen">').addClass(t).css({position:"absolute",top:"-5000px",left:"-5000px",display:"block"}).appendTo("body");e.ui.cssCache[t]=!(/auto|default/.test(i.css("cursor"))&&!/^[1-9]/.test(i.css("height"))&&!/^[1-9]/.test(i.css("width"))&&/none/.test(i.css("backgroundImage"))&&/transparent|rgba\(0, 0, 0, 0\)/.test(i.css("backgroundColor")));try{e("body").get(0).removeChild(i.get(0))}catch(s){}return e.ui.cssCache[t]},disableSelection:function(t){return e(t).attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})},enableSelection:function(t){return e(t).attr("unselectable","off").css("MozUserSelect","").unbind("selectstart.ui")},hasScroll:function(t,i){if("hidden"==e(t).css("overflow"))return!1;var s=i&&"left"==i?"scrollLeft":"scrollTop",a=!1;return t[s]>0?!0:(t[s]=1,a=t[s]>0,t[s]=0,a)}},e.ui.mouse={_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}),e.browser.msie&&(this._mouseUnselectable=this.element.attr("unselectable"),this.element.attr("unselectable","on")),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),e.browser.msie&&this.element.attr("unselectable",this._mouseUnselectable)},_mouseDown:function(t){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,s=1==t.which,a="string"==typeof this.options.cancel?e(t.target).parents().add(t.target).filter(this.options.cancel).length:!1;return s&&!a&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),!1)):!0},_mouseMove:function(t){return e.browser.msie&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),!1):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(e){return this.mouseDelayMet},_mouseStart:function(e){},_mouseDrag:function(e){},_mouseStop:function(e){},_mouseCapture:function(e){return!0}},e.ui.mouse.defaults={cancel:null,distance:1,delay:0}}(jQuery),function(e){e.widget("ui.spinner",{_init:function(){if(this._trigger("init",null,this.ui(null)),"object"==typeof this.options.items[0]&&!this.element.is("input"))for(var t=this.options.items,i=0;i<t.length;i++)this._addItem(t[i]);if(this._decimals=parseInt(this.options.decimals,10),-1!=this.options.stepping.toString().indexOf(".")){var s=this.options.stepping.toString();this._decimals=s.slice(s.indexOf(".")+1,s.length).length}var a=this;if(this.element.addClass("ui-spinner-box").attr("autocomplete","off"),this._setValue(isNaN(this._getValue())?this.options.start:this._getValue()),this.element.wrap("<div>").parent().addClass("ui-spinner").append('<button class="ui-spinner-up" type="button"></button>').find(".ui-spinner-up").bind("mousedown",function(t){e(this).addClass("ui-spinner-pressed"),a.counter||(a.counter=1),a._mousedown(100,"_up",t)}).bind("mouseup",function(t){e(this).removeClass("ui-spinner-pressed"),1==a.counter&&a._up(t),a._mouseup(t)}).bind("mouseout",function(t){e(this).removeClass("ui-spinner-pressed"),a.timer&&a._mouseup(t)}).bind("dblclick",function(t){e(this).removeClass("ui-spinner-pressed"),a._up(t),a._mouseup(t)}).bind("keydown.spinner",function(t){var i=e.keyCode;t.keyCode==i.SPACE||t.keyCode==i.ENTER?(e(this).addClass("ui-spinner-pressed"),a.counter||(a.counter=1),a._up.call(a,t)):t.keyCode==i.DOWN||t.keyCode==i.RIGHT?a.element.siblings(".ui-spinner-down").focus():t.keyCode==i.LEFT&&a.element.focus()}).bind("keyup.spinner",function(t){e(this).removeClass("ui-spinner-pressed"),a.counter=0,a._propagate("change",t)}).end().append('<button class="ui-spinner-down" type="button"></button>').find(".ui-spinner-down").bind("mousedown",function(t){e(this).addClass("ui-spinner-pressed"),a.counter||(a.counter=1),a._mousedown(100,"_down",t)}).bind("mouseup",function(t){e(this).removeClass("ui-spinner-pressed"),1==a.counter&&a._down(),a._mouseup(t)}).bind("mouseout",function(t){e(this).removeClass("ui-spinner-pressed"),a.timer&&a._mouseup(t)}).bind("dblclick",function(t){e(this).removeClass("ui-spinner-pressed"),a._down(t),a._mouseup(t)}).bind("keydown.spinner",function(t){var i=e.keyCode;t.keyCode==i.SPACE||t.keyCode==i.ENTER?(e(this).addClass("ui-spinner-pressed"),a.counter||(a.counter=1),a._down.call(a,t)):(t.keyCode==i.UP||t.keyCode==i.LEFT)&&a.element.siblings(".ui-spinner-up").focus()}).bind("keyup.spinner",function(t){e(this).removeClass("ui-spinner-pressed"),a.counter=0,a._propagate("change",t)}).end(),this._items=this.element.children().length,this._items>1){var n=this.element.outerHeight()/this._items;this.element.addClass("ui-spinner-list").height(n).children().addClass("ui-spinner-listitem").height(n).css("overflow","hidden").end().parent().height(n).end(),this.options.stepping=1,this.options.min=0,this.options.max=this._items-1}this.element.bind("keydown.spinner",function(e){return a.counter||(a.counter=1),a._keydown.call(a,e)}).bind("keyup.spinner",function(e){a.counter=0,a._propagate("change",e)}).bind("blur.spinner",function(e){a._cleanUp()}),e.fn.mousewheel&&this.element.mousewheel(function(e,t){a._mousewheel(e,t)})},_constrain:function(){void 0!=this.options.min&&this._getValue()<this.options.min&&this._setValue(this.options.min),void 0!=this.options.max&&this._getValue()>this.options.max&&this._setValue(this.options.max)},_cleanUp:function(){this._setValue(this._getValue()),this._constrain()},_spin:function(e,t){this.disabled||(isNaN(this._getValue())&&this._setValue(this.options.start),this._setValue(this._getValue()+("up"==e?1:-1)*(this.options.incremental&&this.counter>100?this.counter>200?100:10:1)*this.options.stepping),this._animate(e),this._constrain(),this.counter&&this.counter++,this._propagate("spin",t))},_down:function(e){this._spin("down",e),this._propagate("down",e)},_up:function(e){this._spin("up",e),this._propagate("up",e)},_mousedown:function(e,t,i){var s=this;e=e||100,this.timer&&(window.clearInterval(this.timer),this.timer=0),this.timer=window.setInterval(function(){s[t](i),s.counter>20&&s._mousedown(20,t,i)},e)},_mouseup:function(e){this.counter=0,this.timer&&(window.clearInterval(this.timer),this.timer=0),this.element[0].focus(),this._propagate("change",e)},_keydown:function(t){var i=e.keyCode;return t.keyCode==i.UP&&this._up(t),t.keyCode==i.DOWN&&this._down(t),t.keyCode==i.HOME&&this._setValue(this.options.min||this.options.start),t.keyCode==i.END&&void 0!=this.options.max&&this._setValue(this.options.max),t.keyCode==i.TAB||t.keyCode==i.BACKSPACE||t.keyCode==i.LEFT||t.keyCode==i.RIGHT||t.keyCode==i.PERIOD||t.keyCode==i.NUMPAD_DECIMAL||t.keyCode==i.NUMPAD_SUBTRACT||t.keyCode>=96&&t.keyCode<=105||/[0-9\-\.]/.test(String.fromCharCode(t.keyCode))?!0:!1},_mousewheel:function(t,i){var s=this;i=e.browser.opera?-i/Math.abs(i):i,i>0?s._up(t):s._down(t),s.timeout&&(window.clearTimeout(s.timeout),s.timeout=0),s.timeout=window.setTimeout(function(){s._propagate("change",t)},400),t.preventDefault()},_getValue:function(){return parseFloat(this.element.val().replace(/[^0-9\-\.]/g,""))},_setValue:function(t){isNaN(t)&&(t=this.options.start),this.element.val(this.options.currency?e.ui.spinner.format.currency(t,this.options.currency):e.ui.spinner.format.number(t,this._decimals))},_animate:function(e){this.element.hasClass("ui-spinner-list")&&("up"==e&&this._getValue()<=this.options.max||"down"==e&&this._getValue()>=this.options.min)&&this.element.animate({marginTop:"-"+this._getValue()*this.element.parent().height()},{duration:"fast",queue:!1})},_addItem:function(e,t){if(!this.element.is("input")){var i="div";(this.element.is("ol")||this.element.is("ul"))&&(i="li");var s=e;if("object"==typeof e){var a=void 0!==t?t:this.options.format;s=a.replace(/%(\(([^)]+)\))?/g,function(e){return function(t,i,s){if(s)return e[s];for(var a in e)return e[a]}}(e))}this.element.append("<"+i+' class="ui-spinner-data">'+s+"</"+i+">")}},plugins:{},ui:function(e){return{options:this.options,element:this.element,value:this._getValue(),add:this._addItem}},_propagate:function(t,i){return e.ui.plugin.call(this,t,[i,this.ui()]),this.element.triggerHandler("spin"==t?t:"spin"+t,[i,this.ui()],this.options[t])},destroy:function(){e.data(this.element[0],"spinner")&&(e.fn.mousewheel&&this.element.unmousewheel(),this.element.removeClass("ui-spinner-box ui-spinner-list").removeAttr("disabled").removeAttr("autocomplete").removeData("spinner").unbind(".spinner").siblings().remove().end().children().removeClass("ui-spinner-listitem").remove(".ui-spinner-data").end().parent().removeClass("ui-spinner ui-spinner-disabled").before(this.element.clone()).remove().end())},enable:function(){this.element.removeAttr("disabled").siblings().removeAttr("disabled").parent().removeClass("ui-spinner-disabled"),this.disabled=!1},disable:function(){this.element.attr("disabled",!0).siblings().attr("disabled",!0).parent().addClass("ui-spinner-disabled"),this.disabled=!0}}),e.extend(e.ui.spinner,{defaults:{decimals:0,stepping:1,start:0,incremental:!0,currency:!1,format:"%",items:[]},format:{currency:function(e,t){return e=isNaN(e)?0:e,(e!==Math.abs(e)?"-":"")+t+this.number(Math.abs(e),2)},number:function(e,t){var i=/(\d+)(\d{3})/;for(e=isNaN(e)?0:parseFloat(e,10).toFixed(t);i.test(e);e=e.replace(i,"$1$2"));return e}}})}(jQuery),!function(e){function t(t){var i=t||window.event,s=[].slice.call(arguments,1),a=0,n=0,r=0;return t=e.event.fix(i),t.type="mousewheel",i.wheelDelta&&(a=i.wheelDelta/120),i.detail&&(a=-i.detail/3),r=a,void 0!==i.axis&&i.axis===i.HORIZONTAL_AXIS&&(r=0,n=-1*a),void 0!==i.wheelDeltaY&&(r=i.wheelDeltaY/120),void 0!==i.wheelDeltaX&&(n=-1*i.wheelDeltaX/120),s.unshift(t,a,n,r),(e.event.dispatch||e.event.handle).apply(this,s)}var i=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks)for(var s=i.length;s;)e.event.fixHooks[i[--s]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=i.length;e;)this.addEventListener(i[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=i.length;e;)this.removeEventListener(i[--e],t,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery),!function(e){jQuery.fn.extend({elastic:function(){var t=["paddingTop","paddingRight","paddingBottom","paddingLeft","fontSize","lineHeight","fontFamily","width","fontWeight","border-top-width","border-right-width","border-bottom-width","border-left-width","borderTopStyle","borderTopColor","borderRightStyle","borderRightColor","borderBottomStyle","borderBottomColor","borderLeftStyle","borderLeftColor"];return this.each(function(){function i(){var e=Math.floor(parseInt(n.width(),10));r.width()!==e&&(r.css({width:e+"px"}),a(!0))}function s(e,t){var i=Math.floor(parseInt(e,10));n.height()!==i&&n.css({height:i+"px",overflow:t})}function a(e){var t=n.val().replace(/&/g,"&amp;").replace(/ {2}/g,"&nbsp;").replace(/<|>/g,"&gt;").replace(/\n/g,"<br />"),i=r.html().replace(/<br>/gi,"<br />");if((e||t+"&nbsp;"!==i)&&(r.html(t+"&nbsp;"),Math.abs(r.height()+o-n.height())>3)){var a=r.height()+o;a>=u?s(u,"auto"):l>=a?s(l,"hidden"):s(a,"hidden")}}if("textarea"!==this.type)return!1;var n=jQuery(this),r=jQuery("<div />").css({position:"absolute",display:"none","word-wrap":"break-word","white-space":"pre-wrap"}),o=parseInt(n.css("line-height"),10)||parseInt(n.css("font-size"),"10"),l=parseInt(n.css("height"),10)||3*o,u=parseInt(n.css("max-height"),10)||Number.MAX_VALUE;0>u&&(u=Number.MAX_VALUE),r.appendTo(n.parent());for(var d=t.length;d--;)r.css(t[d].toString(),n.css(t[d].toString()));n.css({overflow:"hidden"}),n.bind("keyup change cut paste",function(){a()}),e(window).bind("resize",i),n.bind("resize",i),n.bind("update",a),n.bind("blur",function(){r.height()<u&&(r.height()>l?n.height(r.height()):n.height(l))}),n.bind("input paste",function(e){setTimeout(a,250)}),a()})}})}(jQuery),function(e){function t(t){this.input=t,"password"==t.attr("type")&&this.handlePassword(),e(t[0].form).submit(function(){t.hasClass("placeholder")&&t[0].value==t.attr("placeholder")&&(t[0].value="")})}t.prototype={show:function(e){if(""===this.input[0].value||e&&this.valueIsPlaceholder()){if(this.isPassword)try{this.input[0].setAttribute("type","text")}catch(t){this.input.before(this.fakePassword.show()).hide()}this.input.addClass("placeholder"),this.input[0].value=this.input.attr("placeholder")}},hide:function(){if(this.valueIsPlaceholder()&&this.input.hasClass("placeholder")&&(this.input.removeClass("placeholder"),this.input[0].value="",this.isPassword)){try{this.input[0].setAttribute("type","password")}catch(e){}this.input.show(),this.input[0].focus()}},valueIsPlaceholder:function(){return this.input[0].value==this.input.attr("placeholder")},handlePassword:function(){var t=this.input;if(t.attr("realType","password"),this.isPassword=!0,e.browser.msie&&t[0].outerHTML){var i=e(t[0].outerHTML.replace(/type=(['"])?password\1/gi,"type=$1text$1"));this.fakePassword=i.val(t.attr("placeholder")).addClass("placeholder").focus(function(){t.trigger("focus"),e(this).hide()}),e(t[0].form).submit(function(){i.remove(),t.show()})}}};var i=!!("placeholder"in document.createElement("input"));e.fn.placeholder=function(){return i?this:this.each(function(){var i=e(this),s=new t(i);s.show(!0),i.focus(function(){s.hide()}),i.blur(function(){s.show(!1)}),e.browser.msie&&(e(window).load(function(){i.val()&&i.removeClass("placeholder"),s.show(!0)}),i.focus(function(){if(""==this.value){var e=this.createTextRange();e.collapse(!0),e.moveStart("character",0),e.select()}}))})}}(jQuery),!function(e){e.uniform={options:{selectClass:"selector",radioClass:"radio",checkboxClass:"checker",fileClass:"uploader",filenameClass:"filename",fileBtnClass:"action",fileDefaultText:"No file selected",fileBtnText:"Choose File",checkedClass:"checked",focusClass:"focus",disabledClass:"disabled",buttonClass:"button",activeClass:"active",hoverClass:"hover",useID:!0,idPrefix:"uniform",resetSelector:!1,autoHide:!0},elements:[]},e.browser.msie&&e.browser.version<7?e.support.selectOpacity=!1:e.support.selectOpacity=!0,e.fn.uniform=function(t){function i(t){$el=e(t),$el.addClass($el.attr("type")),u(t)}function s(t){e(t).addClass("uniform"),u(t)}function a(i){var s=e(i),a=e("<div>"),n=e("<span>");a.addClass(t.buttonClass),t.useID&&""!=s.attr("id")&&a.attr("id",t.idPrefix+"-"+s.attr("id"));var r;s.is("a")||s.is("button")?r=s.text():(s.is(":submit")||s.is(":reset")||s.is("input[type=button]"))&&(r=s.attr("value")),r=""==r?s.is(":reset")?"Reset":"Submit":r,n.html(r),s.css("opacity",0),s.wrap(a),s.wrap(n),a=s.closest("div"),n=s.closest("span"),s.is(":disabled")&&a.addClass(t.disabledClass),a.bind({"mouseenter.uniform":function(){a.addClass(t.hoverClass)},"mouseleave.uniform":function(){a.removeClass(t.hoverClass),a.removeClass(t.activeClass)},"mousedown.uniform touchbegin.uniform":function(){a.addClass(t.activeClass)},"mouseup.uniform touchend.uniform":function(){a.removeClass(t.activeClass)},"click.uniform touchend.uniform":function(t){if(e(t.target).is("span")||e(t.target).is("div"))if(i[0].dispatchEvent){var s=document.createEvent("MouseEvents");s.initEvent("click",!0,!0),i[0].dispatchEvent(s)}else i[0].click()}}),i.bind({"focus.uniform":function(){a.addClass(t.focusClass)},"blur.uniform":function(){a.removeClass(t.focusClass)}}),e.uniform.noSelect(a),u(i)}function n(i){var s=e(i),a=e("<div />"),n=e("<span />");"none"==!s.css("display")&&t.autoHide&&a.hide(),a.addClass(t.selectClass),t.useID&&""!=i.attr("id")&&a.attr("id",t.idPrefix+"-"+i.attr("id"));var r=i.find(":selected:first");0==r.length&&(r=i.find("option:first")),n.html(r.html()),i.css("opacity",0),i.wrap(a),i.before(n),a=i.parent("div"),n=i.siblings("span"),i.bind({"change.uniform":function(){n.text(i.find(":selected").html()),a.removeClass(t.activeClass)},"focus.uniform":function(){a.addClass(t.focusClass)},"blur.uniform":function(){a.removeClass(t.focusClass),a.removeClass(t.activeClass)},"mousedown.uniform touchbegin.uniform":function(){a.addClass(t.activeClass)},"mouseup.uniform touchend.uniform":function(){a.removeClass(t.activeClass)},"click.uniform touchend.uniform":function(){a.removeClass(t.activeClass)},"mouseenter.uniform":function(){a.addClass(t.hoverClass)},"mouseleave.uniform":function(){a.removeClass(t.hoverClass),a.removeClass(t.activeClass)},"keyup.uniform":function(){n.text(i.find(":selected").html())}}),e(i).attr("disabled")&&a.addClass(t.disabledClass),e.uniform.noSelect(n),u(i)}function r(i){var s=e(i),a=e("<div />"),n=e("<span />");"none"==!s.css("display")&&t.autoHide&&a.hide(),a.addClass(t.checkboxClass),t.useID&&""!=i.attr("id")&&a.attr("id",t.idPrefix+"-"+i.attr("id")),e(i).wrap(a),e(i).wrap(n),n=i.parent(),a=n.parent(),e(i).css("opacity",0).bind({"focus.uniform":function(){a.addClass(t.focusClass)},"blur.uniform":function(){a.removeClass(t.focusClass)},"click.uniform touchend.uniform":function(){e(i).attr("checked")?n.addClass(t.checkedClass):n.removeClass(t.checkedClass)},"mousedown.uniform touchbegin.uniform":function(){a.addClass(t.activeClass)},"mouseup.uniform touchend.uniform":function(){a.removeClass(t.activeClass)},"mouseenter.uniform":function(){a.addClass(t.hoverClass)},"mouseleave.uniform":function(){a.removeClass(t.hoverClass),a.removeClass(t.activeClass)}}),e(i).attr("checked")&&n.addClass(t.checkedClass),e(i).attr("disabled")&&a.addClass(t.disabledClass),u(i)}function o(i){var s=e(i),a=e("<div />"),n=e("<span />");"none"==!s.css("display")&&t.autoHide&&a.hide(),a.addClass(t.radioClass),t.useID&&""!=i.attr("id")&&a.attr("id",t.idPrefix+"-"+i.attr("id")),e(i).wrap(a),e(i).wrap(n),n=i.parent(),a=n.parent(),e(i).css("opacity",0).bind({"focus.uniform":function(){a.addClass(t.focusClass)},"blur.uniform":function(){a.removeClass(t.focusClass)},"click.uniform touchend.uniform":function(){if(e(i).attr("checked")){var s=t.radioClass.split(" ")[0];e("."+s+" span."+t.checkedClass+":has([name='"+e(i).attr("name")+"'])").removeClass(t.checkedClass),n.addClass(t.checkedClass)}else n.removeClass(t.checkedClass)},"mousedown.uniform touchend.uniform":function(){e(i).is(":disabled")||a.addClass(t.activeClass)},"mouseup.uniform touchbegin.uniform":function(){a.removeClass(t.activeClass)},"mouseenter.uniform touchend.uniform":function(){a.addClass(t.hoverClass)},"mouseleave.uniform":function(){a.removeClass(t.hoverClass),a.removeClass(t.activeClass)}}),e(i).attr("checked")&&n.addClass(t.checkedClass),e(i).attr("disabled")&&a.addClass(t.disabledClass),u(i)}function l(i){var s=e(i),a=e("<div />"),n=e("<span>"+t.fileDefaultText+"</span>"),r=e("<span>"+t.fileBtnText+"</span>");if("none"==!s.css("display")&&t.autoHide&&a.hide(),a.addClass(t.fileClass),n.addClass(t.filenameClass),r.addClass(t.fileBtnClass),t.useID&&""!=s.attr("id")&&a.attr("id",t.idPrefix+"-"+s.attr("id")),s.wrap(a),s.after(r),s.after(n),a=s.closest("div"),n=s.siblings("."+t.filenameClass),r=s.siblings("."+t.fileBtnClass),!s.attr("size")){var o=a.width();s.attr("size",o/10)}var l=function(){var e=s.val();""===e?e=t.fileDefaultText:(e=e.split(/[\/\\]+/),e=e[e.length-1]),n.text(e)};l(),s.css("opacity",0).bind({"focus.uniform":function(){a.addClass(t.focusClass)},"blur.uniform":function(){a.removeClass(t.focusClass)},"mousedown.uniform":function(){e(i).is(":disabled")||a.addClass(t.activeClass)},"mouseup.uniform":function(){a.removeClass(t.activeClass)},"mouseenter.uniform":function(){a.addClass(t.hoverClass)},"mouseleave.uniform":function(){a.removeClass(t.hoverClass),a.removeClass(t.activeClass)}}),e.browser.msie?s.bind("click.uniform.ie7",function(){setTimeout(l,0)}):s.bind("change.uniform",l),s.attr("disabled")&&a.addClass(t.disabledClass),e.uniform.noSelect(n),e.uniform.noSelect(r),u(i)}function u(t){t=e(t).get(),t.length>1?e.each(t,function(t,i){e.uniform.elements.push(i)}):e.uniform.elements.push(t)}t=e.extend(e.uniform.options,t);var d=this;return 0!=t.resetSelector&&e(t.resetSelector).mouseup(function(){function t(){e.uniform.update(d)}setTimeout(t,10)}),e.uniform.restore=function(t){void 0==t&&(t=e(e.uniform.elements)),e(t).each(function(){e(this).is(":checkbox")?e(this).unwrap().unwrap():e(this).is("select")?(e(this).siblings("span").remove(),e(this).unwrap()):e(this).is(":radio")?e(this).unwrap().unwrap():e(this).is(":file")?(e(this).siblings("span").remove(),e(this).unwrap()):e(this).is("button, :submit, :reset, a, input[type='button']")&&e(this).unwrap().unwrap(),e(this).unbind(".uniform"),e(this).css("opacity","1");var i=e.inArray(e(t),e.uniform.elements);e.uniform.elements.splice(i,1)})},e.uniform.noSelect=function(t){function i(){return!1}e(t).each(function(){this.onselectstart=this.ondragstart=i,e(this).mousedown(i).css({MozUserSelect:"none"})})},e.uniform.update=function(i){void 0==i&&(i=e(e.uniform.elements)),i=e(i),i.each(function(){var s=e(this);if(s.is("select")){var a=s.siblings("span"),n=s.parent("div");n.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass),a.html(s.find(":selected").html()),s.is(":disabled")?n.addClass(t.disabledClass):n.removeClass(t.disabledClass)}else if(s.is(":checkbox")){var a=s.closest("span"),n=s.closest("div");n.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass),a.removeClass(t.checkedClass),s.is(":checked")&&a.addClass(t.checkedClass),s.is(":disabled")?n.addClass(t.disabledClass):n.removeClass(t.disabledClass)}else if(s.is(":radio")){var a=s.closest("span"),n=s.closest("div");n.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass),a.removeClass(t.checkedClass),s.is(":checked")&&a.addClass(t.checkedClass),s.is(":disabled")?n.addClass(t.disabledClass):n.removeClass(t.disabledClass)}else if(s.is(":file")){var n=s.parent("div"),r=s.siblings(t.filenameClass);btnTag=s.siblings(t.fileBtnClass),n.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass),r.text(s.val()),s.is(":disabled")?n.addClass(t.disabledClass):n.removeClass(t.disabledClass)}else if(s.is(":submit")||s.is(":reset")||s.is("button")||s.is("a")||i.is("input[type=button]")){var n=s.closest("div");n.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass),s.is(":disabled")?n.addClass(t.disabledClass):n.removeClass(t.disabledClass)}})},this.each(function(){if(e.support.selectOpacity){var t=e(this);t.is("select")?1!=t.attr("multiple")&&"multiple"!=t.attr("multiple")&&(void 0==t.attr("size")||t.attr("size")<=1)&&n(t):t.is(":checkbox")?r(t):t.is(":radio")?o(t):t.is(":file")?l(t):t.is(":text, :password, input[type='email']")?i(t):t.is("textarea")?s(t):(t.is("a")||t.is(":submit")||t.is(":reset")||t.is("button")||t.is("input[type=button]"))&&a(t)}})}}(jQuery),function(e){e.fn.inputlimiter=function(t){var i=e.extend({},e.fn.inputlimiter.defaults,t);i.boxAttach&&!e("#"+i.boxId).length&&(e("<div/>").appendTo("body").attr({id:i.boxId,"class":i.boxClass}).css({position:"absolute"}).hide(),e.fn.bgiframe&&e("#"+i.boxId).bgiframe());var s=function(t){!i.allowExceed&&e(this).val().length>i.limit&&e(this).val(e(this).val().substring(0,i.limit)),i.boxAttach&&e("#"+i.boxId).css({width:e(this).outerWidth()-(e("#"+i.boxId).outerWidth()-e("#"+i.boxId).width())+"px",left:e(this).offset().left+"px",top:e(this).offset().top+e(this).outerHeight()-1+"px","z-index":2e3});var s=i.limit-e(this).val().length,a=i.remTextFilter(i,s),n=i.limitTextFilter(i);if(i.limitTextShow){e("#"+i.boxId).html(a+" "+n);var r=e("").appendTo("body").attr({id:"19cc9195583bfae1fad88e19d443be7a","class":i.boxClass}).html(a+" "+n).innerWidth();e("#19cc9195583bfae1fad88e19d443be7a").remove(),r>e("#"+i.boxId).innerWidth()&&e("#"+i.boxId).html(a+"<br />"+n),e("#"+i.boxId).show()}else e("#"+i.boxId).html(a).show()},a=function(t){return!i.allowExceed&&(!t.keyCode||t.keyCode>46&&t.keyCode<90||13===t.keyCode)&&e(this).val().length>=i.limit?!1:void 0},n=function(){if(i.boxAttach)e("#"+i.boxId).fadeOut("fast");else if(i.remTextHideOnBlur){var t=i.limitText;t=t.replace(/\%n/g,i.limit),t=t.replace(/\%s/g,1===i.limit?"":"s"),e("#"+i.boxId).html(t)}};e(this).each(function(t){e(this).bind("keyup",s),e(this).bind("keypress",a),e(this).bind("blur",n)})},e.fn.inputlimiter.remtextfilter=function(e,t){var i=e.remText;return 0===t&&null!==e.remFullText&&(i=e.remFullText),i=i.replace(/\%n/g,t),i=i.replace(/\%s/g,e.zeroPlural?1===t?"":"s":1>=t?"":"s")},e.fn.inputlimiter.limittextfilter=function(e){var t=e.limitText;return t=t.replace(/\%n/g,e.limit),t=t.replace(/\%s/g,e.limit<=1?"":"s")},e.fn.inputlimiter.defaults={limit:255,boxAttach:!0,boxId:"limiterBox",boxClass:"limiterBox",remText:"%n character%s remaining.",remTextFilter:e.fn.inputlimiter.remtextfilter,remTextHideOnBlur:!0,remFullText:null,limitTextShow:!0,limitText:"Field limited to %n character%s.",limitTextFilter:e.fn.inputlimiter.limittextfilter,zeroPlural:!0,allowExceed:!1}}(jQuery),function(e){var t=new Array,s=new Array;e.fn.doAutosize=function(t){var i=e(this).data("minwidth"),s=e(this).data("maxwidth"),a="",n=e(this),r=e("#"+e(this).data("tester_id"));if(a!==(a=n.val())){var o=a.replace(/&/g,"&").replace(/\s/g," ").replace(/</g,"<").replace(/>/g,">");r.html(o);var l=r.width(),u=l+t.comfortZone>=i?l+t.comfortZone:i,d=n.width(),c=d>u&&u>=i||u>i&&s>u;c&&n.width(u)}},e.fn.resetAutosize=function(t){var i=e(this).data("minwidth")||t.minInputWidth||e(this).width(),s=e(this).data("maxwidth")||t.maxInputWidth||e(this).closest(".tagsinput").width()-t.inputPadding,a=e(this),n=e("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:a.css("fontSize"),fontFamily:a.css("fontFamily"),fontWeight:a.css("fontWeight"),letterSpacing:a.css("letterSpacing"),whiteSpace:"nowrap"}),r=e(this).attr("id")+"_autosize_tester";!e("#"+r).length>0&&(n.attr("id",r),n.appendTo("body")),a.data("minwidth",i),a.data("maxwidth",s),a.data("tester_id",r),a.css("width",i)},e.fn.addTag=function(i,a){return a=jQuery.extend({focus:!1,callback:!0},a),this.each(function(){var n=e(this).attr("id"),r=e(this).val().split(t[n]);if(""==r[0]&&(r=new Array),i=jQuery.trim(i),a.unique){var o=e(r).tagExist(i);1==o&&e("#"+n+"_tag").addClass("not_valid")}else var o=!1;if(""!=i&&1!=o){if(e("<span>").addClass("tag").append(e("<span>").text(i).append("  "),e("<a>",{href:"#",title:"Removing tag",text:"x"}).click(function(){return e("#"+n).removeTag(escape(i))})).insertBefore("#"+n+"_addTag"),r.push(i),e("#"+n+"_tag").val(""),a.focus?e("#"+n+"_tag").focus():e("#"+n+"_tag").blur(),e.fn.tagsInput.updateTagsField(this,r),a.callback&&s[n]&&s[n].onAddTag){var l=s[n].onAddTag;l.call(this,i)}if(s[n]&&s[n].onChange){var u=r.length,l=s[n].onChange;l.call(this,e(this),r[u-1])}}}),!1},e.fn.removeTag=function(a){return a=unescape(a),this.each(function(){var n=e(this).attr("id"),r=e(this).val().split(t[n]);for(e("#"+n+"_tagsinput .tag").remove(),str="",i=0;i<r.length;i++)r[i]!=a&&(str=str+t[n]+r[i]);if(e.fn.tagsInput.importTags(this,str),s[n]&&s[n].onRemoveTag){var o=s[n].onRemoveTag;o.call(this,a)}}),!1},e.fn.tagExist=function(t){return jQuery.inArray(t,e(this))>=0},e.fn.importTags=function(t){id=e(this).attr("id"),e("#"+id+"_tagsinput .tag").remove(),e.fn.tagsInput.importTags(this,t)},e.fn.tagsInput=function(i){var a=jQuery.extend({interactive:!0,defaultText:"add a tag",minChars:0,autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},i);return this.each(function(){a.hide&&e(this).hide();var i=e(this).attr("id"),n=jQuery.extend({pid:i,real_input:"#"+i,holder:"#"+i+"_tagsinput",input_wrapper:"#"+i+"_addTag",fake_input:"#"+i+"_tag"},a);t[i]=n.delimiter,(a.onAddTag||a.onRemoveTag||a.onChange)&&(s[i]=new Array,
s[i].onAddTag=a.onAddTag,s[i].onRemoveTag=a.onRemoveTag,s[i].onChange=a.onChange);var r='<div id="'+i+'_tagsinput" class="tagsinput"><div id="'+i+'_addTag">';if(a.interactive&&(r=r+'<input id="'+i+'_tag" value="" data-default="'+a.defaultText+'" />'),r+='</div><div class="tags_clear"></div></div>',e(r).insertAfter(this),e(n.holder).css("width",a.width),e(n.holder).css("height",a.height),""!=e(n.real_input).val()&&e.fn.tagsInput.importTags(e(n.real_input),e(n.real_input).val()),a.interactive){if(e(n.fake_input).val(e(n.fake_input).attr("data-default")),e(n.fake_input).css("color",a.placeholderColor),e(n.fake_input).resetAutosize(a),e(n.holder).bind("click",n,function(t){e(t.data.fake_input).focus()}),e(n.fake_input).bind("focus",n,function(t){e(t.data.fake_input).val()==e(t.data.fake_input).attr("data-default")&&e(t.data.fake_input).val(""),e(t.data.fake_input).css("color","#000000")}),void 0!=a.autocomplete_url){autocomplete_options={source:a.autocomplete_url};for(attrname in a.autocomplete)autocomplete_options[attrname]=a.autocomplete[attrname];void 0!==jQuery.Autocompleter?(e(n.fake_input).autocomplete(a.autocomplete_url,a.autocomplete),e(n.fake_input).bind("result",n,function(t,s,n){s&&e("#"+i).addTag(s[0]+"",{focus:!0,unique:a.unique})})):void 0!==jQuery.ui.autocomplete&&(e(n.fake_input).autocomplete(autocomplete_options),e(n.fake_input).bind("autocompleteselect",n,function(t,i){return e(t.data.real_input).addTag(i.item.value,{focus:!0,unique:a.unique}),!1}))}else e(n.fake_input).bind("blur",n,function(t){var i=e(this).attr("data-default");return""!=e(t.data.fake_input).val()&&e(t.data.fake_input).val()!=i?t.data.minChars<=e(t.data.fake_input).val().length&&(!t.data.maxChars||t.data.maxChars>=e(t.data.fake_input).val().length)&&e(t.data.real_input).addTag(e(t.data.fake_input).val(),{focus:!0,unique:a.unique}):(e(t.data.fake_input).val(e(t.data.fake_input).attr("data-default")),e(t.data.fake_input).css("color",a.placeholderColor)),!1});e(n.fake_input).bind("keypress",n,function(t){return t.which==t.data.delimiter.charCodeAt(0)||13==t.which?(t.preventDefault(),t.data.minChars<=e(t.data.fake_input).val().length&&(!t.data.maxChars||t.data.maxChars>=e(t.data.fake_input).val().length)&&e(t.data.real_input).addTag(e(t.data.fake_input).val(),{focus:!0,unique:a.unique}),e(t.data.fake_input).resetAutosize(a),!1):void(t.data.autosize&&e(t.data.fake_input).doAutosize(a))}),n.removeWithBackspace&&e(n.fake_input).bind("keydown",function(t){if(8==t.keyCode&&""==e(this).val()){t.preventDefault();var i=e(this).closest(".tagsinput").find(".tag:last").text(),s=e(this).attr("id").replace(/_tag$/,"");i=i.replace(/[\s]+x$/,""),e("#"+s).removeTag(escape(i)),e(this).trigger("focus")}}),e(n.fake_input).blur(),n.unique&&e(n.fake_input).keydown(function(t){(8==t.keyCode||String.fromCharCode(t.which).match(/\w+|[áéíóúÁÉÍÓÚñÑ,\/]+/))&&e(this).removeClass("not_valid")})}return!1}),this},e.fn.tagsInput.updateTagsField=function(i,s){var a=e(i).attr("id");e(i).val(s.join(t[a]))},e.fn.tagsInput.importTags=function(a,n){e(a).val("");var r=e(a).attr("id"),o=n.split(t[r]);for(i=0;i<o.length;i++)e(a).addTag(o[i],{focus:!1,callback:!1});if(s[r]&&s[r].onChange){var l=s[r].onChange;l.call(a,a,o[i])}}}(jQuery),function(e){var t=(e.browser.msie?"paste":"input")+".mask",i=void 0!=window.orientation;e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn"},e.fn.extend({caret:function(e,t){if(0!=this.length){if("number"==typeof e)return t="number"==typeof t?t:e,this.each(function(){if(this.setSelectionRange)this.setSelectionRange(e,t);else if(this.createTextRange){var i=this.createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select()}});if(this[0].setSelectionRange)e=this[0].selectionStart,t=this[0].selectionEnd;else if(document.selection&&document.selection.createRange){var i=document.selection.createRange();e=0-i.duplicate().moveStart("character",-1e5),t=e+i.text.length}return{begin:e,end:t}}},unmask:function(){return this.trigger("unmask")},mask:function(s,a){if(!s&&this.length>0){var n=e(this[0]);return n.data(e.mask.dataName)()}a=e.extend({placeholder:"_",completed:null},a);var r=e.mask.definitions,o=[],l=s.length,u=null,d=s.length;return e.each(s.split(""),function(e,t){"?"==t?(d--,l=e):r[t]?(o.push(new RegExp(r[t])),null==u&&(u=o.length-1)):o.push(null)}),this.trigger("unmask").each(function(){function n(e){for(;++e<=d&&!o[e];);return e}function c(e){for(;--e>=0&&!o[e];);return e}function h(e,t){if(!(0>e)){for(var i=e,s=n(t);d>i;i++)if(o[i]){if(!(d>s&&o[i].test(x[s])))break;x[i]=x[s],x[s]=a.placeholder,s=n(s)}g(),b.caret(Math.max(u,e))}}function f(e){for(var t=e,i=a.placeholder;d>t;t++)if(o[t]){var s=n(t),r=x[t];if(x[t]=i,!(d>s&&o[s].test(r)))break;i=r}}function p(e){var t=e.which;if(8==t||46==t||i&&127==t){var s=b.caret(),a=s.begin,r=s.end;return r-a==0&&(a=46!=t?c(a):r=n(a-1),r=46==t?n(r):r),v(a,r),h(a,r-1),!1}return 27==t?(b.val(C),b.caret(0,_()),!1):void 0}function m(e){var t=e.which,i=b.caret();if(e.ctrlKey||e.altKey||e.metaKey||32>t)return!0;if(t){i.end-i.begin!=0&&(v(i.begin,i.end),h(i.begin,i.end-1));var s=n(i.begin-1);if(d>s){var r=String.fromCharCode(t);if(o[s].test(r)){f(s),x[s]=r,g();var l=n(s);b.caret(l),a.completed&&l>=d&&a.completed.call(b)}}return!1}}function v(e,t){for(var i=e;t>i&&d>i;i++)o[i]&&(x[i]=a.placeholder)}function g(){return b.val(x.join("")).val()}function _(e){for(var t=b.val(),i=-1,s=0,n=0;d>s;s++)if(o[s]){for(x[s]=a.placeholder;n++<t.length;){var r=t.charAt(n-1);if(o[s].test(r)){x[s]=r,i=s;break}}if(n>t.length)break}else x[s]==t.charAt(n)&&s!=l&&(n++,i=s);return!e&&l>i+1?(b.val(""),v(0,d)):(e||i+1>=l)&&(g(),e||b.val(b.val().substring(0,i+1))),l?s:u}var b=e(this),x=e.map(s.split(""),function(e,t){return"?"!=e?r[e]?a.placeholder:e:void 0}),C=b.val();b.data(e.mask.dataName,function(){return e.map(x,function(e,t){return o[t]&&e!=a.placeholder?e:null}).join("")}),b.attr("readonly")||b.one("unmask",function(){b.unbind(".mask").removeData(e.mask.dataName)}).bind("focus.mask",function(){C=b.val();var t=_();g();var i=function(){t==s.length?b.caret(0,t):b.caret(t)};(e.browser.msie?i:function(){setTimeout(i,0)})()}).bind("blur.mask",function(){_(),b.val()!=C&&b.change()}).bind("keydown.mask",p).bind("keypress.mask",m).bind(t,function(){setTimeout(function(){b.caret(_(!0))},0)}),_()})}})}(jQuery),!function(e){var t=function(t){var i=null,s=e("#"+t),a=e("input[name="+t+"]");return s.length?i=s:void 0!=a&&(i=a),i};e.fn.autotab_magic=function(t){for(var i=0;i<this.length;i++){var s=i+1,a=i-1;i>0&&s<this.length?e(this[i]).autotab({target:e(this[s]),previous:e(this[a])}):i>0?e(this[i]).autotab({previous:e(this[a])}):e(this[i]).autotab({target:e(this[s])}),(null!=t&&isNaN(t)&&t==e(this[i]).attr("id")||!isNaN(t)&&t==i)&&e(this[i]).focus()}return this},e.fn.autotab_filter=function(t){var i={format:"all",uppercase:!1,lowercase:!1,nospace:!1,pattern:null};"string"==typeof t||"function"==typeof t?i.format=t:e.extend(i,t);for(var s=0;s<this.length;s++)e(this[s]).bind("keyup",function(e){var t=this.value;switch(i.format){case"text":var s=new RegExp("[0-9]+","g");t=t.replace(s,"");break;case"alpha":var s=new RegExp("[^a-zA-Z]+","g");t=t.replace(s,"");break;case"number":case"numeric":var s=new RegExp("[^0-9]+","g");t=t.replace(s,"");break;case"alphanumeric":var s=new RegExp("[^0-9a-zA-Z]+","g");t=t.replace(s,"");break;case"custom":var s=new RegExp(i.pattern,"g");t=t.replace(s,"");break;case"all":default:if("function"==typeof i.format)var t=i.format(t)}if(i.nospace){var s=new RegExp("[ ]+","g");t=t.replace(s,"")}i.uppercase&&(t=t.toUpperCase()),i.lowercase&&(t=t.toLowerCase()),t!=this.value&&(this.value=t)})},e.fn.autotab=function(i){var s={format:"all",maxlength:2147483647,uppercase:!1,lowercase:!1,nospace:!1,target:null,previous:null,pattern:null};e.extend(s,i),"string"==typeof s.target&&(s.target=t(s.target)),"string"==typeof s.previous&&(s.previous=t(s.previous));var a=e(this).attr("maxlength");return 2147483647==s.maxlength&&2147483647!=a?s.maxlength=a:s.maxlength>0?e(this).attr("maxlength",s.maxlength):s.target=null,"all"!=s.format&&e(this).autotab_filter(s),e(this).bind("keydown",function(e){8==e.which&&0==this.value.length&&s.previous&&s.previous.focus().val(s.previous.val())}).bind("keyup",function(t){var i=[8,9,16,17,18,19,20,27,33,34,35,36,37,38,39,40,45,46,144,145];if(8!=t.which){var a=e(this).val();-1==e.inArray(t.which,i)&&a.length==s.maxlength&&s.target&&s.target.focus()}})}}(jQuery),function(){var e;e=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,i,s,a,n,r;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:e.label,children:0,disabled:e.disabled}),n=e.childNodes,r=[],s=0,a=n.length;a>s;s++)i=n[s],r.push(this.add_option(i,t,e.disabled));return r},e.prototype.add_option=function(e,t,i){return"OPTION"===e.nodeName?(""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:i===!0?i:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e}(),e.select_to_array=function(t){var i,s,a,n,r;for(s=new e,r=t.childNodes,a=0,n=r.length;n>a;a++)i=r[a],s.add_node(i);return s.parsed},this.SelectParser=e}.call(this),function(){var e,t;t=this,e=function(){function e(e,t){this.form_field=e,this.options=null!=t?t:{},this.set_default_values(),this.is_multiple=this.form_field.multiple,this.default_text_default=this.is_multiple?"Select Some Options":"Select an Option",this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup()}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.choices=0,this.results_none_found=this.options.no_results_text||"No results match"},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(e){var t=this;return this.active_field?void 0:setTimeout(function(){return t.container_mousedown()},50)},e.prototype.input_blur=function(e){var t=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return t.blur_test()},100))},e.prototype.result_add_option=function(e){var t,i;return e.disabled?"":(e.dom_id=this.container_id+"_o_"+e.array_index,t=e.selected&&this.is_multiple?[]:["active-result"],e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),i=""!==e.style.cssText?' style="'+e.style+'"':"",'<li id="'+e.dom_id+'" class="'+t.join(" ")+'"'+i+">"+e.html+"</li>")},e.prototype.results_update_field=function(){return this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(e){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.keyup_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.generate_field_id=function(){var e;return e=this.generate_random_id(),this.form_field.id=e,e},e.prototype.generate_random_char=function(){var e,t,i;return e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZ",i=Math.floor(Math.random()*e.length),t=e.substring(i,i+1)},e}(),t.AbstractChosen=e}.call(this),function(){var e,t,i,s,a=Object.prototype.hasOwnProperty,n=function(e,t){function i(){this.constructor=e}for(var s in t)a.call(t,s)&&(e[s]=t[s]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};s=this,e=jQuery,e.fn.extend({chosen:function(i){return!e.browser.msie||"6.0"!==e.browser.version&&"7.0"!==e.browser.version?e(this).each(function(s){return e(this).hasClass("chzn-done")?void 0:new t(this,i)}):this}}),t=function(t){function a(){a.__super__.constructor.apply(this,arguments)}return n(a,t),a.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")},a.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},a.prototype.set_up_html=function(){var t,s,a,n;return this.container_id=this.form_field.id.length?this.form_field.id.replace(/(:|\.)/g,"_"):this.generate_field_id(),this.container_id+="_chzn",this.f_width=this.form_field_jq.outerWidth(),this.default_text=this.form_field_jq.data("placeholder")?this.form_field_jq.data("placeholder"):this.default_text_default,t=e("<div />",{id:this.container_id,"class":"chzn-container"+(this.is_rtl?" chzn-rtl":""),style:"width: "+this.f_width+"px;"}),this.is_multiple?t.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop" style="left:-9000px;"><ul class="chzn-results"></ul></div>'):t.html('<a href="javascript:void(0)" class="chzn-single"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop" style="left:-9000px;"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(t),this.container=e("#"+this.container_id),this.container.addClass("chzn-container-"+(this.is_multiple?"multi":"single")),this.dropdown=this.container.find("div.chzn-drop").first(),s=this.container.height(),a=this.f_width-i(this.dropdown),this.dropdown.css({width:a+"px",top:s+"px"}),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first(),n=a-i(this.search_container)-i(this.search_field),this.search_field.css({width:n+"px"})),this.results_build(),this.set_tab_index(),this.form_field_jq.trigger("liszt:ready",{chosen:this})},a.prototype.register_observers=function(){var e=this;return this.container.mousedown(function(t){return e.container_mousedown(t)}),this.container.mouseup(function(t){return e.container_mouseup(t)}),this.container.mouseenter(function(t){return e.mouse_enter(t)}),this.container.mouseleave(function(t){return e.mouse_leave(t)}),this.search_results.mouseup(function(t){return e.search_results_mouseup(t)}),this.search_results.mouseover(function(t){return e.search_results_mouseover(t)}),this.search_results.mouseout(function(t){return e.search_results_mouseout(t)}),this.form_field_jq.bind("liszt:updated",function(t){return e.results_update_field(t)}),this.search_field.blur(function(t){return e.input_blur(t)}),this.search_field.keyup(function(t){return e.keyup_checker(t)}),this.search_field.keydown(function(t){return e.keydown_checker(t)}),this.is_multiple?(this.search_choices.click(function(t){return e.choices_click(t)}),this.search_field.focus(function(t){return e.input_focus(t)})):this.container.click(function(e){return e.preventDefault()})},a.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chzn-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field()):(this.container.removeClass("chzn-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus",this.activate_action))},a.prototype.container_mousedown=function(t){var i;return this.is_disabled?void 0:(i=null!=t?e(t.target).hasClass("search-choice-close"):!1,t&&"mousedown"===t.type&&t.stopPropagation(),this.pending_destroy_click||i?this.pending_destroy_click=!1:(this.active_field?!this.is_multiple&&t&&(e(t.target)[0]===this.selected_item[0]||e(t.target).parents("a.chzn-single").length)&&(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(document).click(this.click_test_action),this.results_show()),this.activate_field()))},a.prototype.container_mouseup=function(e){return"ABBR"===e.target.nodeName?this.results_reset(e):void 0},a.prototype.blur_test=function(e){return!this.active_field&&this.container.hasClass("chzn-container-active")?this.close_field():void 0},a.prototype.close_field=function(){return e(document).unbind("click",this.click_test_action),this.is_multiple||(this.selected_item.attr("tabindex",this.search_field.attr("tabindex")),this.search_field.attr("tabindex",-1)),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.winnow_results_clear(),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},a.prototype.activate_field=function(){return!this.is_multiple&&!this.active_field&&(this.search_field.attr("tabindex",this.selected_item.attr("tabindex")),this.selected_item.attr("tabindex",-1)),this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},a.prototype.test_active_click=function(t){return e(t.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},a.prototype.results_build=function(){var e,t,i,a,n;for(this.parsing=!0,this.results_data=s.SelectParser.select_to_array(this.form_field),this.is_multiple&&this.choices>0?(this.search_choices.find("li.search-choice").remove(),this.choices=0):this.is_multiple||(this.selected_item.find("span").text(this.default_text),this.form_field.options.length<=this.disable_search_threshold?this.container.addClass("chzn-container-single-nosearch"):this.container.removeClass("chzn-container-single-nosearch")),e="",n=this.results_data,i=0,a=n.length;a>i;i++)t=n[i],t.group?e+=this.result_add_group(t):t.empty||(e+=this.result_add_option(t),t.selected&&this.is_multiple?this.choice_build(t):t.selected&&!this.is_multiple&&(this.selected_item.find("span").text(t.text),this.allow_single_deselect&&this.single_deselect_control_build()));return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.html(e),this.parsing=!1},a.prototype.result_add_group=function(t){return t.disabled?"":(t.dom_id=this.container_id+"_g_"+t.array_index,'<li id="'+t.dom_id+'" class="group-result">'+e("<div />").text(t.label).html()+"</li>")},a.prototype.result_do_highlight=function(e){var t,i,s,a,n;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),s=parseInt(this.search_results.css("maxHeight"),10),n=this.search_results.scrollTop(),a=s+n,i=this.result_highlight.position().top+this.search_results.scrollTop(),t=i+this.result_highlight.outerHeight(),t>=a)return this.search_results.scrollTop(t-s>0?t-s:0);if(n>i)return this.search_results.scrollTop(i)}},a.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},a.prototype.results_show=function(){var e;return this.is_multiple||(this.selected_item.addClass("chzn-single-with-drop"),this.result_single_selected&&this.result_do_highlight(this.result_single_selected)),e=this.is_multiple?this.container.height():this.container.height()-1,this.dropdown.css({top:e+"px",left:0}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results()},a.prototype.results_hide=function(){return this.is_multiple||this.selected_item.removeClass("chzn-single-with-drop"),this.result_clear_highlight(),this.dropdown.css({left:"-9000px"}),this.results_showing=!1},a.prototype.set_tab_index=function(e){var t;return this.form_field_jq.attr("tabindex")?(t=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.is_multiple?this.search_field.attr("tabindex",t):(this.selected_item.attr("tabindex",t),this.search_field.attr("tabindex",-1))):void 0},a.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},a.prototype.search_results_mouseup=function(t){var i;return i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),i.length?(this.result_highlight=i,this.result_select(t)):void 0},a.prototype.search_results_mouseover=function(t){var i;return i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),i?this.result_do_highlight(i):void 0},a.prototype.search_results_mouseout=function(t){return e(t.target).hasClass("active-result")?this.result_clear_highlight():void 0},a.prototype.choices_click=function(t){return t.preventDefault(),!this.active_field||e(t.target).hasClass("search-choice")||this.results_showing?void 0:this.results_show()},a.prototype.choice_build=function(t){var i,s,a=this;return i=this.container_id+"_c_"+t.array_index,this.choices+=1,this.search_container.before('<li class="search-choice" id="'+i+'"><span>'+t.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+t.array_index+'"></a></li>'),s=e("#"+i).find("a").first(),s.click(function(e){return a.choice_destroy_link_click(e)})},a.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),this.is_disabled?t.stopPropagation:(this.pending_destroy_click=!0,this.choice_destroy(e(t.target)))},a.prototype.choice_destroy=function(e){return this.choices-=1,this.show_search_field_default(),this.is_multiple&&this.choices>0&&this.search_field.val().length<1&&this.results_hide(),this.result_deselect(e.attr("rel")),e.parents("li").first().remove()},a.prototype.results_reset=function(t){return this.form_field.options[0].selected=!0,this.selected_item.find("span").text(this.default_text),this.show_search_field_default(),e(t.target).remove(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},a.prototype.result_select=function(e){var t,i,s,a;return this.result_highlight?(t=this.result_highlight,i=t.attr("id"),this.result_clear_highlight(),this.is_multiple?this.result_deactivate(t):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=t),t.addClass("result-selected"),a=i.substr(i.lastIndexOf("_")+1),s=this.results_data[a],s.selected=!0,this.form_field.options[s.options_index].selected=!0,this.is_multiple?this.choice_build(s):(this.selected_item.find("span").first().text(s.text),this.allow_single_deselect&&this.single_deselect_control_build()),(!e.metaKey||!this.is_multiple)&&this.results_hide(),this.search_field.val(""),this.form_field_jq.trigger("change"),this.search_field_scale()):void 0},a.prototype.result_activate=function(e){return e.addClass("active-result")},a.prototype.result_deactivate=function(e){return e.removeClass("active-result")},a.prototype.result_deselect=function(t){var i,s;return s=this.results_data[t],s.selected=!1,this.form_field.options[s.options_index].selected=!1,i=e("#"+this.container_id+"_o_"+t),i.removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change"),this.search_field_scale()},a.prototype.single_deselect_control_build=function(){return this.allow_single_deselect&&this.selected_item.find("abbr").length<1?this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'):void 0},a.prototype.winnow_results=function(){var t,i,s,a,n,r,o,l,u,d,c,h,f,p,m,v,g;for(this.no_results_clear(),l=0,u=this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html(),n=new RegExp("^"+u.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),h=new RegExp(u.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),g=this.results_data,f=0,m=g.length;m>f;f++)if(i=g[f],!i.disabled&&!i.empty)if(i.group)e("#"+i.dom_id).css("display","none");else if(!this.is_multiple||!i.selected){if(t=!1,o=i.dom_id,r=e("#"+o),n.test(i.html))t=!0,l+=1;else if((i.html.indexOf(" ")>=0||0===i.html.indexOf("["))&&(a=i.html.replace(/\[|\]/g,"").split(" "),a.length))for(p=0,v=a.length;v>p;p++)s=a[p],n.test(s)&&(t=!0,l+=1);t?(u.length?(d=i.html.search(h),c=i.html.substr(0,d+u.length)+"</em>"+i.html.substr(d+u.length),c=c.substr(0,d)+"<em>"+c.substr(d)):c=i.html,r.html(c),this.result_activate(r),null!=i.group_array_index&&e("#"+this.results_data[i.group_array_index].dom_id).css("display","list-item")):(this.result_highlight&&o===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(r))}return 1>l&&u.length?this.no_results(u):this.winnow_results_set_highlight()},a.prototype.winnow_results_clear=function(){var t,i,s,a,n;for(this.search_field.val(""),i=this.search_results.find("li"),n=[],s=0,a=i.length;a>s;s++)t=i[s],t=e(t),t.hasClass("group-result")?n.push(t.css("display","auto")):this.is_multiple&&t.hasClass("result-selected")?n.push(void 0):n.push(this.result_activate(t));return n},a.prototype.winnow_results_set_highlight=function(){var e,t;return this.result_highlight||(t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=t.length?t.first():this.search_results.find(".active-result").first(),null==e)?void 0:this.result_do_highlight(e)},a.prototype.no_results=function(t){var i;return i=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(t),this.search_results.append(i)},a.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},a.prototype.keydown_arrow=function(){var t,i;return this.result_highlight?this.results_showing&&(i=this.result_highlight.nextAll("li.active-result").first(),i&&this.result_do_highlight(i)):(t=this.search_results.find("li.active-result").first(),t&&this.result_do_highlight(e(t))),this.results_showing?void 0:this.results_show()},a.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},a.prototype.keydown_backstroke=function(){return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(this.pending_backstroke=this.search_container.siblings("li.search-choice").last(),this.pending_backstroke.addClass("search-choice-focus"))},a.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},a.prototype.keydown_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:this.keydown_arrow()}},a.prototype.search_field_scale=function(){var t,i,s,a,n,r,o,l,u;if(this.is_multiple){for(s=0,o=0,n="position:absolute; left: -1000px; top: -1000px; display:none;",r=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],l=0,u=r.length;u>l;l++)a=r[l],n+=a+":"+this.search_field.css(a)+";";return i=e("<div />",{style:n}),i.text(this.search_field.val()),e("body").append(i),o=i.width()+25,i.remove(),o>this.f_width-10&&(o=this.f_width-10),this.search_field.css({width:o+"px"}),t=this.container.height(),this.dropdown.css({top:t+"px"})}},a.prototype.generate_random_id=function(){var t;for(t="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();e("#"+t).length>0;)t+=this.generate_random_char();return t},a}(AbstractChosen),i=function(e){var t;return t=e.outerWidth()-e.width()},s.get_side_border_padding=i}.call(this),!function(e){function t(t){var i=e("#"+t.view+" option").size(),s=e("#"+t.storage+" option").size();e("#"+t.counter).text("Showing "+i+" of "+(i+s))}function i(i){var a,n=i.index;a=d[n].useFilters?e("#"+i.filter).val().toString().toLowerCase():"",e("#"+i.view+" option").filter(function(t){var i=e(this).text().toString().toLowerCase();return-1==i.indexOf(a)}).appendTo("#"+i.storage),e("#"+i.storage+" option").filter(function(t){var i=e(this).text().toString().toLowerCase();return-1!=i.indexOf(a)}).appendTo("#"+i.view);try{e("#"+i.view+" option").removeAttr("selected")}catch(r){}d[n].useSorting&&s(i),d[n].useCounters&&t(i)}function s(t){var i=e("#"+t.view+" option");i.sort(f[t.index]),e("#"+t.view).empty().append(i)}function a(s,a){u(d[s.index])?e("#"+s.view+" option:selected").appendTo("#"+a.view):e("#"+s.view+" option:selected:not([class*=copiedOption])").clone().appendTo("#"+a.view).end().end().addClass("copiedOption");try{e("#"+s.view+" option,#"+a.view+" option").removeAttr("selected")}catch(n){}i(a),d[s.index].useCounters&&t(s)}function n(s,a){u(d[s.index])?e("#"+s.view+" option").appendTo("#"+a.view):e("#"+s.view+" option:not([class*=copiedOption])").clone().appendTo("#"+a.view).end().end().addClass("copiedOption");try{e("#"+s.view+" option,#"+a.view+" option").removeAttr("selected")}catch(n){}i(a),d[s.index].useCounters&&t(s)}function r(s,a){e("#"+a.view+" option.copiedOption").add("#"+a.storage+" option.copiedOption").remove();try{e("#"+s.view+" option:selected").appendTo("#"+a.view).removeAttr("selected")}catch(n){}e("#"+s.view+" option").add("#"+s.storage+" option").clone().addClass("copiedOption").appendTo("#"+a.view),i(a),d[s.index].useCounters&&t(s)}function o(s,a){e("#"+a.view+" option.copiedOption").add("#"+a.storage+" option.copiedOption").remove();try{e("#"+s.storage+" option").clone().addClass("copiedOption").add("#"+s.view+" option").appendTo("#"+a.view).removeAttr("selected")}catch(n){}i(a),d[s.index].useCounters&&t(s)}function l(i){e("#"+i.filter).val(""),e("#"+i.storage+" option").appendTo("#"+i.view);try{e("#"+i.view+" option").removeAttr("selected")}catch(a){}d[i.index].useSorting&&s(i),d[i.index].useCounters&&t(i)}function u(e){return"move"==e.transferMode}var d=new Array,c=new Array,h=new Array,f=new Array;e.configureBoxes=function(p){var m=d.push({box1View:"box1View",box1Storage:"box1Storage",box1Filter:"box1Filter",box1Clear:"box1Clear",box1Counter:"box1Counter",box2View:"box2View",box2Storage:"box2Storage",box2Filter:"box2Filter",
box2Clear:"box2Clear",box2Counter:"box2Counter",to1:"to1",allTo1:"allTo1",to2:"to2",allTo2:"allTo2",transferMode:"move",sortBy:"text",useFilters:!0,useCounters:!0,useSorting:!0,selectOnSubmit:!0});m--,e.extend(d[m],p),c.push({view:d[m].box1View,storage:d[m].box1Storage,filter:d[m].box1Filter,clear:d[m].box1Clear,counter:d[m].box1Counter,index:m}),h.push({view:d[m].box2View,storage:d[m].box2Storage,filter:d[m].box2Filter,clear:d[m].box2Clear,counter:d[m].box2Counter,index:m}),"text"==d[m].sortBy?f.push(function(e,t){var i=e.text.toLowerCase(),s=t.text.toLowerCase();return s>i?-1:i>s?1:0}):f.push(function(e,t){var i=e.value.toLowerCase(),s=t.value.toLowerCase();return s>i?-1:i>s?1:0}),d[m].useFilters&&(e("#"+c[m].filter).keyup(function(){i(c[m])}),e("#"+h[m].filter).keyup(function(){i(h[m])}),e("#"+c[m].clear).click(function(){l(c[m])}),e("#"+h[m].clear).click(function(){l(h[m])})),u(d[m])?(e("#"+h[m].view).dblclick(function(){a(h[m],c[m])}),e("#"+d[m].to1).click(function(){a(h[m],c[m])}),e("#"+d[m].allTo1).click(function(){n(h[m],c[m])})):(e("#"+h[m].view).dblclick(function(){r(h[m],c[m])}),e("#"+d[m].to1).click(function(){r(h[m],c[m])}),e("#"+d[m].allTo1).click(function(){o(h[m],c[m])})),e("#"+c[m].view).dblclick(function(){a(c[m],h[m])}),e("#"+d[m].to2).click(function(){a(c[m],h[m])}),e("#"+d[m].allTo2).click(function(){n(c[m],h[m])}),d[m].useCounters&&(t(c[m]),t(h[m])),d[m].useSorting&&(s(c[m]),s(h[m])),e("#"+c[m].storage+",#"+h[m].storage).css("display","none"),d[m].selectOnSubmit&&e("#"+d[m].box2View).closest("form").submit(function(){e("#"+d[m].box2View).children("option").attr("selected","selected")})}}(jQuery),!function(e){function t(t){var i=this,s=t.target,a=e.data(s,P),n=J[a],r=n.popupName,o=K[r];if(!i.disabled&&e(s).attr(O)!=O){var l={editor:i,button:s,buttonName:a,popup:o,popupName:r,command:n.command,useCSS:i.options.useCSS};if(n.buttonClick&&n.buttonClick(t,l)===!1)return!1;if("source"==a)k(i)?(delete i.range,i.$area.hide(),i.$frame.show(),s.title=n.title):(i.$frame.hide(),i.$area.show(),s.title="Show Rich Text"),setTimeout(function(){_(i)},100);else if(!k(i)){if(r){var c=e(o);if("url"==r){if("link"==a&&""===w(i))return y(i,"A selection is required when inserting a link.",s),!1;c.children(":button").unbind(I).bind(I,function(){var t=c.find(":text"),s=e.trim(t.val());""!==s&&u(i,l.command,s,null,l.button),t.val("http://"),p(),d(i)})}else"pastetext"==r&&c.children(":button").unbind(I).bind(I,function(){var e=c.find("textarea"),t=e.val().replace(/\n/g,"<br />");""!==t&&u(i,l.command,t,null,l.button),e.val(""),p(),d(i)});if(s!==e.data(o,S))return F(i,o,s),!1;return}if("print"==a)i.$frame[0].contentWindow.print();else if(!u(i,l.command,l.value,l.useCSS,s))return!1}d(i)}}function i(t){var i=e(t.target).closest("div");i.css(A,i.data(P)?"#FFF":"#FFC")}function s(t){e(t.target).closest("div").css(A,"transparent")}function a(t){var i=this,s=t.data.popup,a=t.target;if(s!==K.msg&&!e(s).hasClass(Q)){var n,r=e.data(s,S),o=e.data(r,P),l=J[o],c=l.command,h=i.options.useCSS;"font"==o?n=a.style.fontFamily.replace(/"/g,""):"size"==o?("DIV"==a.tagName&&(a=a.children[0]),n=a.innerHTML):"style"==o?n="<"+a.tagName+">":"color"==o?n=f(a.style.backgroundColor):"highlight"==o&&(n=f(a.style.backgroundColor),Y?c="backcolor":h=!0);var m={editor:i,button:r,buttonName:o,popup:s,popupName:l.popupName,command:c,value:n,useCSS:h};if(!l.popupClick||l.popupClick(t,m)!==!1){if(m.command&&!u(i,m.command,m.value,m.useCSS,r))return!1;p(),d(i)}}}function n(e){for(var t=1,i=0,s=0;s<e.length;++s)t=(t+e.charCodeAt(s))%65521,i=(i+t)%65521;return i<<16|t}function r(e){e.$area.val(""),T(e)}function o(t,a,n,r,o){if(K[t])return K[t];var l=e(N).hide().addClass(V).appendTo("body");if(r)l.html(r);else if("color"==t){var u=a.colors.split(" ");u.length<10&&l.width("auto"),e.each(u,function(t,i){e(N).appendTo(l).css(A,"#"+i)}),n=W}else"font"==t?e.each(a.fonts.split(","),function(t,i){e(N).appendTo(l).css("fontFamily",i).html(i)}):"size"==t?e.each(a.sizes.split(","),function(t,i){e(N).appendTo(l).html("<font size="+i+">"+i+"</font>")}):"style"==t?e.each(a.styles,function(t,i){e(N).appendTo(l).html(i[1]+i[0]+i[1].replace("<","</"))}):"url"==t?(l.html('Enter URL:<br><input type=text value="http://" size=35><br><input type=button value="Submit" class="blueB mt10">'),n=Q):"pastetext"==t&&(l.html("Paste your content here and click submit.<br /><textarea cols=40 rows=3></textarea><br /><input type=button value=Submit>"),n=Q);return n||r||(n=U),l.addClass(n),Y&&l.attr(M,"on").find("div,font,p,h1,h2,h3,h4,h5,h6").attr(M,"on"),(l.hasClass(U)||o===!0)&&l.children().hover(i,s),K[t]=l[0],l[0]}function l(e,t){t?(e.$area.attr(O,O),e.disabled=!0):(e.$area.removeAttr(O),delete e.disabled);try{Y?e.doc.body.contentEditable=!t:e.doc.designMode=t?"off":"on"}catch(i){}_(e)}function u(e,t,i,s,a){b(e),Y||((void 0===s||null===s)&&(s=e.options.useCSS),e.doc.execCommand("styleWithCSS",0,s.toString()));var n,r=!0;if(Y&&"inserthtml"==t.toLowerCase())c(e).pasteHTML(i);else{try{r=e.doc.execCommand(t,0,i||null)}catch(o){n=o.description,r=!1}r||("cutcopypaste".indexOf(t)>-1?y(e,"For security reasons, your browser does not support the "+t+" command. Try using the keyboard shortcut or context menu instead.",a):y(e,n?n:"Error executing the "+t+" command.",a))}return _(e),r}function d(e){setTimeout(function(){k(e)?e.$area.focus():e.$frame[0].contentWindow.focus(),_(e)},0)}function c(e){return Y?h(e).createRange():h(e).getRangeAt(0)}function h(e){return Y?e.doc.selection:e.$frame[0].contentWindow.getSelection()}function f(e){var t=/rgba?\((\d+), (\d+), (\d+)/.exec(e),i=e.split("");if(t)for(e=(t[1]<<16|t[2]<<8|t[3]).toString(16);e.length<6;)e="0"+e;return"#"+(6==e.length?e:i[1]+i[1]+i[2]+i[2]+i[3]+i[3])}function p(){e.each(K,function(t,i){e(i).hide().unbind(I).removeData(S)})}function m(){var t="jquery.cleditor.css",i=e("link[href$='"+t+"']").attr("href");return i.substr(0,i.length-t.length)+"images/"}function v(e){return"url("+m()+e+")"}function g(t){var i=t.$main,s=t.options;t.$frame&&t.$frame.remove();var a=t.$frame=e('<iframe frameborder="0" src="javascript:true;">').hide().appendTo(i),n=a[0].contentWindow,r=t.doc=n.document,o=e(r);r.open(),r.write(s.docType+"<html>"+(""===s.docCSSFile?"":'<head><link rel="stylesheet" type="text/css" href="'+s.docCSSFile+'" /></head>')+'<body style="'+s.bodyStyle+'"></body></html>'),r.close(),Y&&o.click(function(){d(t)}),T(t),Y&&(o.bind("beforedeactivate beforeactivate selectionchange keypress",function(e){if("beforedeactivate"==e.type)t.inactive=!0;else if("beforeactivate"==e.type)!t.inactive&&t.range&&t.range.length>1&&t.range.shift(),delete t.inactive;else if(!t.inactive)for(t.range||(t.range=[]),t.range.unshift(c(t));t.range.length>2;)t.range.pop()}),a.focus(function(){b(t)})),(e.browser.mozilla?o:e(n)).blur(function(){D(t,!0)}),o.click(p).bind("keyup mouseup",function(){_(t)}),Z?t.$area.show():a.show(),e(function(){var e=t.$toolbar,n=e.children("div:last"),r=i.width(),o=n.offset().top+n.outerHeight()-e.offset().top+1;e.height(o),o=(/%/.test(""+s.height)?i.height():parseInt(s.height))-o,a.width(r).height(o),t.$area.width(r).height(X?o-2:o),l(t,t.disabled),_(t)})}function _(t){Z||!e.browser.webkit||t.focused||(t.$frame[0].contentWindow.focus(),window.focus(),t.focused=!0);var i=t.doc;Y&&(i=c(t));var s=k(t);e.each(t.$toolbar.find("."+$),function(a,n){var r=e(n),o=e.cleditor.buttons[e.data(n,P)],l=o.command,u=!0;if(t.disabled)u=!1;else if(o.getEnabled){var d={editor:t,button:n,buttonName:o.name,popup:K[o.popupName],popupName:o.popupName,command:o.command,useCSS:t.options.useCSS};u=o.getEnabled(d),void 0===u&&(u=!0)}else if((s||Z)&&"source"!=o.name||Y&&("undo"==l||"redo"==l))u=!1;else if(l&&"print"!=l&&(Y&&"hilitecolor"==l&&(l="backcolor"),!Y||"inserthtml"!=l))try{u=i.queryCommandEnabled(l)}catch(c){u=!1}u?(r.removeClass(H),r.removeAttr(O)):(r.addClass(H),r.attr(O,O))})}function b(e){Y&&e.range&&e.range[0].select()}function x(e){setTimeout(function(){k(e)?e.$area.select():u(e,"selectall")},0)}function C(t){b(t);var i=c(t);if(Y)return i.htmlText;var s=e("<layer>")[0];s.appendChild(i.cloneContents());var a=s.innerHTML;return s=null,a}function w(e){return b(e),Y?c(e).text:h(e).toString()}function y(e,t,i){var s=o("msg",e.options,G);s.innerHTML=t,F(e,s,i)}function F(t,i,s){var n,r,o,l=e(i);if(s){var u=e(s);n=u.offset(),r=--n.left,o=n.top+u.height()}else{var d=t.$toolbar;n=d.offset(),r=Math.floor((d.width()-l.width())/2)+n.left,o=n.top+d.height()-2}p(),l.css({left:r,top:o}).show(),s&&(e.data(i,S,s),l.bind(I,{popup:i},e.proxy(a,t))),setTimeout(function(){l.find(":text,textarea").eq(0).focus().select()},100)}function k(e){return e.$area.is(":visible")}function T(t,i){var s=t.$area.val(),a=t.options,r=a.updateFrame,o=e(t.doc.body);if(r){var l=n(s);if(i&&t.areaChecksum==l)return;t.areaChecksum=l}var u=r?r(s):s;u=u.replace(/<(?=\/?script)/gi,"&lt;"),a.updateTextArea&&(t.frameChecksum=n(u)),u!=o.html()&&(o.html(u),e(t).triggerHandler(z))}function D(t,i){var s=e(t.doc.body).html(),a=t.options,r=a.updateTextArea,o=t.$area;if(r){var l=n(s);if(i&&t.frameChecksum==l)return;t.frameChecksum=l}var u=r?r(s):s;a.updateFrame&&(t.areaChecksum=n(u)),u!=o.val()&&(o.val(u),e(t).triggerHandler(z))}e.cleditor={defaultOptions:{width:500,height:250,controls:"bold italic underline strikethrough subscript superscript | font size style | color highlight removeformat | bullets numbering | outdent indent | alignleft center alignright justify | undo redo | rule image link unlink | cut copy paste pastetext | print source",colors:"FFF FCC FC9 FF9 FFC 9F9 9FF CFF CCF FCF CCC F66 F96 FF6 FF3 6F9 3FF 6FF 99F F9F BBB F00 F90 FC6 FF0 3F3 6CC 3CF 66C C6C 999 C00 F60 FC3 FC0 3C0 0CC 36F 63F C3C 666 900 C60 C93 990 090 399 33F 60C 939 333 600 930 963 660 060 366 009 339 636 000 300 630 633 330 030 033 006 309 303",fonts:"Arial,Arial Black,Comic Sans MS,Courier New,Narrow,Garamond,Georgia,Impact,Sans Serif,Serif,Tahoma,Trebuchet MS,Verdana",sizes:"1,2,3,4,5,6,7",styles:[["Paragraph","<p>"],["Header 1","<h1>"],["Header 2","<h2>"],["Header 3","<h3>"],["Header 4","<h4>"],["Header 5","<h5>"],["Header 6","<h6>"]],useCSS:!1,docType:'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">',docCSSFile:"",bodyStyle:"margin:4px; font:10pt Arial,Verdana; cursor:text"},buttons:{init:"bold,,|italic,,|underline,,|strikethrough,,|subscript,,|superscript,,|font,,fontname,|size,Font Size,fontsize,|style,,formatblock,|color,Font Color,forecolor,|highlight,Text Highlight Color,hilitecolor,color|removeformat,Remove Formatting,|bullets,,insertunorderedlist|numbering,,insertorderedlist|outdent,,|indent,,|alignleft,Align Text Left,justifyleft|center,,justifycenter|alignright,Align Text Right,justifyright|justify,,justifyfull|undo,,|redo,,|rule,Insert Horizontal Rule,inserthorizontalrule|image,Insert Image,insertimage,url|link,Insert Hyperlink,createlink,url|unlink,Remove Hyperlink,|cut,,|copy,,|paste,,|pastetext,Paste as Text,inserthtml,|print,,|source,Show Source"},imagesPath:function(){return m()}},e.fn.cleditor=function(t){var i=e([]);return this.each(function(s,a){if("TEXTAREA"==a.tagName){var n=e.data(a,j);n||(n=new cleditor(a,t)),i=i.add(n)}}),i};var E,A="backgroundColor",S="button",P="buttonName",z="change",j="cleditor",I="click",O="disabled",N="<div>",M="unselectable",R="cleditorMain",L="cleditorToolbar",q="cleditorGroup",$="cleditorButton",H="cleditorDisabled",B="cleditorDivider",V="cleditorPopup",U="cleditorList",W="cleditorColor",Q="cleditorPrompt",G="cleditorMsg",Y=e.browser.msie,X=/msie\s6/i.test(navigator.userAgent),Z=/iphone|ipad|ipod/i.test(navigator.userAgent),K={},J=e.cleditor.buttons;e.each(J.init.split("|"),function(e,t){var i=t.split(","),s=i[0];J[s]={stripIndex:e,name:s,title:""===i[1]?s.charAt(0).toUpperCase()+s.substr(1):i[1],command:""===i[2]?s:i[2],popupName:""===i[3]?s:i[3]}}),delete J.init,cleditor=function(a,n){var r=this;r.options=n=e.extend({},e.cleditor.defaultOptions,n);var l=r.$area=e(a).hide().data(j,r).blur(function(){T(r,!0)}),u=r.$main=e(N).addClass(R).width(n.width).height(n.height),d=r.$toolbar=e(N).addClass(L).appendTo(u),c=e(N).addClass(q).appendTo(d);e.each(n.controls.split(" "),function(a,l){if(""===l)return!0;if("|"==l)e(N).addClass(B).appendTo(c),c=e(N).addClass(q).appendTo(d);else{var u=J[l],h=e(N).data(P,u.name).addClass($).attr("title",u.title).bind(I,e.proxy(t,r)).appendTo(c).hover(i,s),f={};u.css?f=u.css:u.image&&(f.backgroundImage=v(u.image)),u.stripIndex&&(f.backgroundPosition=-24*u.stripIndex),h.css(f),Y&&h.attr(M,"on"),u.popupName&&o(u.popupName,n,u.popupClass,u.popupContent,u.popupHover)}}),u.insertBefore(l).append(l),E||(e(document).click(function(t){var i=e(t.target);i.add(i.parents()).is("."+Q)||p()}),E=!0),/auto|%/.test(""+n.width+n.height)&&e(window).resize(function(){g(r)}),g(r)};var ee=cleditor.prototype,te=[["clear",r],["disable",l],["execCommand",u],["focus",d],["hidePopups",p],["sourceMode",k,!0],["refresh",g],["select",x],["selectedHTML",C,!0],["selectedText",w,!0],["showMessage",y],["updateFrame",T],["updateTextArea",D]];e.each(te,function(e,t){ee[t[0]]=function(){for(var e=this,i=[e],s=0;s<arguments.length;s++)i.push(arguments[s]);var a=t[1].apply(e,i);return t[2]?a:e}}),ee.change=function(t){var i=e(this);return t?i.bind(z,t):i.trigger(z)}}(jQuery),!function(e){e.iButton={version:"1.0.03",setDefaults:function(t){e.extend(s,t)}},e.fn.iButton=function(t){var s="string"==typeof arguments[0]&&arguments[0],a=s&&Array.prototype.slice.call(arguments,1)||arguments,n=0==this.length?null:e.data(this[0],"iButton");if(n&&s&&this.length){if("object"==s.toLowerCase())return n;if(n[s]){var r;return this.each(function(t){var i=e.data(this,"iButton")[s].apply(n,a);if(0==t&&i){if(!i.jquery)return r=i,!1;r=e([]).add(i)}else i&&i.jquery&&(r=r.add(i))}),r||this}return this}return this.each(function(){new i(this,t)})};var t=0;e.browser.iphone=navigator.userAgent.toLowerCase().indexOf("iphone")>-1;var i=function(i,r){var o=this,l=e(i),u=++t,d=!1,c={},h={dragging:!1,clicked:null},f={position:null,offset:null,time:null},r=e.extend({},s,r,e.metadata?l.metadata():{}),p=r.labelOn==a&&r.labelOff==n,m=":checkbox, :radio";if(!l.is(m))return l.find(m).iButton(r);if(!e.data(l[0],"iButton")){e.data(l[0],"iButton",o),"auto"==r.resizeHandle&&(r.resizeHandle=!p),"auto"==r.resizeContainer&&(r.resizeContainer=!p),this.toggle=function(e){var t=arguments.length>0?e:!l[0].checked;l.attr("checked",t).trigger("change")},this.disable=function(t){var i=arguments.length>0?t:!d;d=i,l.attr("disabled",i),v[i?"addClass":"removeClass"](r.classDisabled),e.isFunction(r.disable)&&r.disable.apply(o,[d,l,r])},this.repaint=function(){y()},this.destroy=function(){e([l[0],v[0]]).unbind(".iButton"),e(document).unbind(".iButton_"+u),v.after(l).remove(),e.data(l[0],"iButton",null),e.isFunction(r.destroy)&&r.destroy.apply(o,[l,r])},l.wrap('<div class="'+e.trim(r.classContainer+" "+r.className)+'" />').after('<div class="'+r.classHandle+'"><div class="'+r.classHandleRight+'"><div class="'+r.classHandleMiddle+'" /></div></div><div class="'+r.classLabelOff+'"><span><label>'+r.labelOff+'</label></span></div><div class="'+r.classLabelOn+'"><span><label>'+r.labelOn+'</label></span></div><div class="'+r.classPaddingLeft+'"></div><div class="'+r.classPaddingRight+'"></div>');var v=l.parent(),g=l.siblings("."+r.classHandle),_=l.siblings("."+r.classLabelOff),b=_.children("span"),x=l.siblings("."+r.classLabelOn),C=x.children("span");(r.resizeHandle||r.resizeContainer)&&(c.onspan=C.outerWidth(),c.offspan=b.outerWidth()),r.resizeHandle?(c.handle=Math.min(c.onspan,c.offspan),g.css("width",c.handle)):c.handle=g.width(),r.resizeContainer?(c.container=Math.max(c.onspan,c.offspan)+c.handle+16,v.css("width",c.container),_.css("width",c.container-5)):c.container=v.width();var w=c.container-c.handle-6,y=function(e){var t=l[0].checked,i=t?w:0,e=arguments.length>0?arguments[0]:!0;e&&r.enableFx?(g.stop().animate({left:i},r.duration,r.easing),x.stop().animate({width:i+0},r.duration,r.easing),C.stop().animate({marginLeft:i-w},r.duration,r.easing),b.stop().animate({marginRight:-i},r.duration,r.easing)):(g.css("left",i),x.css("width",i+0),C.css("marginLeft",i-w),b.css("marginRight",-i))};y(!1);var F=function(e){return e.pageX||(e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].pageX:0)};v.bind("mousedown.iButton touchstart.iButton",function(t){return e(t.target).is(m)||d||!r.allowRadioUncheck&&l.is(":radio:checked")?void 0:(t.preventDefault(),h.clicked=g,f.position=F(t),f.offset=f.position-(parseInt(g.css("left"),10)||0),f.time=(new Date).getTime(),!1)}),r.enableDrag&&e(document).bind("mousemove.iButton_"+u+" touchmove.iButton_"+u,function(e){if(h.clicked==g){e.preventDefault();var t=F(e);t!=f.offset&&(h.dragging=!0,v.addClass(r.classHandleActive));var i=Math.min(1,Math.max(0,(t-f.offset)/w));return g.css("left",i*w),x.css("width",i*w+4),b.css("marginRight",-i*w),C.css("marginLeft",-(1-i)*w),!1}}),e(document).bind("mouseup.iButton_"+u+" touchend.iButton_"+u,function(t){if(h.clicked!=g)return!1;t.preventDefault();var i=!0;if(!h.dragging||(new Date).getTime()-f.time<r.clickOffset){var s=l[0].checked;l.attr("checked",!s),e.isFunction(r.click)&&r.click.apply(o,[!s,l,r])}else{var a=F(t),n=(a-f.offset)/w,s=n>=.5;l[0].checked==s&&(i=!1),l.attr("checked",s)}return v.removeClass(r.classHandleActive),h.clicked=null,h.dragging=null,i?l.trigger("change"):y(),!1}),l.bind("change.iButton",function(){if(y(),l.is(":radio")){var t=l[0],i=e(t.form?t.form[t.name]:":radio[name="+t.name+"]");i.filter(":not(:checked)").iButton("repaint")}e.isFunction(r.change)&&r.change.apply(o,[l,r])}).bind("focus.iButton",function(){v.addClass(r.classFocus)}).bind("blur.iButton",function(){v.removeClass(r.classFocus)}),e.isFunction(r.click)&&l.bind("click.iButton",function(){r.click.apply(o,[l[0].checked,l,r])}),l.is(":disabled")&&this.disable(!0),e.browser.msie&&(v.find("*").andSelf().attr("unselectable","on"),l.bind("click.iButton",function(){l.triggerHandler("change.iButton")})),e.isFunction(r.init)&&r.init.apply(o,[l,r])}},s={duration:100,easing:"swing",labelOn:"ON",labelOff:"OFF",resizeHandle:"auto",resizeContainer:"auto",enableDrag:!0,enableFx:!0,allowRadioUncheck:!1,clickOffset:120,className:"",classContainer:"ibutton-container",classDisabled:"ibutton-disabled",classFocus:"ibutton-focus",classLabelOn:"ibutton-label-on",classLabelOff:"ibutton-label-off",classHandle:"ibutton-handle",classHandleMiddle:"ibutton-handle-middle",classHandleRight:"ibutton-handle-right",classHandleActive:"ibutton-active-handle",classPaddingLeft:"ibutton-padding-left",classPaddingRight:"ibutton-padding-right",init:null,change:null,click:null,disable:null,destroy:null},a=s.labelOn,n=s.labelOff}(jQuery),!function(e){e.fn.validationEngineLanguage=function(){},e.validationEngineLanguage={newLang:function(){e.validationEngineLanguage.allRules={required:{regex:"none",alertText:"* This field is required",alertTextCheckboxMultiple:"* Please select an option",alertTextCheckboxe:"* This checkbox is required",alertTextDateRange:"* Both date range fields are required"},dateRange:{regex:"none",alertText:"* Invalid ",alertText2:"Date Range"},dateTimeRange:{regex:"none",alertText:"* Invalid ",alertText2:"Date Time Range"},minSize:{regex:"none",alertText:"* Minimum ",alertText2:" characters allowed"},maxSize:{regex:"none",alertText:"* Maximum ",alertText2:" characters allowed"},groupRequired:{regex:"none",alertText:"* You must fill one of the following fields"},min:{regex:"none",alertText:"* Minimum value is "},max:{regex:"none",alertText:"* Maximum value is "},past:{regex:"none",alertText:"* Date prior to "},future:{regex:"none",alertText:"* Date past "},maxCheckbox:{regex:"none",alertText:"* Maximum ",alertText2:" options allowed"},minCheckbox:{regex:"none",alertText:"* Please select ",alertText2:" options"},equals:{regex:"none",alertText:"* Fields do not match"},creditCard:{regex:"none",alertText:"* Invalid credit card number"},phone:{regex:/^([\+][0-9]{1,3}[ \.\-])?([\(]{1}[0-9]{2,6}[\)])?([0-9 \.\-\/]{3,20})((x|ext|extension)[ ]?[0-9]{1,4})?$/,alertText:"* Invalid phone number"},email:{regex:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,alertText:"* Invalid email address"},integer:{regex:/^[\-\+]?\d+$/,alertText:"* Not a valid integer"},number:{regex:/^[\-\+]?(([0-9]+)([\.,]([0-9]+))?|([\.,]([0-9]+))?)$/,alertText:"* Invalid floating decimal number"},date:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/,alertText:"* Invalid date, must be in YYYY-MM-DD format"},ipv4:{regex:/^((([01]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))[.]){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))$/,alertText:"* Invalid IP address"},url:{regex:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,alertText:"* Invalid URL"},onlyNumberSp:{regex:/^[0-9\ ]+$/,alertText:"* Numbers only"},onlyLetterSp:{regex:/^[a-zA-Z\ \']+$/,alertText:"* Letters only"},onlyLetterNumber:{regex:/^[0-9a-zA-Z]+$/,alertText:"* No special characters allowed"},ajaxUserCall:{url:"ajaxValidateFieldUser",extraData:"name=eric",alertText:"* This user is already taken",alertTextLoad:"* Validating, please wait"},ajaxUserCallPhp:{url:"phpajax/ajaxValidateFieldUser.php",extraData:"name=eric",alertTextOk:"* This username is available",alertText:"* This user is already taken",alertTextLoad:"* Validating, please wait"},ajaxNameCall:{url:"ajaxValidateFieldName",alertText:"* This name is already taken",alertTextOk:"* This name is available",alertTextLoad:"* Validating, please wait"},ajaxNameCallPhp:{url:"phpajax/ajaxValidateFieldName.php",alertText:"* This name is already taken",alertTextLoad:"* Validating, please wait"},validate2fields:{alertText:"* Please input HELLO"},dateFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/,alertText:"* Invalid Date"},dateTimeFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/,alertText:"* Invalid Date or Date Format",alertText2:"Expected Format: ",alertText3:"mm/dd/yyyy hh:mm:ss AM|PM or ",alertText4:"yyyy-mm-dd hh:mm:ss AM|PM"}}}},e.validationEngineLanguage.newLang()}(jQuery),!function(e){var t={init:function(i){var s=this;return s.data("jqv")&&null!=s.data("jqv")||(i=t._saveOptions(s,i),e(".formError").live("click",function(){e(this).fadeOut(150,function(){e(this).parent(".formErrorOuter").remove(),e(this).remove()})})),this},attach:function(i){var s,a=this;return s=i?t._saveOptions(a,i):a.data("jqv"),a.find("[data-validation-engine*=validate]")?"data-validation-engine":"class",s.binded||("bind"==s.bindMethod?(a.find("[class*=validate]").not("[type=checkbox]").not("[type=radio]").not(".datepicker").bind(s.validationEventTrigger,t._onFieldEvent),a.find("[class*=validate][type=checkbox],[class*=validate][type=radio]").bind("click",t._onFieldEvent),a.find("[class*=validate][class*=datepicker]").bind(s.validationEventTrigger,{delay:300},t._onFieldEvent),a.bind("submit",t._onSubmitEvent)):"live"==s.bindMethod&&(a.find("[class*=validate]").not("[type=checkbox]").not(".datepicker").live(s.validationEventTrigger,t._onFieldEvent),a.find("[class*=validate][type=checkbox]").live("click",t._onFieldEvent),a.find("[class*=validate][class*=datepicker]").live(s.validationEventTrigger,{delay:300},t._onFieldEvent),a.live("submit",t._onSubmitEvent)),s.binded=!0,s.autoPositionUpdate&&e(window).bind("resize",{noAnimation:!0,formElem:a},t.updatePromptsPosition)),this},detach:function(){var i=this,s=i.data("jqv");return s.binded&&(i.find("[class*=validate]").not("[type=checkbox]").unbind(s.validationEventTrigger,t._onFieldEvent),i.find("[class*=validate][type=checkbox],[class*=validate][type=radio]").unbind("click",t._onFieldEvent),i.unbind("submit",t.onAjaxFormComplete),i.find("[class*=validate]").not("[type=checkbox]").die(s.validationEventTrigger,t._onFieldEvent),i.find("[class*=validate][type=checkbox]").die("click",t._onFieldEvent),i.die("submit",t.onAjaxFormComplete),i.removeData("jqv"),s.autoPositionUpdate&&e(window).unbind("resize",t.updatePromptsPosition)),this},validate:function(){return t._validateFields(this)},validateField:function(i){var s=e(this).data("jqv"),a=t._validateField(e(i),s);return s.onSuccess&&0==s.InvalidFields.length?s.onSuccess():s.onFailure&&s.InvalidFields.length>0&&s.onFailure(),a},validateform:function(){return t._onSubmitEvent.call(this)},updatePromptsPosition:function(i){if(i&&this==window)var s=i.data.formElem,a=i.data.noAnimation;else var s=e(this.closest("form"));var n=s.data("jqv");return s.find("[class*=validate]").not(":hidden").not(":disabled").each(function(){var i=e(this),s=t._getPrompt(i),r=e(s).find(".formErrorContent").html();s&&t._updatePrompt(i,e(s),r,void 0,!1,n,a)}),this},showPrompt:function(e,i,s,a){var n=this.closest("form"),r=n.data("jqv");return r||(r=t._saveOptions(this,r)),s&&(r.promptPosition=s),r.showArrow=1==a,t._showPrompt(this,e,i,!1,r),this},hidePrompt:function(){var i="."+t._getClassName(e(this).attr("id"))+"formError";return e(i).fadeTo("fast",.3,function(){e(this).parent(".formErrorOuter").remove(),e(this).remove()}),this},hide:function(){var i;return i=e(this).is("form")?"parentForm"+t._getClassName(e(this).attr("id")):t._getClassName(e(this).attr("id"))+"formError",e("."+i).fadeTo("fast",.3,function(){e(this).parent(".formErrorOuter").remove(),e(this).remove()}),this},hideAll:function(){return e(".formError").fadeTo("fast",.3,function(){e(this).parent(".formErrorOuter").remove(),e(this).remove()}),this},_onFieldEvent:function(i){var s=e(this),a=s.closest("form"),n=a.data("jqv");window.setTimeout(function(){t._validateField(s,n),0==n.InvalidFields.length&&n.onSuccess?n.onSuccess():n.InvalidFields.length>0&&n.onFailure&&n.onFailure()},i.data?i.data.delay:0)},_onSubmitEvent:function(){var i=e(this),s=i.data("jqv"),a=t._validateFields(i,!0);return a&&s.ajaxFormValidation?(t._validateFormWithAjax(i,s),!1):s.onValidationComplete?(s.onValidationComplete(i,a),!1):a},_checkAjaxStatus:function(t){var i=!0;return e.each(t.ajaxValidCache,function(e,t){return t?void 0:(i=!1,!1)}),i},_validateFields:function(i,s){var a=i.data("jqv"),n=!1;i.trigger("jqv.form.validating");var r=null;if(i.find("[class*=validate]").not(":hidden").not(":disabled").each(function(){var i=e(this);return n|=t._validateField(i,a,s),i.focus(),a.doNotShowAllErrosOnSubmit?!1:void(n&&null==r&&(r=i))}),i.trigger("jqv.form.result",[n]),n){if(a.scroll){var o=r.offset().top,l=r.offset().left,u=a.promptPosition;if("string"==typeof u&&-1!=u.indexOf(":")&&(u=u.substring(0,u.indexOf(":"))),"bottomRight"!=u&&"bottomLeft"!=u){var d=t._getPrompt(r);o=d.offset().top}if(a.isOverflown){var c=e(a.overflownDIV);if(!c.length)return!1;var h=c.scrollTop(),f=-parseInt(c.offset().top);o+=h+f-5;var p=e(a.overflownDIV+":not(:animated)");p.animate({scrollTop:o},1100)}else e("html:not(:animated),body:not(:animated)").animate({scrollTop:o,scrollLeft:l},1100,function(){a.focusFirstField&&r.focus()})}else a.focusFirstField&&r.focus();return!1}return!0},_validateFormWithAjax:function(i,s){var a=i.serialize(),n=s.ajaxFormValidationURL?s.ajaxFormValidationURL:i.attr("action");e.ajax({type:"GET",url:n,cache:!1,dataType:"json",data:a,form:i,methods:t,options:s,beforeSend:function(){return s.onBeforeAjaxFormValidation(i,s)},error:function(e,i){t._ajaxError(e,i)},success:function(a){if(a!==!0){for(var n=!1,r=0;r<a.length;r++){var o=a[r],l=o[0],u=e(e("#"+l)[0]);if(1==u.length){var d=o[2];if(1==o[1])if(""!=d&&d){if(s.allrules[d]){var c=s.allrules[d].alertTextOk;c&&(d=c)}t._showPrompt(u,d,"pass",!1,s,!0)}else t._closePrompt(u);else{if(n|=!0,s.allrules[d]){var c=s.allrules[d].alertText;c&&(d=c)}t._showPrompt(u,d,"",!1,s,!0)}}}s.onAjaxFormComplete(!n,i,a,s)}else s.onAjaxFormComplete(!0,i,"",s)}})},_validateField:function(i,s,a){i.attr("id")||e.error("jQueryValidate: an ID attribute is required for this field: "+i.attr("name")+" class:"+i.attr("class"));var n=i.attr("class"),r=/validate\[(.*)\]/.exec(n);if(!r)return!1;var o=r[1],l=o.split(/\[|,|\]/),u=!1,d=i.attr("name"),c="",h=!1;s.isError=!1,s.showArrow=!0;for(var f=e(i.closest("form")),p=0;p<l.length;p++){l[p]=l[p].replace(" ","");var m=void 0;switch(l[p]){case"required":h=!0,m=t._required(i,l,p,s);break;case"custom":m=t._customRegex(i,l,p,s);break;case"groupRequired":var v="[class*="+l[p+1]+"]",g=f.find(v).eq(0);if(g[0]!=i[0]){t._validateField(g,s,a),s.showArrow=!0;continue}m=t._groupRequired(i,l,p,s),m&&(h=!0),s.showArrow=!1;break;case"ajax":a||(t._ajax(i,l,p,s),u=!0);break;case"minSize":m=t._minSize(i,l,p,s);break;case"maxSize":m=t._maxSize(i,l,p,s);break;case"min":m=t._min(i,l,p,s);break;case"max":m=t._max(i,l,p,s);break;case"past":m=t._past(i,l,p,s);break;case"future":m=t._future(i,l,p,s);break;case"dateRange":var v="[class*="+l[p+1]+"]",g=f.find(v).eq(0),_=f.find(v).eq(1);(g[0].value||_[0].value)&&(m=t._dateRange(g,_,l,p,s)),m&&(h=!0),s.showArrow=!1;break;case"dateTimeRange":var v="[class*="+l[p+1]+"]",g=f.find(v).eq(0),_=f.find(v).eq(1);(g[0].value||_[0].value)&&(m=t._dateTimeRange(g,_,l,p,s)),m&&(h=!0),s.showArrow=!1;break;case"maxCheckbox":m=t._maxCheckbox(f,i,l,p,s),i=e(f.find("input[name='"+d+"']"));break;case"minCheckbox":m=t._minCheckbox(f,i,l,p,s),i=e(f.find("input[name='"+d+"']"));break;case"equals":m=t._equals(i,l,p,s);break;case"funcCall":m=t._funcCall(i,l,p,s);break;case"creditCard":
m=t._creditCard(i,l,p,s)}void 0!==m&&(c+=m+"<br/>",s.isError=!0)}h||""!=i.val()||(s.isError=!1);var b=i.prop("type");("radio"==b||"checkbox"==b)&&f.find("input[name='"+d+"']").size()>1&&(i=e(f.find("input[name='"+d+"'][type!=hidden]:first")),s.showArrow=!1),"text"==b&&f.find("input[name='"+d+"']").size()>1&&(i=e(f.find("input[name='"+d+"'][type!=hidden]:first")),s.showArrow=!1),s.isError?t._showPrompt(i,c,"",!1,s):u||t._closePrompt(i),u||i.trigger("jqv.field.result",[i,s.isError,c]);var x=e.inArray(i[0],s.InvalidFields);return-1==x?s.isError&&s.InvalidFields.push(i[0]):s.isError||s.InvalidFields.splice(x,1),s.isError},_required:function(e,t,i,s){switch(e.prop("type")){case"text":case"password":case"textarea":case"file":default:if(!e.val())return s.allrules[t[i]].alertText;break;case"radio":case"checkbox":var a=e.closest("form"),n=e.attr("name");if(0==a.find("input[name='"+n+"']:checked").size())return 1==a.find("input[name='"+n+"']").size()?s.allrules[t[i]].alertTextCheckboxe:s.allrules[t[i]].alertTextCheckboxMultiple;break;case"select-one":if(!e.val())return s.allrules[t[i]].alertText;break;case"select-multiple":if(!e.find("option:selected").val())return s.allrules[t[i]].alertText}},_groupRequired:function(i,s,a,n){var r="[class*="+s[a+1]+"]",o=!1;return i.closest("form").find(r).each(function(){return t._required(e(this),s,a,n)?void 0:(o=!0,!1)}),o?void 0:n.allrules[s[a]].alertText},_customRegex:function(e,t,i,s){var a=t[i+1],n=s.allrules[a];if(!n)return void alert("jqv:custom rule not found "+a);var r=n.regex;if(!r)return void alert("jqv:custom regex not found "+a);var o=new RegExp(r);return o.test(e.val())?void 0:s.allrules[a].alertText},_funcCall:function(e,t,i,s){var a=t[i+1],n=window[a]||s.customFunctions[a];return"function"==typeof n?n(e,t,i,s):void 0},_equals:function(t,i,s,a){var n=i[s+1];return t.val()!=e("#"+n).val()?a.allrules.equals.alertText:void 0},_maxSize:function(e,t,i,s){var a=t[i+1],n=e.val().length;if(n>a){var r=s.allrules.maxSize;return r.alertText+a+r.alertText2}},_minSize:function(e,t,i,s){var a=t[i+1],n=e.val().length;if(a>n){var r=s.allrules.minSize;return r.alertText+a+r.alertText2}},_min:function(e,t,i,s){var a=parseFloat(t[i+1]),n=parseFloat(e.val());if(a>n){var r=s.allrules.min;return r.alertText2?r.alertText+a+r.alertText2:r.alertText+a}},_max:function(e,t,i,s){var a=parseFloat(t[i+1]),n=parseFloat(e.val());if(n>a){var r=s.allrules.max;return r.alertText2?r.alertText+a+r.alertText2:r.alertText+a}},_past:function(e,i,s,a){var n=i[s+1],r="now"==n.toLowerCase()?new Date:t._parseDate(n),o=t._parseDate(e.val());if(o>r){var l=a.allrules.past;return l.alertText2?l.alertText+t._dateToString(r)+l.alertText2:l.alertText+t._dateToString(r)}},_future:function(e,i,s,a){var n=i[s+1],r="now"==n.toLowerCase()?new Date:t._parseDate(n),o=t._parseDate(e.val());if(r>o){var l=a.allrules.future;return l.alertText2?l.alertText+t._dateToString(r)+l.alertText2:l.alertText+t._dateToString(r)}},_isDate:function(e){var t=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/);return t.test(e)?!0:!1},_isDateTime:function(e){var t=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/);return t.test(e)?!0:!1},_dateCompare:function(e,t){return new Date(e.toString())<new Date(t.toString())},_dateRange:function(e,i,s,a,n){return!e[0].value&&i[0].value||e[0].value&&!i[0].value?n.allrules[s[a]].alertText+n.allrules[s[a]].alertText2:t._isDate(e[0].value)&&t._isDate(i[0].value)&&t._dateCompare(e[0].value,i[0].value)?void 0:n.allrules[s[a]].alertText+n.allrules[s[a]].alertText2},_dateTimeRange:function(e,i,s,a,n){return!e[0].value&&i[0].value||e[0].value&&!i[0].value?n.allrules[s[a]].alertText+n.allrules[s[a]].alertText2:t._isDateTime(e[0].value)&&t._isDateTime(i[0].value)&&t._dateCompare(e[0].value,i[0].value)?void 0:n.allrules[s[a]].alertText+n.allrules[s[a]].alertText2},_maxCheckbox:function(e,t,i,s,a){var n=i[s+1],r=t.attr("name"),o=e.find("input[name='"+r+"']:checked").size();return o>n?(a.showArrow=!1,a.allrules.maxCheckbox.alertText2?a.allrules.maxCheckbox.alertText+" "+n+" "+a.allrules.maxCheckbox.alertText2:a.allrules.maxCheckbox.alertText):void 0},_minCheckbox:function(e,t,i,s,a){var n=i[s+1],r=t.attr("name"),o=e.find("input[name='"+r+"']:checked").size();return n>o?(a.showArrow=!1,a.allrules.minCheckbox.alertText+" "+n+" "+a.allrules.minCheckbox.alertText2):void 0},_creditCard:function(e,t,i,s){var a=!1,n=e.val().replace(/ +/g,"").replace(/-+/g,""),r=n.length;if(r>=14&&16>=r&&parseInt(n)>0){var o,l=0,i=r-1,u=1,d=new String;do o=parseInt(n.charAt(i)),d+=u++%2==0?2*o:o;while(--i>=0);for(i=0;i<d.length;i++)l+=parseInt(d.charAt(i));a=l%10==0}return a?void 0:s.allrules.creditCard.alertText},_ajax:function(i,s,a,n){var r=s[a+1],o=n.allrules[r],l=o.extraData,u=o.extraDataDynamic;if(l||(l=""),u){for(var d=[],c=String(u).split(","),a=0;a<c.length;a++){var h=c[a];if(e(h).length){var f=i.closest("form").find(h).val(),p=h.replace("#","")+"="+escape(f);d.push(p)}}u=d.join("&")}else u="";n.isError||e.ajax({type:"GET",url:o.url,cache:!1,dataType:"json",data:"fieldId="+i.attr("id")+"&fieldValue="+i.val()+"&extraData="+l+"&"+u,field:i,rule:o,methods:t,options:n,beforeSend:function(){var e=o.alertTextLoad;e&&t._showPrompt(i,e,"load",!0,n)},error:function(e,i){t._ajaxError(e,i)},success:function(i){var s=i[0],a=e(e("#"+s)[0]);if(1==a.length){var r=i[1],l=i[2];if(r){if(void 0!==n.ajaxValidCache[s]&&(n.ajaxValidCache[s]=!0),l){if(n.allrules[l]){var u=n.allrules[l].alertTextOk;u&&(l=u)}}else l=o.alertTextOk;l?t._showPrompt(a,l,"pass",!0,n):t._closePrompt(a)}else{if(n.ajaxValidCache[s]=!1,n.isError=!0,l){if(n.allrules[l]){var u=n.allrules[l].alertText;u&&(l=u)}}else l=o.alertText;t._showPrompt(a,l,"",!0,n)}}a.trigger("jqv.field.result",[a,!n.isError,l])}})},_ajaxError:function(e,t){0==e.status&&null==t?alert("The page is not served from a server! ajax call failed"):"undefined"!=typeof console&&console.log("Ajax error: "+e.status+" "+t)},_dateToString:function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},_parseDate:function(e){var t=e.split("-");return t==e&&(t=e.split("/")),new Date(t[0],t[1]-1,t[2])},_showPrompt:function(e,i,s,a,n,r){var o=t._getPrompt(e);r&&(o=!1),o?t._updatePrompt(e,o,i,s,a,n):t._buildPrompt(e,i,s,a,n)},_buildPrompt:function(i,s,a,n,r){var o=e("<div>");switch(o.addClass(t._getClassName(i.attr("id"))+"formError"),i.is(":input")&&o.addClass("parentForm"+t._getClassName(i.parents("form").attr("id"))),o.addClass("formError"),a){case"pass":o.addClass("greenPopup");break;case"load":o.addClass("blackPopup");break;default:r.InvalidCount++}if(n&&o.addClass("ajaxed"),e("<div>").addClass("formErrorContent").html(s).appendTo(o),r.showArrow){var l=e("<div>").addClass("formErrorArrow"),u=i.data("promptPosition")||r.promptPosition;switch("string"==typeof u&&-1!=u.indexOf(":")&&(u=u.substring(0,u.indexOf(":"))),u){case"bottomLeft":case"bottomRight":o.find(".formErrorContent").before(l),l.addClass("formErrorArrowBottom").html('<div class="line1"><!-- --></div><div class="line2"><!-- --></div><div class="line3"><!-- --></div><div class="line4"><!-- --></div><div class="line5"><!-- --></div><div class="line6"><!-- --></div><div class="line7"><!-- --></div><div class="line8"><!-- --></div><div class="line9"><!-- --></div><div class="line10"><!-- --></div>');break;case"topLeft":case"topRight":l.html('<div class="line10"><!-- --></div><div class="line9"><!-- --></div><div class="line8"><!-- --></div><div class="line7"><!-- --></div><div class="line6"><!-- --></div><div class="line5"><!-- --></div><div class="line4"><!-- --></div><div class="line3"><!-- --></div><div class="line2"><!-- --></div><div class="line1"><!-- --></div>'),o.append(l)}}if(r.relative){var d=e("<span>").css("position","relative").css("vertical-align","top").addClass("formErrorOuter").append(o.css("position","absolute"));i.before(d)}else r.isOverflown?i.before(o):e("body").append(o);var c=t._calculatePosition(i,o,r);return o.css({top:c.callerTopPosition,left:c.callerleftPosition,marginTop:c.marginTopSize,opacity:0}).data("callerField",i),r.autoHidePrompt?(setTimeout(function(){o.animate({opacity:0},function(){o.closest(".formErrorOuter").remove(),o.remove()})},r.autoHideDelay),o.animate({opacity:.87})):o.animate({opacity:.87})},_updatePrompt:function(e,i,s,a,n,r,o){if(i){"undefined"!=typeof a&&("pass"==a?i.addClass("greenPopup"):i.removeClass("greenPopup"),"load"==a?i.addClass("blackPopup"):i.removeClass("blackPopup")),n?i.addClass("ajaxed"):i.removeClass("ajaxed"),i.find(".formErrorContent").html(s);var l=t._calculatePosition(e,i,r);css={top:l.callerTopPosition,left:l.callerleftPosition,marginTop:l.marginTopSize},o?i.css(css):i.animate(css)}},_closePrompt:function(e){var i=t._getPrompt(e);i&&i.fadeTo("fast",0,function(){i.parent(".formErrorOuter").remove(),i.remove()})},closePrompt:function(e){return t._closePrompt(e)},_getPrompt:function(i){var s=t._getClassName(i.attr("id"))+"formError",a=e("."+t._escapeExpression(s))[0];return a?e(a):void 0},_escapeExpression:function(e){return e.replace(/([#;&,\.\+\*\~':"\!\^$\[\]\(\)=>\|])/g,"\\$1")},isRTL:function(t){var i=e(document),s=e("body"),a=t&&t.hasClass("rtl")||t&&"rtl"===(t.attr("dir")||"").toLowerCase()||i.hasClass("rtl")||"rtl"===(i.attr("dir")||"").toLowerCase()||s.hasClass("rtl")||"rtl"===(s.attr("dir")||"").toLowerCase();return Boolean(a)},_calculatePosition:function(e,i,s){var a,n,r,o=e.width(),l=i.height(),u=s.isOverflown||s.relative;if(u)a=n=0,r=-l;else{var d=e.offset();a=d.top,n=d.left,r=0}var c=e.data("promptPosition")||s.promptPosition,h="",f="",p=0,m=0;if("string"==typeof c&&-1!=c.indexOf(":")&&(h=c.substring(c.indexOf(":")+1),c=c.substring(0,c.indexOf(":")),-1!=h.indexOf(",")&&(f=h.substring(h.indexOf(",")+1),h=h.substring(0,h.indexOf(",")),m=parseInt(f),isNaN(m)&&(m=0)),p=parseInt(h),isNaN(h)&&(h=0)),t.isRTL(e))switch(c){default:case"topLeft":u?n-=i.width()-30:(n-=i.width()-30,a+=-l-2);break;case"topRight":u?n+=o-i.width():(n+=o-i.width(),a+=-l-2);break;case"centerRight":u?(a=e.outerHeight(),n=e.outerWidth(1)+5):n+=e.outerWidth()+5;break;case"centerLeft":n-=i.width()+2;break;case"bottomLeft":n+=-i.width()+30,a=a+e.height()+15;break;case"bottomRight":n+=o-i.width(),a+=e.height()+15}else switch(c){default:case"topRight":u?n+=o-30:(n+=o-130,a+=-l-2);break;case"topLeft":a+=-l-10;break;case"centerRight":u?(a=e.outerHeight(),n=e.outerWidth(1)+5):n+=e.outerWidth()+5;break;case"centerLeft":n-=i.width()+2;break;case"bottomLeft":a=a+e.height()+15;break;case"bottomRight":n+=o-30,a+=e.height()+5}return n+=p,a+=m,{callerTopPosition:a+"px",callerleftPosition:n+"px",marginTopSize:r+"px"}},_saveOptions:function(t,i){if(e.validationEngineLanguage)var s=e.validationEngineLanguage.allRules;else e.error("jQuery.validationEngine rules are not loaded, plz add localization files to the page");e.validationEngine.defaults.allrules=s;var a=e.extend(!0,{},e.validationEngine.defaults,i);return jim=a,a.isOverflown&&(a.relative=!0),a.relative&&(a.isOverflown=!0),t.data("jqv",a),a},_getClassName:function(e){return e?e.replace(/:/g,"_").replace(/\./g,"_"):void 0}};e.fn.validationEngine=function(i){var s=e(this);return s[0]?"string"==typeof i&&"_"!=i.charAt(0)&&t[i]?("showPrompt"!=i&&"hidePrompt"!=i&&"hide"!=i&&"hideAll"!=i&&t.init.apply(s),t[i].apply(s,Array.prototype.slice.call(arguments,1))):"object"!=typeof i&&i?void e.error("Method "+i+" does not exist in jQuery.validationEngine"):(t.init.apply(s,arguments),t.attach.apply(s)):!1},e.validationEngine={defaults:{validationEventTrigger:"blur",scroll:!0,focusFirstField:!0,promptPosition:"topRight",bindMethod:"bind",inlineAjax:!1,ajaxFormValidation:!1,ajaxFormValidationURL:!1,onAjaxFormComplete:e.noop,onBeforeAjaxFormValidation:e.noop,onValidationComplete:!1,relative:!1,isOverflown:!1,overflownDIV:"",doNotShowAllErrosOnSubmit:!1,binded:!1,showArrow:!0,isError:!1,ajaxValidCache:{},autoPositionUpdate:!1,InvalidFields:[],onSuccess:!1,onFailure:!1,autoHidePrompt:!1,autoHideDelay:1e4}},e(function(){e.validationEngine.defaults.promptPosition=t.isRTL()?"topLeft":"topRight"})}(jQuery);